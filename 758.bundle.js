"use strict";(self.webpackChunk_ibyar_webpack=self.webpackChunk_ibyar_webpack||[]).push([[758],{394:(t,n,e)=>{e.d(n,{x:()=>o});var r=e(163);function o(t,n,e,r,o){return new i(t,n,e,r,o)}var i=function(t){function n(n,e,r,o,i,u){var s=t.call(this,n)||this;return s.onFinalize=i,s.shouldUnsubscribe=u,s._next=e?function(t){try{e(t)}catch(t){n.error(t)}}:t.prototype._next,s._error=o?function(t){try{o(t)}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return(0,r.ZT)(n,t),n.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e=this.closed;t.prototype.unsubscribe.call(this),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}},n}(e(471).Lv)},984:(t,n,e)=>{e.d(n,{U:()=>i});var r=e(118),o=e(394);function i(t,n){return(0,r.e)((function(e,r){var i=0;e.subscribe((0,o.x)(r,(function(e){r.next(t.call(n,e,i++))})))}))}},118:(t,n,e)=>{e.d(n,{e:()=>o});var r=e(126);function o(t){return function(n){if(function(t){return(0,r.m)(null==t?void 0:t.lift)}(n))return n.lift((function(n){try{return t(n,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}},758:(t,n,e)=>{e.r(n),e.d(n,{ExpressionEditorComponent:()=>A});var r=e(163),o=e(809),i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},u=e(126),s=e(919),c=e(105),a="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",l=e(278);function f(t){if(t instanceof s.y)return t;if(null!=t){if(function(t){return(0,u.m)(t[c.L])}(t))return v=t,new s.y((function(t){var n=v[c.L]();if((0,u.m)(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(i(t))return f=t,new s.y((function(t){for(var n=0;n<f.length&&!t.closed;n++)t.next(f[n]);t.complete()}));if(o=t,(0,u.m)(null==o?void 0:o.then))return e=t,new s.y((function(t){e.then((function(n){t.closed||(t.next(n),t.complete())}),(function(n){return t.error(n)})).then(null,l.h)}));if(function(t){return Symbol.asyncIterator&&(0,u.m)(null==t?void 0:t[Symbol.asyncIterator])}(t))return d(t);if(function(t){return(0,u.m)(null==t?void 0:t[a])}(t))return n=t,new s.y((function(t){var e,o;try{for(var i=(0,r.XA)(n),u=i.next();!u.done;u=i.next()){var s=u.value;if(t.next(s),t.closed)return}}catch(t){e={error:t}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}t.complete()}));if(function(t){return(0,u.m)(null==t?void 0:t.getReader)}(t))return d(function(t){return(0,r.FC)(this,arguments,(function(){var n,e,o;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:n=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.qq)(n.read())];case 3:return e=i.sent(),o=e.value,e.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.qq)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}(t))}var n,e,o,f,v;throw function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(t)}function d(t){return new s.y((function(n){(function(t,n){var e,o,i,u;return(0,r.mG)(this,void 0,void 0,(function(){var s,c;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),e=(0,r.KL)(t),a.label=1;case 1:return[4,e.next()];case 2:if((o=a.sent()).done)return[3,4];if(s=o.value,n.next(s),n.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=a.sent(),i={error:c},[3,11];case 6:return a.trys.push([6,,9,10]),o&&!o.done&&(u=e.return)?[4,u.call(e)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}}))}))})(t,n).catch((function(t){return n.error(t)}))}))}var v=e(984),p=e(118),h=e(394);function b(t,n,e){return void 0===e&&(e=1/0),(0,u.m)(n)?b((function(e,r){return(0,v.U)((function(t,o){return n(e,t,r,o)}))(f(t(e,r)))}),e):("number"==typeof n&&(e=n),(0,p.e)((function(n,r){return function(t,n,e,r,o,i,u,s){var c=[],a=0,l=0,d=!1,v=function(){!d||c.length||a||n.complete()},p=function(t){return a<r?b(t):c.push(t)},b=function(t){a++;var o=!1;f(e(t,l++)).subscribe((0,h.x)(n,(function(t){n.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{a--;for(var t=function(){var t=c.shift();b(t)};c.length&&a<r;)t();v()}catch(t){n.error(t)}})))};return t.subscribe((0,h.x)(n,p,(function(){d=!0,v()}))),function(){}}(n,r,t,e)})))}var m=Array.isArray;var y=["addListener","removeListener"],x=["addEventListener","removeEventListener"],w=["on","off"];function g(t,n,e,o){if((0,u.m)(e)&&(o=e,e=void 0),o)return g(t,n,e).pipe((c=o,(0,v.U)((function(t){return function(t,n){return m(n)?t.apply(void 0,(0,r.ev)([],(0,r.CR)(n))):t(n)}(c,t)}))));var c,a=(0,r.CR)(function(t){return(0,u.m)(t.addEventListener)&&(0,u.m)(t.removeEventListener)}(t)?x.map((function(r){return function(o){return t[r](n,o,e)}})):function(t){return(0,u.m)(t.addListener)&&(0,u.m)(t.removeListener)}(t)?y.map(L(t,n)):function(t){return(0,u.m)(t.on)&&(0,u.m)(t.off)}(t)?w.map(L(t,n)):[],2),l=a[0],d=a[1];if(!l&&i(t))return b((function(t){return g(t,n,e)}))(f(t));if(!l)throw new TypeError("Invalid event target");return new s.y((function(t){var n=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.next(1<n.length?n:n[0])};return l(n),function(){return d(n)}}))}function L(t,n){return function(e){return function(r){return t[e](n,r)}}}var E=e(508),T=e(676);function _(t,n){return t===n}let A=class{constructor(){this.ast="",this.str="",this.examples=["IMPORT_ALL","IMPORT_DEFAULT","IMPORT_NAMED","IMPORT_NAMED_ALIAS","PLAY","CLASS_EXAMPLE"]}onInit(){this.loadExample("IMPORT_ALL")}loadExample(t){this.example=t,e.e(327).then(e.bind(e,327)).then((t=>(this.error.innerText="",t))).then((n=>this.loadCode(n[t]))).then((t=>this.editor.value=t))}afterViewInit(){var t,n,e;g(this.editor,"change").pipe((0,v.U)((()=>this.editor.value)),(400,void 0===e&&(e=E.z),(0,p.e)((function(t,n){var r=null,o=null,i=null,u=function(){if(r){r.unsubscribe(),r=null;var t=o;o=null,n.next(t)}};function s(){var t=i+400,o=e.now();if(o<t)return r=this.schedule(void 0,t-o),void n.add(r);u()}t.subscribe((0,h.x)(n,(function(t){o=t,i=e.now(),r||(r=e.schedule(s,400),n.add(r))}),(function(){u(),n.complete()}),void 0,(function(){o=r=null})))}))),(void 0===n&&(n=T.y),t=null!=t?t:_,(0,p.e)((function(e,r){var o,i=!0;e.subscribe((0,h.x)(r,(function(e){var u=n(e);!i&&t(o,u)||(i=!1,o=u,r.next(e))})))})))).subscribe((t=>this.loadCode(t)))}loadCode(t){if(!t)return this.ast="",void(this.str="");try{const n=o.SjL.parse(t,{mode:o.CDg.Strict});this.ast=JSON.stringify(n.toJSON(),void 0,2),this.str=n.toString(),this.node=n}catch(t){this.error.innerText=t.stack??t??"exception",console.error(t)}return t}stringify(t){return JSON.stringify(t,void 0,2)}executeCode(){this.logs.innerText="",this.error.innerText="";try{const t={log:(...t)=>{this.logs.innerText+=t.map((t=>this.stringify(t))).join(" ").concat("\n"),console.log(...t)}};t.log("run code...");const n={console:t},e=new o.Kqy(o.sXi.for(n));this.node.get(e)}catch(t){this.error.innerText=t.stack??t??"exception",console.error(t)}}splitUnderscore(t){return t.replace(/_/g," ")}};(0,r.gn)([(0,o.i9L)("editor"),(0,r.w6)("design:type",HTMLTextAreaElement)],A.prototype,"editor",void 0),(0,r.gn)([(0,o.i9L)("logs"),(0,r.w6)("design:type",HTMLPreElement)],A.prototype,"logs",void 0),(0,r.gn)([(0,o.i9L)("error"),(0,r.w6)("design:type",HTMLPreElement)],A.prototype,"error",void 0),A=(0,r.gn)([(0,o.wA2)({selector:"expression-editor",template:'\n\t\t<div class="content w-100 h-100">\n\t\t\t<div class="box">\n\t\t\t\t<div class="column">\n\t\t\t\t\t<div class="h-25 d-flex flex-column d-flex justify-content-evenly">\n\t\t\t\t\t\t<button class="btn"\n\t\t\t\t\t\t\t*for="let name of examples"\n\t\t\t\t\t\t\t@click="loadExample(name)"\n\t\t\t\t\t\t\t[class]="{\'btn-outline-primary\': example == name, \'btn-link\': example != name}"\n\t\t\t\t\t\t\t>{{name |> splitUnderscore |> titlecase}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="column"><textarea #editor cols="40" rows="700">...</textarea></div>\n\t\t\t\t<div class="column">\n\t\t\t\t\t<div class="d-flex flex-column">\n\t\t\t\t\t\t<pre class="text-success">{{str}}</pre>\n\t\t\t\t\t\t<button class="btn btn-outline-primary" (click)="executeCode()">Run</button>\n\t\t\t\t\t\t<pre class="text-secondary" #logs></pre>\n\t\t\t\t\t\t<pre class="text-danger" #error></pre>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="column"><pre>{{ast}}</pre></div>\n\t\t\t</div>\n\t\t</div>\n\t\t',styles:"\n\t.content {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t}\n\n\t.box {\n\t\tdisplay: flex;\n\t\tmin-height: min-content;\n\t}\n\n\t.column {\n\t\tpadding: 20px;\n\t\tborder-right: 1px solid #999;\n\t\toverflow-y: auto;\n\t\tmax-width: 700px;\n\t}\n\n\t.column > pre, textarea {\n\t\theight: 750px;\n\t\toverflow: unset !important;\n\t}\n"})],A)}}]);