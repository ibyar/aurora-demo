"use strict";(self.webpackChunk_ibyar_webpack=self.webpackChunk_ibyar_webpack||[]).push([[950],{2950:(e,t,s)=>{s.d(t,{aL:()=>d}),Symbol.metadata||Object.defineProperty(Symbol,"metadata",{configurable:!1,enumerable:!1,writable:!1,value:Symbol("Symbol.metadata")});const r=new WeakMap,n=new class{contextMap;constructor(e){this.contextMap=e}has(e){return this.contextMap.has(e)}get(e){return this.contextMap.get(e)}getOrCreate(e){if(this.contextMap.has(e))return this.contextMap.get(e);const t=Object.create(null),s=Object.getPrototypeOf(e);if(this.contextMap.has(s)){const e=this.contextMap.get(s);e&&this.clone(t,e)}return this.contextMap.set(e,t),t}clone(e,t){for(const s in t){const r=t[s];Array.isArray(r)?e[s]=[...r]:e[s]=null==r?r:"object"==typeof r?Object.assign(Object.create(null),r):r}}}(r);function i(e){return t=>(s,r)=>{const i=n.getOrCreate(r.metadata);return e?.(t,s,r,i),s}}const a=i();var o=s(867);class c{modelProperty;_viewName;constructor(e,t){this.modelProperty=e,this._viewName=t}get viewAttribute(){return this._viewName||this.modelProperty}}class h extends c{}class l extends c{options;constructor(e,t,s){super(e,t),this.options=s}}class u{modelName;selector;childOptions;constructor(e,t,s){this.modelName=e,this.selector=t,this.childOptions=s}}class p{eventName;args;modelCallbackName;constructor(e,t,s){this.eventName=e,this.args=t,this.modelCallbackName=s}}class m{modelPropertyName;hostPropertyName;constructor(e,t){this.modelPropertyName=e,this.hostPropertyName=t}}class d{static getMetaDate(e){return n.get(e[Symbol.metadata])}static addInput(e,t,s){(e.inputs??=[]).push(new h(t,s))}static addOutput(e,t,s,r){(e.outputs??=[]).push(new l(t,s,r))}static setComponentView(e,t){e.view=t}static addViewChild(e,t,s,r){(e.viewChild??=[]).push(new u(t,s,r))}static addViewChildren(e,t,s){(e.ViewChildren??=[]).push(new u(t,s))}static addHostListener(e,t,s,r){(e.hostListeners??=[]).push(new p(s,r,t))}static addHostBinding(e,t,s){(e.hostBindings??=[]).push(new m(t,s))}}const f=new class{viewSet=new Set;componentSet=new Set;serviceSet=new Set;directiveSet=new Set;pipeSet=new Set;registerView(e){this.viewSet.add(e)}registerComponent(e){this.componentSet.add(e)}registerService(e){this.serviceSet.add(e)}registerDirective(e){this.directiveSet.add(e)}registerPipe(e){this.pipeSet.add(e)}hasComponent(e){for(const t of this.componentSet)if(d.getMetaDate(t).selector===e)return!0;return!1}getComponentRef(e){for(const t of this.componentSet){const s=d.getMetaDate(t);if(s.selector===e)return s}}getComponent(e){for(const t of this.componentSet)if(d.getMetaDate(t).selector===e)return t}getComponentView(e){return this.getComponentRef(e)?.viewClass}hasOutput(e,t){if(Reflect.has(e,"bootstrap")){const s=Reflect.get(e,"bootstrap");if(s.outputs)for(const e of s.outputs)if(e.viewAttribute===t)return e}return!1}hasInput(e,t){if(Reflect.has(e,"bootstrap")){const s=Reflect.get(e,"bootstrap");if(s.inputs)for(const e of s.inputs)if(e.viewAttribute===t)return e}return!1}hasDirective(e){for(const t of this.directiveSet)if(d.getMetaDate(t).selector===e)return!0;return!1}directiveHasInput(e,t="attributes"){for(const s of this.directiveSet){const r=d.getMetaDate(s);if(("attributes"===t&&!r.selector.startsWith("*")||"structural"===t&&r.selector.startsWith("*"))&&r.inputs?.filter((t=>t.viewAttribute===e)).length>0)return!0}return!1}getDirectiveRef(e){for(const t of this.directiveSet){const s=d.getMetaDate(t);if(s.selector===e)return s}}getPipe(e){for(const t of this.pipeSet){const s=d.getMetaDate(t);if(s.name===e)return s}}getService(e){for(const t of this.serviceSet){const s=d.getMetaDate(t);if(s.name===e)return s}}};var g,y,S=s(2970);function b(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).replace(/ /g,"")}class E{_ctx;_keys;static for(e,t){return new E(e,t)}static blockScope(e){return new E({},e)}_inners=new Map;constructor(e,t){this._ctx=e,this._keys=t}get(e){return Reflect.get(this._ctx,e)}set(e,t,s){return Reflect.set(this._ctx,e,t)}has(e){return this._keys?.includes(e)??e in this._ctx}delete(e){return Reflect.deleteProperty(this._ctx,e)}getContext(){return this._ctx}getInnerScope(e){const t=this.get(e);let s=this._inners.get(e);return s?(s._ctx=t,s):t&&"object"==typeof t?(s=new(this.getClass())(t,void 0,e,this),this._inners.set(e,s),s):void 0}setInnerScope(e,t){if(t)return this._inners.set(e,t),t;const s=this.get(e);return t=new(this.getClass())(s,void 0,e,this),this._inners.set(e,t),t}getClass(){return E}}class w extends E{static for(e,t){return new w(e,t)}static blockScope(e){return new w({},e)}set(e,t,s){return!1}delete(e){return!1}getClass(){return w}}class x{propertyKey;observer;constructor(e,t){this.propertyKey=e,this.observer=t}pause(){this.observer.pause(this.propertyKey,this)}resume(){this.observer.resume(this.propertyKey,this)}unsubscribe(){this.observer.unsubscribe(this.propertyKey,this)}}class T{_subscribers=new Map;_lock=[];emit(e,t,s){if(this._lock.includes(e))return;const r=this._subscribers.get(e);r&&0!=r.size&&(this._lock.push(e),Array.from(r.values()).forEach((e=>{if(e.enable)try{e.callback(t,s)}catch(e){console.error(e)}})),this._lock.pop()!==e&&console.error("lock error"))}subscribe(e,t){const s=new x(e,this);let r=this._subscribers.get(e);return r||(r=new Map,this._subscribers.set(e,r)),r.set(s,{callback:t,enable:!0}),s}unsubscribe(e,t){t?this._subscribers.get(e)?.delete(t):this._subscribers.delete(e)}pause(e,t){const s=this._subscribers.get(e)?.get(t);s&&(s.enable=!1)}resume(e,t){const s=this._subscribers.get(e)?.get(t);s&&(s.enable=!0)}hasSubscribers(e){return e?(this._subscribers.get(e)?.size??0)>0:this._subscribers.size>0}destroy(){this._subscribers.clear()}}class A extends E{_name;_parent;static for(e,t){return new A(e,t)}static blockScope(e){return new A({},e)}static scopeForThis(e,t){const s=A.for(e,t),r={this:e},n=E.for(r,["this"]);return n.setInnerScope("this",s),n}static readOnlyScopeForThis(e,t){const s=A.for(e,t),r={this:e},n=w.for(r,["this"]);return n.setInnerScope("this",s),n}_clone;_observer=new T;constructor(e,t,s,r){super(e,t),this._name=s,this._parent=r,this._clone=Object.assign({},e)}set(e,t,s){const r=Reflect.get(this._ctx,e),n=Reflect.set(this._ctx,e,t);return n&&this.emit(e,t,r),n}delete(e){const t=Reflect.get(this._ctx,e),s=Reflect.deleteProperty(this._ctx,e);return s&&void 0!==t&&this.emit(e,void 0,t),s}emit(e,t,s){this._observer.emit(e,t,s),this._parent?.emit(this._name,this._ctx)}subscribe(e,t){return this._observer.subscribe(e,t)}unsubscribe(e,t){t&&null!=e?this._observer.unsubscribe(e,t):null!=e?this._observer.unsubscribe(e):this._observer.destroy()}detectChanges(){const e=this._clone,t=this._ctx;!e&&t||e&&!t?this._parent?.emit(this._name,t):((this._keys??this.getPropertyKeys(e,t)).forEach((s=>{const r=e[s],n=t[s],i=typeof n;"object"==typeof r?"object"===i&&r==n?this.getInnerScope(s)?.detectChanges():n!=r&&this.emit(s,n,r):("object"===i||r!=n)&&this.emit(s,n,r)})),this._clone=Object.assign({},this._ctx))}getPropertyKeys(...e){let t=[];return e.forEach((e=>{t.push(...Object.keys(e)),t.push(...Object.getOwnPropertySymbols(e))})),t=Array.from(new Set(t)),t=t.filter((e=>{switch(typeof e){case"string":return!e.startsWith("_");case"symbol":return!e.toString().startsWith("Symbol(_");default:return!1}})),t}getClass(){return A}}class N extends A{static for(e,t){return new N(e,t)}static blockScope(e){return new N({},e)}static scopeForThis(e,t){const s=N.for(e,t),r={this:e},n=E.for(r,["this"]);return n.setInnerScope("this",s),n}static readOnlyScopeForThis(e,t){const s=N.for(e,t),r={this:e},n=w.for(r,["this"]);return n.setInnerScope("this",s),n}static reactiveScopeForThis(e,t){const s=A.for(e,t),r={this:e},n=E.for(r,["this"]);return n.setInnerScope("this",s),n}_attached=!0;_marked={};emit(e,t,s){this._attached?super.emit(e,t,s):this._marked[e]?t==this._marked[e][1]?delete this._marked[e]:this._marked[e][0]=t:this._marked[e]=[t,s]}isAttached(){return this._attached}detach(){this._attached=!1}reattach(){this._attached=!0,this.emitChanges()}emitChanges(e,t){if(e)return super.emit(e,t),void Reflect.deleteProperty(this._marked,e);const s=this._marked;this._marked={};const r=this._keys??this.getPropertyKeys(s);r.forEach((e=>{this._observer.emit(e,s[e][0],s[e][1])})),r.length&&this._parent?.emit(this._name,this._ctx)}detectChanges(){this.detach(),super.detectChanges(),this.reattach()}checkNoChanges(){if(this.detach(),super.detectChanges(),Object.keys(this._marked).length>0)throw new Error("Some Changes had been detected")}getClass(){return N}}class v extends A{constructor(e,t){super(e,t)}importModule(e,t){this._ctx[e]=t._ctx,this._inners.set(e,t),this.detectChanges()}}class k extends v{source;importCallOptions;import;constructor(e,t){super({}),this.source=e,this.importCallOptions=t,this.import=s(1352)(e).then((e=>this.updateContext(e))).then((()=>this._ctx),(()=>this._ctx))}updateContext(e){this._ctx=e,this.detectChanges()}resolveImport(){return this.import}}function C(e){return g.Sloppy===e}function I(e){return g.Strict===e}function O(e,t){let s=e;for(const r of t){const t=r.path;let n=s[t];n?s=n:(s=s[t]={},r.computed&&r.computedPath.forEach((t=>O(e,t))))}}(y=g||(g={}))[y.Sloppy=0]="Sloppy",y[y.Strict=1]="Strict";class P{static fromJSON(e,t){return t(e)}type;loc;range;constructor(e,t){this.type=this.getClass().type,e&&(this.range=e),t&&(this.loc=t)}getClass(){return this.constructor}toJSON(e){const t=this.toJson(e),s={};return this.range&&(s.range=this.range),this.loc&&(s.loc=this.loc),Object.assign({type:this.type},t,s)}events(){const e=this.dependency(),t={};for(const s of e)O(t,s.dependencyPath());return t}}class R extends P{operator;left;right;static visit(e,t){t(e.getLeft()),t(e.getRight())}constructor(e,t,s,r,n){super(r,n),this.operator=e,this.left=t,this.right=s}getOperator(){return this.operator}getLeft(){return this.left}getRight(){return this.right}set(e,t){throw new Error(`${this.constructor.name}#set() of operator: '${this.operator}' has no implementation.`)}dependency(e){return this.left.dependency(e).concat(this.right.dependency(e))}dependencyPath(e){return this.left.dependencyPath(e).concat(this.right.dependencyPath(e))}toString(){return`${this.left.toString()} ${this.operator} ${this.right.toString()}`}toJson(e){return{operator:this.operator,left:this.left.toJSON(),right:this.right.toJSON()}}}class L{value;constructor(e){this.value=e}getValue(){return this.value}}class M{value;constructor(e){this.value=e}getValue(){return this.value}}class F{value;constructor(e){this.value=e}getValue(){return this.value}}class D{promise;node;declareVariable;constructor(e){this.promise=e}}const _=new Map,B=i(((e,t)=>{t.type=e,_.set(e,t)}));function j(e){const t=_.get(e.type)?.fromJSON;if(t)return t(e,j);throw new Error(`Couldn't find Expression class for name: ${JSON.stringify(e)}.`)}let H=(()=>{let e,t,s=[B("Identifier")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}name;static fromJSON(e){return new i(e.name,e.range,e.loc)}constructor(e,t,s){super(t,s),this.name=e}getName(){return this.name}set(e,t){return e.set(this.name,t)?t:void 0}get(e,t){return t?t[this.name]:e.get(this.name)}findScope(e,t){return t?t.getInnerScope(this.name):(t=e.findScope(this.name)).getInnerScope(this.name)}declareVariable(e,t){return e.declareVariable(this.name,t)}getDeclarationName(){return this.toString()}dependency(e){return[this]}dependencyPath(e){const t=[{computed:!1,path:this.toString()}];return e?[{computed:e,path:this.toString(),computedPath:[t]}]:t}toString(){return String(this.name)}toJson(){return{name:this.name}}};return i=t})(),V=(()=>{let e,t,s=[B("ThisExpression")],r=[],n=H;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}constructor(e,t){super("this",e,t)}toJson(){return{}}};return i=t})(),G=(()=>{let e,t,s=[B("Literal")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}value;static fromJSON(e){return e.bigint?new i(BigInt(e.bigint),e.raw,void 0,e.bigint,e.range,e.loc):e.regex?new i(RegExp(e.regex.pattern,e.regex.flags),e.raw,e.regex,void 0,e.range,e.loc):new i(e.value,e.raw,void 0,void 0,e.range,e.loc)}regex;bigint;raw;constructor(e,t,s,r,n,i){super(n,i),this.value=e,t&&(this.raw=t),s&&(this.regex=s),r&&(this.bigint=r)}getValue(){return this.value}getRegex(){return this.regex}getBigint(){return this.bigint}geRaw(){return this.raw}set(){throw new Error(`${this.constructor.name}#set() has no implementation.`)}get(){return this.value}findScope(e,t){return t?t.getInnerScope(this.value):(t=e.findScope(this.value)).getInnerScope(this.value)}dependency(e){return e?[this]:[]}dependencyPath(e){return e?[{computed:!1,path:this.toString()}]:[]}toString(){return this.raw??String(this.value)}toJson(){return this.bigint?{bigint:this.bigint,raw:this.raw}:this.regex?{regex:{pattern:this.regex?.pattern,flags:this.regex?.flags},raw:this.raw}:{value:this.value,raw:this.raw}}};return i=t})();class $ extends Array{raw;constructor(e){super(...e),this.raw=e}}class J extends P{quasis;expressions;tag;static visit(e,t){e.tag&&t(e.tag),e.expressions.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.quasis=e,this.expressions=t,this.tag=s}getTag(){return this.tag}getExpressions(){return this.expressions}set(e,t){throw new Error("TemplateLiteralExpressionNode#set() has no implementation.")}get(e){const t=this.tag?.get(e)||String.raw,s=new $(this.quasis);return s.raw=s,t(s,...this.expressions.map((t=>t.get(e))))}dependency(e){return this.expressions.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.expressions.flatMap((t=>t.dependencyPath(e)))}toString(){let e=this.tag?.toString()||"";e+="`";let t=0;for(;t<this.quasis.length-1;t++)e+=this.quasis[t],e+="${",e+=this.expressions[t].toString(),e+="}";return e+=this.quasis[t],e+="`",e}toJson(){return{quasis:this.quasis,expressions:this.expressions.map((e=>e.toJSON())),tag:this.tag?.toJSON()}}}let U=(()=>{let e,t,s=[B("TemplateLiteral")],r=[],n=J;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(e.quasis,e.expressions.map(t),e.range,e.loc)}constructor(e,t,s,r){super(e,t,void 0,s,r)}getTag(){}};return i=t})(),W=(()=>{let e,t,s=[B("TaggedTemplateExpression")],r=[],n=J;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.tag),e.quasis,e.expressions.map(t),e.range,e.loc)}constructor(e,t,s,r,n){super(t,s,e,r,n)}getTag(){return super.getTag()}};return i=t})();class z{type;label;constructor(e,t){this.type=e,this.label=t}}class K extends P{label;constructor(e,t,s){super(t,s),this.label=e}getLabel(){this.label}set(e,t){throw new Error("TerminateStatement#set() has no implementation.")}get(e){return new z(this.getType(),this.label?.get(e))}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.getType()}${this.label?` ${this.label.toString()}`:""};`}toJson(){return{label:this.label?.toJSON()}}}let q=(()=>{let e,t,s=[B("BreakStatement")],r=[],n=K;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(e.label?t(e.label):void 0,e.range,e.loc)}static visit(e,t){e.label&&t(e.label)}getType(){return"break"}};return i=t})(),Y=(()=>{let e,t,s=[B("ContinueStatement")],r=[],n=K;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(e.label&&t(e.label),e.range,e.loc)}static visit(e,t){e.label&&t(e.label)}getType(){return"continue"}};return i=t})(),Z=(()=>{let e,t,s=[B("LabeledStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}label;body;static fromJSON(e,t){return new i(t(e.label),t(e.body),e.range,e.loc)}static visit(e,t){t(e.label),t(e.body)}constructor(e,t,s,r){super(s,r),this.label=e,this.body=t}getLabel(){return this.label}getBody(){return this.body}set(e,t){throw new Error("LabeledStatement#set() not implemented.")}get(e){return this.body.get(e)}dependency(e){return this.body.dependency(e)}dependencyPath(e){return this.body.dependencyPath(e)}toString(){return`${this.label.toString()}:\n${this.body.toString()}`}toJson(){return{label:this.label.toJSON(),body:this.body.toJSON()}}};return i=t})();function X(e){return"function"==typeof e.declareVariable}let Q=(()=>{let e,t,s=[B("BlockStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}body;static fromJSON(e,t){return new i(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("BlockStatement#set() has no implementation.")}get(e){const t=e.pushBlockScope();let s;for(const r of this.body){if(s=r.get(e),s instanceof L)return e.clearTo(t),s.value;if(s instanceof z)return s}return e.clearTo(t),s}dependency(e){return this.body.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.body.flatMap((t=>t.dependencyPath(e)))}toString(){return`{\n${this.body.map((e=>({insert:!X(e),string:e.toString()}))).map((e=>`  ${e.string}${e.insert?";":""}`)).join("\n")}\n}`}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})(),ee=(()=>{let e,t,s=[B("SpreadElement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("SpreadElement#set() Method has no implementation.")}get(e){const t=this.argument.get(e);Array.isArray(t)?this.spreadFromArray(e,t):Reflect.has(t,Symbol.iterator)&&this.spreadFromIterator(e,t)}spreadFromArray(e,t){let s=e.get("length");t.forEach((t=>e.declareVariable(s++,t)))}spreadFromIterator(e,t){let s=e.get("length");for(;;){const r=t.next();if(r.done)break;e.declareVariable(s++,r.value)}}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`...${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return i=t})(),te=(()=>{let e,t,s=[B("MemberExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}object;property;computed;optional;static fromJSON(e,t){return new i(t(e.object),t(e.property),e.computed,e.optional,e.range,e.loc)}static visit(e,t){t(e.object),t(e.property)}constructor(e,t,s,r=!1,n,i){super(n,i),this.object=e,this.property=t,this.computed=s,this.optional=r}getObject(){return this.object}getProperty(){return this.property}set(e,t){const s=this.object.findScope(e);let r;return this.computed?(r=this.property.get(e),s.set(r,t)):this.property instanceof H?s.set(this.property.getName(),t):(e.pushScope(s),this.property.set(e,t),e.clearTo(s)),t}get(e,t){const s=t??this.object.get(e);if(null==s){if(this.optional)return;throw new TypeError(`Cannot read property '${this.property.toString()}' of ${s}, reading [${this.toString()}]`)}let r;return r=this.computed?s[this.property.get(e)]:this.property.get(e,s),r}findScope(e,t){return t||(t=this.object.findScope(e)),this.property.findScope(e,t)}dependency(e){return[this]}dependencyPath(e){if(this.computed){const t=this.object.dependencyPath(e),s=this.property.dependency(!0).map((e=>e.dependencyPath(!0))),r={computed:!0,path:":"+s.flatMap((e=>e)).map((e=>e.path)).join(":"),computedPath:s.flatMap((e=>e.flatMap((e=>e.computed?e.computedPath:[]))))};return t.concat(r)}return this.object.dependencyPath(e).concat(this.property.dependencyPath(e))}toString(){return this.computed?`${this.object.toString()}${this.optional?"?.":""}[${this.property.toString()}]`:`${this.object.toString()}${this.optional?"?.":"."}${this.property.toString()}`}toJson(){return{object:this.object.toJSON(),property:this.property.toJSON(),computed:this.computed,optional:this.optional}}};return i=t})(),se=(()=>{let e,t,s=[B("CallExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}callee;optional;static fromJSON(e,t){return new i(t(e.callee),e.arguments.map((e=>t(e))),e.optional,e.range,e.loc)}static visit(e,t){t(e.callee),e.arguments.forEach(t)}arguments;constructor(e,t,s=!1,r,n){super(r,n),this.callee=e,this.optional=s,this.arguments=t}getCallee(){return this.callee}getArguments(){return this.arguments}set(e,t){throw new Error("CallExpression#set() has no implementation.")}get(e,t){const s=this.callee.get(e);if(this.optional&&null==s)return;const r=this.getCallParameters(e);return!t&&this.callee instanceof te?t=this.callee.getObject().get(e):!t&&this.callee instanceof H&&(t=e.findScope(this.callee.getName()).getContextProxy?.()),s.apply(t,r)}getCallParameters(e){const t=[];for(const s of this.arguments){if(s instanceof ee){const r=e.pushBlockScopeFor(t);s.get(e),e.clearTo(r);break}t.push(s.get(e))}return t}dependency(e){return this.callee.dependency(e).concat(this.arguments.flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.callee.dependencyPath(e).concat(this.arguments.flatMap((t=>t.dependencyPath(e))))}toString(){return`${this.callee.toString()}${this.optional?"?.":""}(${this.arguments.map((e=>e.toString())).join(", ")})`}toJson(){return{callee:this.callee.toJSON(),arguments:this.arguments.map((e=>e.toJSON())),optional:this.optional}}};return i=t})();const re=Symbol("TempClassName"),ne=Symbol("#");class ie{staticInitializer={};staticPrivateInitializer={};staticInitializerBlock=[];instanceConstructor;superParameterResolver=e=>e;instanceMethod={};privateInstanceMethod={};instanceInitializer=[];addStaticInitializer(e,t){Reflect.set(this.staticInitializer,e,t)}addStaticPrivateInitializer(e,t){Reflect.set(this.staticPrivateInitializer,e,t)}addStaticInitializerBlock(e){this.staticInitializerBlock.push(e)}setConstructor(e){this.instanceConstructor=e}setParameterResolver(e){this.superParameterResolver=e}addInstanceMethod(e,t){Reflect.set(this.instanceMethod,e,t)}addPrivateInstanceMethod(e,t){Reflect.set(this.privateInstanceMethod,e,t)}addInstanceInitializer(e){this.instanceInitializer.push(e)}initClass(e){Object.defineProperties(e,this.staticInitializer),Object.defineProperties(e[ne],this.staticPrivateInitializer),Object.defineProperties(e.prototype,this.instanceMethod),this.staticInitializerBlock.forEach((e=>e()))}getSuperArguments(e){return this.superParameterResolver(e)}initInstance(e){Object.defineProperties(e[ne],this.privateInstanceMethod),this.instanceInitializer.forEach((t=>{const s=t();(s.isPrivate?e[ne]:e)[s.key]=s.value})),this.instanceConstructor?.apply(e)}}let ae=(()=>{let e,t,s=[B("Super")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}constructor(e,t){super(e,t)}set(e,t){throw new Error("Super.#set() Method not implemented.")}get(e,t){return e.get("super")}dependency(e){throw new Error("Super.#dependency() Method not implemented.")}dependencyPath(e){throw new Error("Super.#dependencyPath() Method not implemented.")}toString(){return"super"}toJson(){return{}}};return i=t})(),oe=(()=>{let e,t,s=[B("MetaProperty")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}meta;property;static fromJSON(e,t){return new i(t(e.meta),t(e.property),e.range,e.loc)}static visit(e,t){t(e.meta),t(e.property)}constructor(e,t,s,r){super(s,r),this.meta=e,this.property=t}getMeta(){return this.meta}getProperty(){return this.property}get(e){const t=this.meta.get(e);if(null==t)throw new TypeError(`Cannot read meta property '${this.property.toString()}' of ${t}, reading [${this.toString()}]`);return this.property.get(e,t)}set(e,t){throw new Error("MetaProperty#set() has no implementation.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.meta.toString()}.${this.property.toString()}`}toJson(){return{meta:this.meta.toJSON(),property:this.property.toJSON()}}};return i=t})(),ce=(()=>{let e,t,s=[B("PrivateIdentifier")],r=[],n=H;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e){return new i(e.name,e.range,e.loc)}get(e,t){return t[ne][this.name]}set(e,t){return e.lastScope().getContext()[ne][this.name]=t}toString(){return`#${this.name}`}};return i=t})(),he=(()=>{let e,t,s=[B("StaticBlock")],r=[],n=Q;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.body),e.range,e.loc)}get(e,t){t?.addStaticInitializerBlock(super.get(e))}toString(){return`static ${super.toString()}`}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})();class le extends P{key;decorators;computed;value;static;constructor(e,t,s,r,n,i,a){super(i,a),this.key=e,this.decorators=t,this.computed=s,this.value=n,this.static=r}getKey(){return this.key}getValue(){return this.value}isComputed(){return this.computed}isStatic(){return this.static}isPrivate(){return this.key instanceof ce}getDecorators(){return this.decorators}set(e,t){throw new Error("AbstractDefinition.#set() Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}getKeyName(e){return this.computed?this.key.get(e):this.key instanceof H?this.key.getName():this.key.toString()}}let ue=(()=>{let e,t,s=[B("MethodDefinition")],r=[],n=le;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}kind;static fromJSON(e,t){return new i(e.kind,t(e.key),t(e.value),e.decorators.map(t),e.computed,e.static,e.range,e.loc)}static visit(e,t){t(e.key),t(e.value),e.decorators.forEach(t)}afterInstanceConstruct;constructor(e,t,s,r,n,i,a,o){super(t,r,n,i,s,a,o),this.kind=e}getKind(){return this.kind}getValue(){return this.value}get(e,t){if("constructor"===this.kind)return void this.initConstructor(e,t);const s=this.getKeyName(e),r=this.value?.get(e),n=this.getPropertyAttributes(r);this.isStatic()&&this.isPrivate()?t.addStaticPrivateInitializer(s,n):this.isStatic()?t.addStaticInitializer(s,n):this.isPrivate()?t.addPrivateInstanceMethod(s,n):t.addInstanceMethod(s,n)}getPropertyAttributes(e){switch(this.kind){case"set":return{writable:!0,configurable:!0,enumerable:!1,set:e};case"get":return{writable:!0,configurable:!0,enumerable:!1,get:e};default:return{writable:!0,configurable:!0,enumerable:!1,value:e}}}initConstructor(e,t){const s=this.value.getBody().getBody();let r=s.findIndex((e=>e instanceof se&&e.getCallee()instanceof ae));const n=new Q(s.slice(r+1));if(t.setConstructor((function(t){const s=e.pushBlockScope();n.get(e),e.clearTo(s)})),r>=0){const n=new Q(s.slice(0,r)),i=s[r],a=this;t.setParameterResolver((function(t){const s=e.pushBlockScope();a.value.defineFunctionArguments(e,t),n.get(e);const r=i.getCallParameters(e);return e.clearTo(s),r}))}}toString(){let e=this.decorators.map((e=>e.toString())).join(" ");e.length&&(e+=" "),this.static&&(e+="static ");const t=this.key.toString();switch(this.kind){case"get":e+="get "+t;break;case"set":e+="set "+t;break;case"method":this.value.getAsync()&&this.value.getGenerator()?e+="async *":this.value.getAsync()?e+="async ":this.value.getGenerator()&&(e+="*"),e+=t;break;case"constructor":e+="constructor"}return e+=this.value.paramsAndBodyToString(),e}toJson(){return{kind:this.kind,key:this.key.toJSON(),value:this.value.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static}}};return i=t})(),pe=(()=>{let e,t,s=[B("PropertyDefinition")],r=[],n=le;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.key),e.decorators.map(t),e.computed,e.static,e.value&&t(e.value),e.range,e.loc)}static visit(e,t){t(e.key),e.value&&t(e.value)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e,t){const s=this.getKeyName(e);if(!this.isStatic())return void t.addInstanceInitializer((()=>({isPrivate:this.isPrivate(),key:s,value:this.value?.get(e)})));const r=this.value?.get(e),n={writable:!0,configurable:!0,enumerable:!0,value:r};this.isPrivate()?t.addStaticPrivateInitializer(s,n):t.addStaticInitializer(s,n)}toString(){const e=this.decorators.map((e=>e.toString())).join("\n"),t=this.computed?`[${this.key.toString()}]`:this.key.toString();return`${e.length?e+" ":""}${this.static?"static ":""}${t}${this.value?` = ${this.value.toString()}`:""};`}toJson(){return{key:this.key.toJSON(),value:this.value?.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static}}};return i=t})(),me=((()=>{let e,t,s=[B("AccessorProperty")],r=[],n=le;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.key),e.decorators.map(t),e.computed,e.static,e.value?t(e.value):void 0,e.range,e.loc)}static visit(e,t){t(e.key),e.value&&t(e.value),e.decorators.forEach(t)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e,t){const s=this.getKeyName(e),r={writable:!1,configurable:!0,enumerable:!1,set:function(e){this[ne][s]=e},get:function(){return this[ne][s]}};if(!this.isStatic())return t.addInstanceInitializer((()=>({isPrivate:!0,key:s,value:this.value?.get(e)}))),void t.addInstanceMethod(s,r);const n=this.value?.get(e),i={writable:!0,configurable:!0,enumerable:!0,value:n};t.addStaticInitializer(s,r),t.addStaticPrivateInitializer(s,i)}toString(){const e=this.decorators.map((e=>e.toString())).join("\n"),t=this.computed?`[${this.key.toString()}]`:this.key.toString();return`${e.length?e.concat(" "):""}${this.static?"static ":""}accessor ${t}${this.value?` = ${this.value.toString()}`:""};`}toJson(){return{key:this.key.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static,value:this.value?.toJSON()}}};i=t})(),(()=>{let e,t,s=[B("ClassBody")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}body;static fromJSON(e,t){return new i(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("Method not implemented.")}get(e,t){this.body.forEach((s=>s.get(e,t)))}dependency(e){throw new Error("Method not implemented.")}dependencyPath(e){throw new Error("Method not implemented.")}toString(){return this.body.map((e=>`\t${e.toString()}`)).join("\n")}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})());class de extends P{body;decorators;id;superClass;constructor(e,t,s,r,n,i){super(n,i),this.body=e,this.decorators=t,this.id=s,this.superClass=r}getBody(){return this.body}getDecorators(){return this.decorators}getId(){return this.id}getSuperClass(){return this.superClass}set(e){throw new Error("Class.#set() has no implementation.")}get(e){e=e.copyStack();const t=this.id?.getName()??re,s=this.superClass?.get(e)??class{},r=new ie,n=this.createClass(s,t,r);return e.pushBlockScopeFor({this:n,super:s}),this.body.get(e,r),r.initClass(n),n}createClass(e,t,s){return{[t]:class extends e{static[Symbol.toStringTag]=t;static[ne]={};[ne]={};constructor(...e){super(...s.getSuperArguments(e)),s.initInstance(this)}}}[t]}dependency(e){throw new Error("Method not implemented.")}dependencyPath(e){throw new Error("Method not implemented.")}toString(){const e=this.decorators.map((e=>e.toString())).join("\n");let t="class ";return this.id&&(t+=this.id.toString()),this.superClass&&(t+=" extends "+this.superClass.toString()),`${e}${t} {\n${this.body.toString()}\n}`}toJson(){return{body:this.body.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),id:this.id?.toJSON(),superClass:this.superClass?.toJSON()}}}let fe=(()=>{let e,t,s=[B("ClassDeclaration")],r=[],n=de;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.body),e.decorators.map(t),t(e.id),e.superClass&&t(e.superClass),e.range,e.loc)}static visit(e,t){t(e.body),e.decorators.forEach(t),t(e.id),e.superClass&&t(e.superClass)}constructor(e,t,s,r,n,i){super(e,t,s,r,n,i)}declareVariable(e,t){e.declareVariable(this.id.getName(),t)}getDeclarationName(){return this.id.getDeclarationName()}get(e){const t=super.get(e);return this.id.declareVariable(e,t),t}};return i=t})(),ge=(()=>{let e,t,s=[B("ClassExpression")],r=[],n=de;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.body),e.decorators.map(t),e.id&&t(e.id),e.superClass&&t(e.superClass),e.range,e.loc)}static visit(e,t){t(e.body),e.decorators.forEach(t),e.id&&t(e.id),e.superClass&&t(e.superClass)}constructor(e,t,s,r,n,i){super(e,t,s,r,n,i)}};return i=t})();class ye{name;precedence;static CONDITIONAL=new ye("?",3);static NULLISH=new ye("??",3);static PIPELINE=new ye("|>",3);static OR=new ye("||",4);static AND=new ye("&&",5);static BIT_OR=new ye("|",6);static BIT_XOR=new ye("^",7);static BIT_AND=new ye("&",8);static SHL=new ye("<<",11);static SAR=new ye(">>",11);static SHR=new ye(">>>",11);static MUL=new ye("*",13);static DIV=new ye("/",13);static MOD=new ye("%",13);static MODULO=new ye("%%",13);static LARGER=new ye(">?",13);static SMALLER=new ye("<?",13);static EXP=new ye("**",14);static ADD=new ye("+",12);static SUB=new ye("-",12);static NOT=new ye("!",0);static BIT_NOT=new ye("~",0);static LT=new ye("<",10);static GT=new ye(">",10);static INC=new ye("++",0);static DEC=new ye("--",0);static EQ=new ye("==",9);static EQ_STRICT=new ye("===",9);static NE=new ye("!=",9);static NE_STRICT=new ye("!==",9);static LTE=new ye("<=",10);static GTE=new ye(">=",10);static SPACESHIP=new ye("<=>",10);static ASSIGN=new ye("=",2);static ADD_ASSIGN=new ye("+=",2);static SUB_ASSIGN=new ye("-=",2);static MUL_ASSIGN=new ye("*=",2);static DIV_ASSIGN=new ye("/=",2);static MOD_ASSIGN=new ye("%=",2);static MODULO_ASSIGN=new ye("%%=",2);static LARGER_ASSIGN=new ye(">?=",2);static SMALLER_ASSIGN=new ye("<?=",2);static EXP_ASSIGN=new ye("**=",2);static BIT_XOR_ASSIGN=new ye("^=",2);static BIT_AND_ASSIGN=new ye("&=",2);static BIT_OR_ASSIGN=new ye("|=",2);static AND_ASSIGN=new ye("&&=",2);static OR_ASSIGN=new ye("||=",2);static NULLISH_ASSIGN=new ye("??=",2);static SHL_ASSIGN=new ye("<<=",2);static SAR_ASSIGN=new ye(">>=",2);static SHR_ASSIGN=new ye(">>>=",2);static PERIOD=new ye(".",0);static QUESTION_PERIOD=new ye("?.",0);static BIND=new ye("::",0);static QUESTION_BIND=new ye("?::",0);static LPAREN=new ye("(",0);static RPAREN=new ye(")",0);static LBRACK=new ye("[",0);static RBRACK=new ye("]",0);static LBRACE=new ye("{",0);static RBRACE=new ye("}",0);static COLON=new ye(":",0);static ELLIPSIS=new ye("...",0);static SEMICOLON=new ye(";",0);static EOS=new ye("EOS",0);static ARROW=new ye("=>",0);static COMMA=new ye(",",1);static ASYNC=new ye("async",0);static AWAIT=new ye("await",0);static BREAK=new ye("break",0);static CASE=new ye("case",0);static CATCH=new ye("catch",0);static CLASS=new ye("class",0);static CONST=new ye("const",0);static CONTINUE=new ye("continue",0);static DEBUGGER=new ye("debugger",0);static DEFAULT=new ye("default",0);static DELETE=new ye("delete",0);static DO=new ye("do",0);static ELSE=new ye("else",0);static ENUM=new ye("enum",0);static EXPORT=new ye("export",0);static EXTENDS=new ye("extends",0);static FALSE_LITERAL=new ye("false",0);static FINALLY=new ye("finally",0);static FOR=new ye("for",0);static FUNCTION=new ye("function",0);static GET=new ye("get",0);static IF=new ye("if",0);static IMPLEMENTS=new ye("implements",0);static IMPORT=new ye("import",0);static PRIVATE_NAME=new ye("PRIVATE_NAME",0);static IN=new ye("in",10);static INSTANCEOF=new ye("instanceof",10);static LET=new ye("let",0);static NEW=new ye("new",0);static NULL_LITERAL=new ye("null",0);static UNDEFINED_LITERAL=new ye("undefined",0);static PACKAGE=new ye("package",0);static INTERFACE=new ye("interface",0);static PRIVATE=new ye("private",0);static PROTECTED=new ye("protected",0);static PUBLIC=new ye("public",0);static RETURN=new ye("return",0);static SET=new ye("set",0);static STATIC=new ye("static",0);static SUPER=new ye("super",0);static SWITCH=new ye("switch",0);static THIS=new ye("this",0);static THROW=new ye("throw",0);static TRUE_LITERAL=new ye("true",0);static TRY=new ye("try",0);static TYPEOF=new ye("typeof",0);static VAR=new ye("var",0);static VOID=new ye("void",0);static WHILE=new ye("while",0);static WITH=new ye("with",0);static YIELD=new ye("yield",0);static NUMBER=new ye("NUMBER",0);static BIGINT=new ye("BIGINT",0);static STRING=new ye("STRING",0);static IDENTIFIER=new ye("IDENTIFIER",0);static TEMPLATE_SPAN=new ye("TEMPLATE_SPAN",0);static TEMPLATE_TAIL=new ye("TEMPLATE_TAIL",0);static ILLEGAL=new ye("ILLEGAL",0);static ESCAPED_KEYWORD=new ye("ESCAPED_KEYWORD",0);static WHITESPACE=new ye("WHITESPACE",0);static REGEXP_LITERAL=new ye("REGEXP_LITERAL",0);static isPair(e){switch(e){case ye.LPAREN:case ye.LBRACK:case ye.LBRACE:case ye.RBRACE:case ye.RBRACK:case ye.RPAREN:return!0;default:return!1}}static isOpenPair(e){switch(e){case ye.LPAREN:case ye.LBRACK:case ye.LBRACE:return!0;default:return!1}}static isClosePair(e){switch(e){case ye.RBRACE:case ye.RBRACK:case ye.RPAREN:return!0;default:return!1}}static openOf(e){switch(e){case ye.RBRACE:return ye.LBRACE;case ye.RBRACK:return ye.LBRACK;case ye.RPAREN:return ye.LPAREN}return e}static closeOf(e){switch(e){case ye.LBRACE:return ye.RBRACE;case ye.LBRACK:return ye.RBRACK;case ye.LPAREN:return ye.RPAREN}return e}static isAnyIdentifier(e){switch(e){case ye.IDENTIFIER:case ye.GET:case ye.SET:case ye.ASYNC:case ye.AWAIT:case ye.YIELD:case ye.LET:case ye.STATIC:return!0}return!1}static isIdentifier(e){switch(e){case ye.IDENTIFIER:case ye.GET:case ye.SET:case ye.ASYNC:return!0}return!1}static isLiteral(e){switch(e){case ye.UNDEFINED_LITERAL:case ye.NULL_LITERAL:case ye.TRUE_LITERAL:case ye.FALSE_LITERAL:case ye.NUMBER:case ye.BIGINT:case ye.STRING:case ye.REGEXP_LITERAL:return!0}return!1}static isArrowOrAssignmentOp(e){return e===ye.ARROW||this.isAssignment(e)}static isAssignment(e){switch(e){case ye.ASSIGN:case ye.ADD_ASSIGN:case ye.SUB_ASSIGN:case ye.MUL_ASSIGN:case ye.DIV_ASSIGN:case ye.MOD_ASSIGN:case ye.MODULO_ASSIGN:case ye.EXP_ASSIGN:case ye.BIT_XOR_ASSIGN:case ye.BIT_AND_ASSIGN:case ye.BIT_OR_ASSIGN:case ye.AND_ASSIGN:case ye.OR_ASSIGN:case ye.NULLISH_ASSIGN:case ye.SHL_ASSIGN:case ye.SAR_ASSIGN:case ye.SHR_ASSIGN:return!0}return!1}static isLogicalAssignmentOp(e){switch(e){case ye.AND_ASSIGN:case ye.OR_ASSIGN:case ye.NULLISH_ASSIGN:return!0}return!1}static isAutoSemicolon(e){switch(e){case ye.SEMICOLON:case ye.RBRACE:case ye.EOS:return!0}return!1}static isMember(e){switch(e){case ye.TEMPLATE_SPAN:case ye.TEMPLATE_TAIL:case ye.PERIOD:case ye.LBRACK:return!0}return!1}static isTemplate(e){switch(e){case ye.TEMPLATE_SPAN:case ye.TEMPLATE_TAIL:return!0}return!1}static isNextLetKeyword(e){switch(e){case ye.LBRACE:case ye.LBRACK:case ye.IDENTIFIER:case ye.STATIC:case ye.LET:case ye.YIELD:case ye.AWAIT:case ye.GET:case ye.SET:case ye.ASYNC:return!0;default:return!1}}static isInRangeIdentifierAndAsync(e){switch(e){case ye.IDENTIFIER:case ye.GET:case ye.SET:case ye.ASYNC:return!0;default:return!1}}static isPropertyOrCall(e){switch(e){case ye.TEMPLATE_SPAN:case ye.TEMPLATE_TAIL:case ye.PERIOD:case ye.LBRACK:case ye.QUESTION_PERIOD:case ye.LPAREN:return!0}return!1}static isPropertyName(e){return/\w/.test(e.getName())}static isInRange(e,t,s){return e>=t.precedence&&e<=s.precedence}static isProperty(e){return e instanceof ye&&(e=e.precedence),ye.isInRange(e,ye.PERIOD,ye.LBRACK)}static isBinary(e){return e instanceof ye&&(e=e.precedence),ye.isInRange(e,ye.COMMA,ye.SUB)}static isCompare(e){switch(e){case ye.EQ:case ye.EQ_STRICT:case ye.NE:case ye.NE_STRICT:case ye.LT:case ye.GT:case ye.LTE:case ye.GTE:case ye.SPACESHIP:case ye.INSTANCEOF:case ye.IN:return!0}return!1}static isOrderedRelationalCompare(e){switch(e){case ye.LT:case ye.GT:case ye.LTE:case ye.GTE:case ye.SPACESHIP:return!0}return!1}static isEquality(e){switch(e){case ye.EQ:case ye.EQ_STRICT:return!0}return!1}static binaryOpForAssignment(e){if(ye.isInRange(e.precedence,ye.NULLISH_ASSIGN,ye.SUB_ASSIGN)){const t=e.precedence-ye.NULLISH_ASSIGN.precedence+ye.NULLISH.precedence;return ye.isBinary(t)}return!1}static isBitOp(e){switch(e){case ye.BIT_NOT:case ye.BIT_OR:case ye.BIT_XOR:case ye.BIT_AND:case ye.SHL:case ye.SAR:case ye.SHR:return!0}return!1}static isUnary(e){switch(e){case ye.ADD:case ye.SUB:case ye.NOT:case ye.BIT_NOT:case ye.DELETE:case ye.AWAIT:case ye.TYPEOF:case ye.VOID:return!0}return!1}static isCount(e){switch(e){case ye.INC:case ye.DEC:return!0}return!1}static isUnaryOrCount(e){switch(e){case ye.ADD:case ye.SUB:case ye.INC:case ye.DEC:case ye.NOT:case ye.BIT_NOT:case ye.DELETE:case ye.AWAIT:case ye.TYPEOF:case ye.VOID:return!0}return!1}static isShift(e){switch(e){case ye.SHL:case ye.SAR:case ye.SHR:return!0}return!1}static isStrictReservedWord(e){switch(e){case ye.IMPLEMENTS:case ye.INTERFACE:case ye.LET:case ye.PACKAGE:case ye.PRIVATE:case ye.PROTECTED:case ye.PUBLIC:case ye.STATIC:return!0}return!1}static isPipelineOperator(e){return e===ye.PIPELINE}static isValidIdentifier(e,t,s,r){return!!ye.isInRangeIdentifierAndAsync(e)||(e==ye.AWAIT?!r:e==ye.YIELD?!s:ye.isStrictReservedWord(e)&&C(t))}static precedence(e,t){return t||ye.IN!==e?e.getPrecedence():0}constructor(e,t){this.name=e,this.precedence=t}getName(){return this.name}getPrecedence(){return this.precedence}equal(e){return this===e||this.name===e.name}}class Se{token;range;value;constructor(e,t,s){this.token=e,this.range=t,this.value=s}getValue(){return this.value}isType(e){return this.token===e}isNotType(e){return this.token!==e}test(e){return e(this.token,this.value)}toString(){return JSON.stringify(this)}}function be(e,t,s){return e>=t&&e<=s}var Ee,we,xe,Te,Ae,Ne,ve;function ke(e){return e===we.AccessorGetter||e===we.AccessorSetter}!function(e){e[e.CertainlyNotArrowHead=0]="CertainlyNotArrowHead",e[e.MaybeArrowHead=1]="MaybeArrowHead",e[e.AsyncArrowFunction=2]="AsyncArrowFunction"}(Ee||(Ee={})),function(e){e[e.Value=0]="Value",e[e.Shorthand=1]="Shorthand",e[e.ShorthandOrClassField=2]="ShorthandOrClassField",e[e.Assign=3]="Assign",e[e.Method=4]="Method",e[e.ClassField=5]="ClassField",e[e.AccessorGetter=6]="AccessorGetter",e[e.AccessorSetter=7]="AccessorSetter",e[e.Spread=8]="Spread",e[e.NotSet=9]="NotSet"}(we||(we={})),function(e){e[e.ObjectLiteral=0]="ObjectLiteral",e[e.ClassLiteral=1]="ClassLiteral"}(xe||(xe={}));class Ce{name;position=xe.ClassLiteral;funcFlag=Ne.IsNormal;kind=we.NotSet;isComputedName=!1;isPrivate=!1;isStatic=!1;isRest=!1;rangeStart;parsePropertyKindFromToken(e){switch(e){case ye.COLON:return this.kind=we.Value,!0;case ye.COMMA:return this.kind=we.Shorthand,!0;case ye.RBRACE:return this.kind=we.ShorthandOrClassField,!0;case ye.ASSIGN:return this.kind=we.Assign,!0;case ye.LPAREN:return this.kind=we.Method,!0;case ye.MUL:case ye.SEMICOLON:return this.kind=we.ClassField,!0}return!1}}!function(e){e[e.NullIdentifier=0]="NullIdentifier",e[e.UnknownIdentifier=1]="UnknownIdentifier",e[e.EvalIdentifier=2]="EvalIdentifier",e[e.ArgumentsIdentifier=3]="ArgumentsIdentifier",e[e.ConstructorIdentifier=4]="ConstructorIdentifier",e[e.AwaitIdentifier=5]="AwaitIdentifier",e[e.AsyncIdentifier=6]="AsyncIdentifier",e[e.NameIdentifier=7]="NameIdentifier",e[e.PrivateNameIdentifier=8]="PrivateNameIdentifier"}(Te||(Te={})),function(e){e[e.EXPRESSION=0]="EXPRESSION",e[e.BLOCK=1]="BLOCK"}(Ae||(Ae={})),function(e){e[e.IsNormal=0]="IsNormal",e[e.IsGenerator=1]="IsGenerator",e[e.IsAsync=2]="IsAsync"}(Ne||(Ne={})),function(e){e[e.NormalFunction=0]="NormalFunction",e[e.Module=1]="Module",e[e.AsyncModule=2]="AsyncModule",e[e.BaseConstructor=3]="BaseConstructor",e[e.DefaultBaseConstructor=4]="DefaultBaseConstructor",e[e.DefaultDerivedConstructor=5]="DefaultDerivedConstructor",e[e.DerivedConstructor=6]="DerivedConstructor",e[e.GetterFunction=7]="GetterFunction",e[e.StaticGetterFunction=8]="StaticGetterFunction",e[e.SetterFunction=9]="SetterFunction",e[e.StaticSetterFunction=10]="StaticSetterFunction",e[e.ArrowFunction=11]="ArrowFunction",e[e.AsyncArrowFunction=12]="AsyncArrowFunction",e[e.AsyncFunction=13]="AsyncFunction",e[e.AsyncConciseMethod=14]="AsyncConciseMethod",e[e.StaticAsyncConciseMethod=15]="StaticAsyncConciseMethod",e[e.AsyncConciseGeneratorMethod=16]="AsyncConciseGeneratorMethod",e[e.StaticAsyncConciseGeneratorMethod=17]="StaticAsyncConciseGeneratorMethod",e[e.AsyncGeneratorFunction=18]="AsyncGeneratorFunction",e[e.GeneratorFunction=19]="GeneratorFunction",e[e.ConciseGeneratorMethod=20]="ConciseGeneratorMethod",e[e.StaticConciseGeneratorMethod=21]="StaticConciseGeneratorMethod",e[e.ConciseMethod=22]="ConciseMethod",e[e.StaticConciseMethod=23]="StaticConciseMethod",e[e.ClassMembersInitializerFunction=24]="ClassMembersInitializerFunction",e[e.ClassStaticInitializerFunction=25]="ClassStaticInitializerFunction",e[e.Invalid=26]="Invalid",e[e.LastFunctionKind=25]="LastFunctionKind"}(ve||(ve={}));const Ie=[[[ve.NormalFunction,ve.AsyncFunction],[ve.GeneratorFunction,ve.AsyncGeneratorFunction]],[[ve.ConciseMethod,ve.AsyncConciseMethod],[ve.ConciseGeneratorMethod,ve.AsyncConciseGeneratorMethod]],[[ve.StaticConciseMethod,ve.StaticAsyncConciseMethod],[ve.StaticConciseGeneratorMethod,ve.StaticAsyncConciseGeneratorMethod]]];var Oe,Pe,Re,Le,Me,Fe,De,_e,Be;function je(e){return be(e,ve.Module,ve.AsyncModule)}function He(e){return be(e,ve.AsyncConciseGeneratorMethod,ve.AsyncGeneratorFunction)}function Ve(e){return be(e,ve.AsyncConciseGeneratorMethod,ve.StaticConciseGeneratorMethod)}function Ge(e){return be(e,ve.AsyncArrowFunction,ve.AsyncGeneratorFunction)}function $e(e){return!je(e)&&(Ge(e)||e==ve.ClassStaticInitializerFunction)}!function(e){e[e.NormalFunction=0]="NormalFunction",e[e.NonStaticMethod=1]="NonStaticMethod",e[e.StaticMethod=2]="StaticMethod"}(Oe||(Oe={})),function(e){e[e.NotStatic=0]="NotStatic",e[e.Static=1]="Static"}(Pe||(Pe={})),function(e){e[e.AnonymousExpression=0]="AnonymousExpression",e[e.NamedExpression=1]="NamedExpression",e[e.Declaration=2]="Declaration",e[e.AccessorOrMethod=3]="AccessorOrMethod",e[e.Wrapped=4]="Wrapped",e[e.LastFunctionSyntaxKind=4]="LastFunctionSyntaxKind"}(Re||(Re={})),function(e){e.FunctionNameIsStrictReserved="FunctionNameIsStrictReserved",e.SkipFunctionNameCheck="SkipFunctionNameCheck",e.FunctionNameValidityUnknown="FunctionNameValidityUnknown"}(Le||(Le={})),function(e){e.CONSTANT="CONSTANT",e.COMPUTED="COMPUTED",e.MATERIALIZED_LITERAL="MATERIALIZED_LITERAL",e.GETTER="GETTER",e.SETTER="SETTER",e.PROTOTYPE="PROTOTYPE",e.SPREAD="SPREAD"}(Me||(Me={})),function(e){e.METHOD="METHOD",e.GETTER="GETTER",e.SETTER="SETTER",e.FIELD="FIELD"}(Fe||(Fe={}));class Je{static Kind=Fe}function Ue(e){switch(e){case we.AccessorGetter:return Fe.GETTER;case we.AccessorSetter:return Fe.SETTER;case we.Method:return Fe.METHOD;case we.ClassField:return Fe.FIELD}throw new Error(`unexpected property kind: ${e}`)}!function(e){e.Const="Const",e.PrivateMethod="PrivateMethod",e.PrivateGetterOnly="PrivateGetterOnly",e.PrivateSetterOnly="PrivateSetterOnly"}(De||(De={})),function(e){e[e.StatementListItem=0]="StatementListItem",e[e.Statement=1]="Statement",e[e.ForStatement=2]="ForStatement"}(_e||(_e={})),function(e){e[e.AllowLabelledFunctionStatement=0]="AllowLabelledFunctionStatement",e[e.DisallowLabelledFunctionStatement=1]="DisallowLabelledFunctionStatement"}(Be||(Be={}));let We=(()=>{let e,t,s=[B("EmptyStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}constructor(e,t){super(e,t)}set(e,t){throw new Error("EmptyStatement#set() has no implementation.")}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return";"}toJson(){return{}}};return i=t})(),ze=(()=>{let e,t,s=[B("DebuggerStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}set(e,t){throw new Error("DebuggerStatement#set() has no implementation.")}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return"debugger"}toJson(){return{}}};return i=t})();const Ke=["200b","200c","200d","feff"],qe=/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/,Ye=/[_$a-zA-Z\xA0-\uFFFF]/,Ze=/[_$a-zA-Z0-9\xA0-\uFFFF]/;class Xe{string;range;constructor(e,t){this.string=e,this.range=t}}class Qe{mode;static getTokenStream(e,t){if(Array.isArray(e))return new et(e,t);if("string"==typeof e)return new tt(e,t);throw new Error(`Can't build token stream for ${e}`)}pos=0;savedPosition=0;current;savedCurrent;last;constructor(e=g.Strict){this.mode=e}setLanguageMode(e){this.mode=e}getLanguageMode(){return this.mode}save(){this.savedPosition=this.pos,this.savedCurrent=this.current}restore(){this.pos=this.savedPosition,this.current=this.savedCurrent,this.last=void 0}reset(){this.pos=0,this.savedPosition=0,this.current=this.savedCurrent=void 0}lastToken(){return this.last}currentToken(){return this.current}seekTo(e){let t;for(;;){if(t=this.next(),t.token===e)return!0;if(t.token===ye.EOS)return!1}}getPos(){return this.pos}setPos(e){this.pos=e,this.current=void 0}getSavedPos(){return this.savedPosition}getStreamer(e=ye.EOS){const t=[];return this.readTill(e,t),new et(t)}readTill(e=ye.EOS,t){ye.isClosePair(e)?this.readTokensPair(ye.openOf(e),e,t):this.readTokens(e,t)}readTokens(e,t){let s;for(;s=this.next(),s.token!==e&&s.token!==ye.EOS;)t.push(s)}readTokensConsiderPair(e,...t){let s,r;for(;;)if(ye.isOpenPair(r=this.peek().token))this.readTokensPair(r,ye.closeOf(r),e);else{if(s=this.next(),t.includes(s.token)||s.token===ye.EOS)break;e.push(s)}}readTokensPair(e,t,s){let r,n=0;for(;;){if(r=this.next(),r.token===e)n++;else if(r.token===t){if(n>0&&n--,0===n){s.push(r);break}}else if(r.token===ye.EOS)break;s.push(r)}}toTokens(){const e=[];let t;for(;t=this.next(),t.token!==ye.EOS;)e.push(t);return e}[Symbol.iterator](){this.pos=0;const e=this;return{[Symbol.iterator]:function(){return this},next:()=>{const t=e.next(),s=t.isType(ye.EOS);return{value:t,done:s}}}}scanRegExpPattern(){return!1}peek(){this.save();const e=this.next();return this.restore(),e}peekAhead(){this.save(),this.next();const e=this.next();return this.restore(),e}peekPosition(){this.save(),this.next();const e=this.pos;return this.restore(),e}peekAheadPosition(){this.save(),this.next(),this.next();const e=this.pos;return this.restore(),e}}class et extends Qe{tokens;constructor(e,t){super(t),this.tokens=e}next(){return this.pos===this.tokens.length?new Se(ye.EOS,[-1,-1]):(this.last=this.current,this.current=this.tokens[this.pos++])}createError(e){return"parse error ["+this.pos+"]: "+e}hasLineTerminatorBeforeNext(){return!1}hasLineTerminatorAfterNext(){return!1}scanTemplateContinuation(){return this.next()}}class tt extends Qe{expression;static REGEXP_FLAGS=["g","i","m","s","u","y"];static UnicodePattern=/^[0-9a-f]{4}$/i;static DecimalPattern=/^[0-9a-f]{2}$/i;static AsciiPattern=/^[0-7]{1,3}$/i;static OctalPattern=/^[0-7]+$/i;constructor(e,t){super(t),this.expression=e}newToken(e,t,s){return new Se(e,t,s)}next(){if(this.pos>=this.expression.length)return this.current=this.newToken(ye.EOS,[this.expression.length,this.expression.length]);if(this.last=this.current,this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isString()||this.isTemplateLiteral()||this.isCurlY()||this.isParentheses()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isOperator()||this.isStatement()||this.isProperty())return this.current;if(this.pos>=this.expression.length)return this.current=this.newToken(ye.EOS,[this.expression.length,this.expression.length]);throw new Error(this.createError('Unknown character "'+this.expression.charAt(this.pos)+'"'))}hasLineTerminatorBeforeNext(){const e=this.peekPosition(),t=this.expression.substring(this.pos,e);return/(?:\r?\n)/g.test(t)}hasLineTerminatorAfterNext(){const e=this.peekPosition(),t=this.peekAheadPosition(),s=this.expression.substring(e,t);return/(?:\r?\n)/g.test(s)}isString(){const e=this.expression.charAt(this.pos);if("'"===e||'"'===e){const t=this.pos;let s=[],r="";const n=()=>{r=this.expression.charAt(++this.pos)},i=e=>{for(;;){if(r=this.expression.charAt(++this.pos),this.pos>=this.expression.length)return;if(e(r))break}},a=e=>s.push(e);for(;;){for(i((e=>e.charCodeAt(0)>127?!!this.isStringLiteralLineTerminator(e)||(a(e),!1):!!this.mayTerminateString(e)||(a(r),!1)));"\\"===r;){n();const e=this.scanEscape(!1);if(""==e||!e)return!1;a(e),n()}if(r===e){n();const e=this.pos,r=s.join(""),i=this.expression.substring(t,e),a=[t,e],o=new G(r,i,void 0,void 0,a);return this.current=this.newToken(ye.STRING,a,o),!0}if(""==r||this.pos>=this.expression.length)break;a(r)}}return!1}isTemplateLiteral(){return"`"===this.expression.charAt(this.pos)&&(this.pos++,this.current=this.scanTemplateSpan(),!0)}scanTemplateSpan(){const e=this.pos;let t=ye.TEMPLATE_SPAN,s=[],r=this.expression.charAt(this.pos);const n=()=>{this.pos++,r=this.expression.charAt(this.pos)},i=e=>s.push(e);for(;;){let e=r;if("`"==e){n(),t=ye.TEMPLATE_TAIL;break}if("$"==e&&"{"==this.expression.charAt(this.pos+1)){n(),n();break}if("\\"==e)if(n(),this.isLineTerminator(r)){let e=r;n(),"\r"==e&&("\n"==r&&n(),e="\n"),i(e)}else{const e=this.scanEscape(!0);if(!1===e)throw new SyntaxError(this.createError("Unterminated Template Escape char"));i(e),n()}else{if(""==e||this.pos>=this.expression.length)break;n(),"\r"==e&&("\n"==r&&n(),e="\n"),i(e)}}const a=[e-1,this.pos];return this.newToken(t,a,new Xe(s.join(""),a))}scanTemplateContinuation(){if(this.current.isNotType(ye.RBRACE))throw new SyntaxError(this.createError("Unterminated Template Expr"));return this.scanTemplateSpan()}scanEscape(e){let t=this.expression.charAt(this.pos);if(!e&&this.isLineTerminator(t))return"\r"==t&&"\n"==this.expression.charAt(this.pos+1)&&this.pos++,"\n";switch(t){case"b":t="\b";break;case"f":t="\f";break;case"n":t="\n";break;case"r":t="\r";break;case"t":t="\t";break;case"u":if(this.pos++,t=this.scanUnicodeEscape(),!1===t)return!1;break;case"v":t="\v";break;case"x":if(this.pos++,t=this.scanHexNumber(2),!1===t)return!1;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":this.pos++,t=this.scanOctalEscape(t,2);break;case"8":case"9":throw new SyntaxError(this.createError("'\\8' and '\\9' are disallowed in strict mode."))}return t}scanUnicodeEscape(){let e=this.expression.charAt(this.pos);if("{"==e){this.pos++;const t=this.scanUnlimitedLengthHexNumber(1114111);return e=this.expression.charAt(++this.pos),"}"==e&&t}return this.scanHexNumber(4)}scanHexNumber(e){if(e>4)throw new RangeError(this.createError("ScanHexNumber: length should be less than or equal to 4"));let t=0,s=this.pos,r=this.expression.charAt(s);for(let n=0;n<e;n++){let e=this.hexValue(r);if(e<0)return!1;t=16*t+e,r=this.expression.charAt(++s)}return this.pos=s-1,String.fromCodePoint(t)}scanUnlimitedLengthHexNumber(e){let t=0,s=this.pos,r=this.expression.charAt(s),n=this.hexValue(r);if(n<0)throw new RangeError(this.createError("Invalid code"));for(;n>=0;){if(t=16*t+n,t>e)throw new RangeError(this.createError("Undefined Unicode Code Point"));r=this.expression.charAt(++s),n=this.hexValue(r)}return this.pos=s-1,String.fromCodePoint(t)}hexValue(e){let t=e.charCodeAt(0)-"0".charCodeAt(0);return t<=9?t:(t=(32|t)-("a".charCodeAt(0)-"0".charCodeAt(0)),t<=5?t+10:-1)}scanOctalEscape(e,t){if(!("0"<=e&&e<="7"))throw new SyntaxError(this.createError("Invalid octal escape sequence"));const s="0".charCodeAt(0);let r=e.charCodeAt(0)-s,n=0,i=0,a="";for(;i<t;i++){a=this.expression.charAt(this.pos+i);let e=a.charCodeAt(0)-s;if(e<0||e>7)break;const t=8*r+e;if(t>=256)break;r=t,n++}return this.pos+=n-1,String.fromCharCode(r)}isParentheses(){const e=this.expression.charAt(this.pos);return"("===e?(this.current=this.newToken(ye.LPAREN,[this.pos,++this.pos]),!0):")"===e&&(this.current=this.newToken(ye.RPAREN,[this.pos,++this.pos]),!0)}isBracket(){const e=this.expression.charAt(this.pos);return"["===e?(this.current=this.newToken(ye.LBRACK,[this.pos,++this.pos]),!0):"]"===e&&(this.current=this.newToken(ye.RBRACK,[this.pos,++this.pos]),!0)}isCurlY(){const e=this.expression.charAt(this.pos);return"{"===e?(this.current=this.newToken(ye.LBRACE,[this.pos,++this.pos]),!0):"}"===e&&(this.current=this.newToken(ye.RBRACE,[this.pos,++this.pos]),!0)}isComma(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(ye.COMMA,[this.pos,++this.pos]),!0)}isSemicolon(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(ye.SEMICOLON,[this.pos,++this.pos]),!0)}isProperty(){let e=this.pos,t=e,s=!1,r=!1,n=!1,i=this.expression.charAt(t);if("#"===i&&(s=!0,e++,t++),i=this.expression.charAt(t),Ye.test(i))t++;else{if("\\"!==i||"u"!==this.expression.charAt(t+1))return!1;t+=2,n=r=!0}for(;t<this.expression.length;t++)if(i=this.expression.charAt(t),!Ze.test(i)){if("\\"===i&&"u"===this.expression.charAt(t+1)){t++,n=r=!0;continue}if("{"===i&&n){const e=this.expression.indexOf("}",t+1);if(-1===e)return!1;n=!1,t=e;continue}break}let a,o=this.expression.substring(e,t);if(r){if(o=this.unescape(o),!qe.test(o))return!1;this.pos=t}else this.pos+=o.length+(s?1:0);if(s){const t=[e-1,this.pos];a=new ce(o,t),this.current=this.newToken(ye.PRIVATE_NAME,t,a)}else{const t=[e,this.pos];switch(o){case"this":this.current=this.newToken(ye.THIS,t);break;case"null":this.current=this.newToken(ye.NULL_LITERAL,t,new G(null,void 0,void 0,void 0,t));break;case"undefined":this.current=this.newToken(ye.UNDEFINED_LITERAL,t,new G(void 0,void 0,void 0,void 0,t));break;case"true":this.current=this.newToken(ye.TRUE_LITERAL,t,new G(!0,void 0,void 0,void 0,t));break;case"false":this.current=this.newToken(ye.FALSE_LITERAL,t,new G(!1,void 0,void 0,void 0,t));break;case"globalThis":this.current=this.newToken(ye.IDENTIFIER,t,new H("globalThis",t));break;case"Symbol":this.current=this.newToken(ye.IDENTIFIER,t,new H("Symbol",t));break;case"of":this.current=this.newToken(ye.IDENTIFIER,t,new H("of",t));break;case"as":this.current=this.newToken(ye.IDENTIFIER,t,new H("as",t));break;case"default":this.current=this.newToken(ye.DEFAULT,t,new H("default",t));break;case"yield":this.current=this.newToken(ye.YIELD,t,new H("yield",t));break;case"constructor":this.current=this.newToken(ye.IDENTIFIER,t,new H("constructor",t));break;case"arguments":this.current=this.newToken(ye.IDENTIFIER,t,new H("arguments",t));break;case"name":this.current=this.newToken(ye.IDENTIFIER,t,new H("name",t));break;case"eval":this.current=this.newToken(ye.IDENTIFIER,t,new H("eval",t));break;case"debugger":this.current=this.newToken(ye.DEBUGGER,t,new ze(t));break;case"class":this.current=this.newToken(ye.CLASS,t);break;case"await":this.current=this.newToken(ye.AWAIT,t,new H("await",t));break;case"async":this.current=this.newToken(ye.ASYNC,t,new H("async",t));break;default:a=new H(o,t),this.current=this.newToken(ye.IDENTIFIER,t,a)}}return!0}isWhitespace(){let e=!1;for(;Ke.includes(this.expression.charCodeAt(this.pos).toString(16));)this.pos++;let t=this.expression.charAt(this.pos);for(;/\s/.test(t)&&(e=!0,this.pos++,!(this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e}isComment(){const e=this.expression.charAt(this.pos),t=this.expression.charAt(this.pos+1);let s,r;switch(!0){case"/"===e&&"/"===t:s="\n",r=this.expression.indexOf(s,this.pos);break;case"/"===e&&"*"===t:if(s="*/",r=this.expression.indexOf(s,this.pos),-1===r)throw new SyntaxError(this.createError("Invalid or unexpected token"));break;case"<"===e&&"!"===t:if("\x3c!--"===this.expression.substring(this.pos,this.pos+4)){if(I(this.mode))throw new SyntaxError("Html Comment not allowed In Module");const e=this.expression.indexOf("\n",this.pos),t=this.expression.indexOf("--\x3e",this.pos);e<t?(s="\n",r=e):t<e?(s="--\x3e",r=t):(s="",r=-1);break}case"-"===e&&"-"===t:if("--\x3e"===this.expression.substring(this.pos,this.pos+3)){if(I(this.mode))throw new SyntaxError("Html Comment not allowed In Module");let e=this.expression.lastIndexOf("\n",this.pos+1);-1==e&&(e=0);let t=this.expression.substring(e,this.pos+3);if(!/^\s*-->$/g.test(t)){let e=t.lastIndexOf("*/");if(-1==e)return!1;if(t=t.substring(e+2),!/^\s*-->$/g.test(t))return!1}r=this.expression.indexOf("\n",this.pos),s="\n";break}default:return!1}return this.pos=-1==r?this.expression.length:r+s.length,!0}isLineTerminator(e){return/[\n\r\u2028\u2029]/.test(e)}isStringLiteralLineTerminator(e){return/[\n\r]/.test(e)}mayTerminateString(e){return"'"==e||'"'==e||"\n"==e||"\r"==e||"\\"==e}scanRegExpPattern(){const e=this.peek();if(!e.isType(ye.DIV)&&!e.isType(ye.DIV_ASSIGN))return!1;const t=this.pos;this.next();let s=e.isType(ye.DIV_ASSIGN)?"=":"",r=this.pos,n=!1,i=this.expression.charAt(r);for(;"/"!==i||n;){if(""==i||this.isLineTerminator(i))return!1;if("\\"===i){if(s+=i,i=this.expression.charAt(++r),""==i||this.isLineTerminator(i))return!1;s+=i,i=this.expression.charAt(++r)}else"["==i&&(n=!0),"]"==i&&(n=!1),s+=i,i=this.expression.charAt(++r)}r++;let a="";const o=tt.REGEXP_FLAGS.slice();for(;;){const e=this.expression.charCodeAt(r),t=this.expression.charAt(r);if(/[\.\s]/.test(t)||Number.isNaN(e))break;const s=o.indexOf(t);if(-1===s){if(a.includes(t))throw new Error(this.createError("Invalid regular expression flags"));break}a+=t,o.splice(s,1),r++}const c=[t,r],h=new G(new RegExp(s,a),`/${s}/${a}`,{pattern:s,flags:a},void 0,c);return this.current=this.newToken(ye.REGEXP_LITERAL,c,h),this.pos=r,!0}unescape(e){let t=e.indexOf("\\");if(t<0)return e;let s=e.substring(0,t);for(;t>=0;){const r=e.charAt(++t);switch(r){case"\b":case"\f":case"\n":case"\r":case"\t":case"\v":t++,s+="\\"+r;break;case"b":t++,s+="\b";break;case"f":t++,s+="\f";break;case"n":t++,s+="\n";break;case"r":t++,s+="\r";break;case"t":t++,s+="\t";break;case"v":t++,s+="\v";break;case"u":if(t++,"{"===e.charAt(t)){t++;const r=t,n=e.indexOf("}",r+1),i=e.substring(r,n);s+=String.fromCodePoint(parseInt(i,16)),t=n+1}else{const r=e.substring(t,t+4);if(!tt.UnicodePattern.test(r))throw new Error(this.createError("Illegal escape sequence: \\u "+r));s+=String.fromCodePoint(parseInt(r,16)),t+=4}break;case"x":{t++;let r=e.substring(t,t+2);if(!tt.DecimalPattern.test(r))throw new Error(this.createError("Illegal escape sequence: \\x "+r));s+=String.fromCharCode(parseInt(r,16)),t+=2;break}default:if(!Number.isNaN(parseInt(r,8))){let n=r;for(const s of[1,2]){const r=e.charAt(t+s);if(Number.isNaN(parseInt(r,8)))break;n+=r}if(!tt.AsciiPattern.test(n))throw new Error(this.createError("Illegal escape sequence: ASCII 8 base, "+n));s+=String.fromCharCode(parseInt(n,8)),t+=n.length;break}t++,s+=r}let n=e.indexOf("\\",t);if(-1==n){s+=e.substring(t,e.length);break}s+=e.substring(t,n),t=n}return s}isRadixInteger(){let e,t,s=this.pos;if(s>=this.expression.length-2||"0"!==this.expression.charAt(s))return!1;if(++s,"x"===this.expression.charAt(s))e=16,t=/^[0-9a-f]$/i,++s;else{if("b"!==this.expression.charAt(s))return!1;e=2,t=/^[01]$/i,++s}let r=!1,n=s;for(;s<this.expression.length;){const e=this.expression.charAt(s);if(!t.test(e))break;s++,r=!0}if(r){const t=this.expression.substring(n,s),r=this.expression.substring(this.pos,s),i=[this.pos,s],a=new G(parseInt(t,e),r,void 0,void 0,i);this.current=this.newToken(ye.NUMBER,i,a),this.pos=s}return r}isNumber(){const e=this.pos;let t,s=!1,r=this.pos,n=r,i=!1,a=!1,o=!1;for(;r<this.expression.length;)if(t=this.expression.charAt(r),t>="0"&&t<="9"||!i&&"."===t)"."===t?i=!0:a=!0,r++,s=a;else{if("o"!=t.toLowerCase())break;if(r!=e+1)break;r++,o=!0}if(s&&(n=r),"e"===t||"E"===t){r++;let e=!0,s=!1;for(;r<this.expression.length;){if(t=this.expression.charAt(r),!e||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,e=!1}else e=!1;r++}s||(r=n)}if(s){const t=this.expression.substring(e,r);if("n"===this.expression.charAt(r)){r++;const s=[e,this.pos],n=new G(BigInt(t),t+"n",void 0,t,s);this.current=this.newToken(ye.BIGINT,s,n)}else{let s;const r=[e,this.pos];if(o){const e=t.substring(2);if(!tt.OctalPattern.test(e))return!1;s=new G(parseInt(e,8),t,void 0,void 0,r)}else s=new G(parseFloat(t),t,void 0,void 0,r);this.current=this.newToken(ye.NUMBER,r,s)}this.pos=r}else this.pos=n;return s}isOperator(){switch(this.expression.charAt(this.pos)){case"+":return"+"===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.INC,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.ADD_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.ADD,[this.pos,this.pos+=1]),!0;case"-":return"-"===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.DEC,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.SUB_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.SUB,[this.pos,this.pos+=1]),!0;case"=":return"="===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.EQ_STRICT,[this.pos,this.pos+=3]):this.current=this.newToken(ye.EQ,[this.pos,this.pos+=2]):">"===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.ARROW,[this.pos,this.pos+=2]):this.current=this.newToken(ye.ASSIGN,[this.pos,this.pos+=1]),!0;case"*":return"*"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.EXP_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.EXP,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.MUL_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.MUL,[this.pos,this.pos+=1]),!0;case"/":return"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.DIV_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.DIV,[this.pos,this.pos+=1]),!0;case"%":return"%"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.MODULO_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.MODULO,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.MOD_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.MOD,[this.pos,this.pos+=1]),!0;case"^":return"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.BIT_XOR_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.BIT_XOR,[this.pos,this.pos+=1]),!0;case">":return">"===this.expression.charAt(this.pos+1)?">"===this.expression.charAt(this.pos+2)?"="===this.expression.charAt(this.pos+3)?this.current=this.newToken(ye.SHR_ASSIGN,[this.pos,this.pos+=4]):this.current=this.newToken(ye.SHR,[this.pos,this.pos+=3]):"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.SAR_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.SAR,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.GTE,[this.pos,this.pos+=2]):"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.LARGER_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.LARGER,[this.pos,this.pos+=2]):this.current=this.newToken(ye.GT,[this.pos,this.pos+=2]),!0;case"<":return"<"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.SHL_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.SHL,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?">"===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.SPACESHIP,[this.pos,this.pos+=3]):this.current=this.newToken(ye.LTE,[this.pos,this.pos+=2]):"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.SMALLER_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.SMALLER,[this.pos,this.pos+=2]):this.current=this.newToken(ye.LT,[this.pos,this.pos+=1]),!0;case"|":return"|"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.OR_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.OR,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.BIT_OR_ASSIGN,[this.pos,this.pos+=2]):">"===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.PIPELINE,[this.pos,this.pos+=2]):this.current=this.newToken(ye.BIT_OR,[this.pos,this.pos+=1]),!0;case"&":return"&"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.AND_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.AND,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.BIT_AND_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(ye.BIT_AND,[this.pos,this.pos+=1]),!0;case"?":return"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.NULLISH_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(ye.NULLISH,[this.pos,this.pos+=2]):"::"==this.expression.substring(this.pos+1,this.pos+3)?this.current=this.newToken(ye.QUESTION_BIND,[this.pos,this.pos+=3]):"."===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.QUESTION_PERIOD,[this.pos,this.pos+=2]):this.current=this.newToken(ye.CONDITIONAL,[this.pos,this.pos+=1]),!0;case"!":return"="===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(ye.NE_STRICT,[this.pos,this.pos+=3]):this.current=this.newToken(ye.NE,[this.pos,this.pos+=2]):this.current=this.newToken(ye.NOT,[this.pos,this.pos+=1]),!0;case".":return/\.\.\./.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(ye.ELLIPSIS,[this.pos,this.pos+=3]),!0):(this.current=this.newToken(ye.PERIOD,[this.pos,this.pos+=1]),!0);case":":return":"===this.expression.charAt(this.pos+1)?this.current=this.newToken(ye.QUESTION_BIND,[this.pos,this.pos+=2]):this.current=this.newToken(ye.COLON,[this.pos,this.pos+=1]),!0;case"~":return this.current=this.newToken(ye.BIT_NOT,[this.pos,this.pos+=1]),!0;case"a":if(/async\s/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(ye.ASYNC,e,new H("async",e)),!0}if(/await\s/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(ye.AWAIT,e,new H("await",e)),!0}return!1;case"i":if("n"===this.expression.charAt(this.pos+1)){if(/instanceof\s/.test(this.expression.substring(this.pos,this.pos+11)))return this.current=this.newToken(ye.INSTANCEOF,[this.pos,this.pos+=11]),!0;if(/n\s/.test(this.expression.charAt(this.pos+2)))return this.current=this.newToken(ye.IN,[this.pos,this.pos+=3]),!0}return!1;case"t":return!!/typeof\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(ye.TYPEOF,[this.pos,this.pos+=7]),!0);case"v":return!!/void\s/.test(this.expression.substring(this.pos,this.pos+5))&&(this.current=this.newToken(ye.VOID,[this.pos,this.pos+=5]),!0);case"d":return!!/delete\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(ye.DELETE,[this.pos,this.pos+=7]),!0);case"n":return!!/new\s/.test(this.expression.substring(this.pos,this.pos+4))&&(this.current=this.newToken(ye.NEW,[this.pos,this.pos+=4]),!0);default:return!1}}isStatement(){switch(this.expression.charAt(this.pos)){case"b":return!!/break\s?;?/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(ye.BREAK,[this.pos,this.pos+=5]),!0);case"c":return/case[\s~!+-\/\('"`]/.test(this.expression.substring(this.pos,this.pos+5))?(this.current=this.newToken(ye.CASE,[this.pos,this.pos+=4]),!0):/const\s/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(ye.CONST,[this.pos,this.pos+=6]),!0):/catch[\s\{\(]/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(ye.CATCH,[this.pos,this.pos+=5]),!0):/class\s/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(ye.CLASS,[this.pos,this.pos+=6]),!0):!!/continue[\s;]/.test(this.expression.substring(this.pos,this.pos+9))&&(this.current=this.newToken(ye.CONTINUE,[this.pos,this.pos+=8]),!0);case"d":return!!/do[\s|\{]/.test(this.expression.substring(this.pos,this.pos+3))&&(this.current=this.newToken(ye.DO,[this.pos,this.pos+=2]),!0);case"e":return/else[\s|\{]/.test(this.expression.substring(this.pos,this.pos+5))?(this.current=this.newToken(ye.ELSE,[this.pos,this.pos+=4]),!0):/export\s/.test(this.expression.substring(this.pos,this.pos+7))?(this.current=this.newToken(ye.EXPORT,[this.pos,this.pos+=7]),!0):!!/extends\s/.test(this.expression.substring(this.pos,this.pos+8))&&(this.current=this.newToken(ye.EXTENDS,[this.pos,this.pos+=8]),!0);case"g":if(/get\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(ye.GET,e,new H("get",e)),!0}return!1;case"f":return/for[\s\(]/.test(this.expression.substring(this.pos,this.pos+4))?(this.current=this.newToken(ye.FOR,[this.pos,this.pos+=3]),!0):/finally[\s\{]/.test(this.expression.substring(this.pos,this.pos+8))?(this.current=this.newToken(ye.FINALLY,[this.pos,this.pos+=7]),!0):!!/function[\s\*\(]/.test(this.expression.substring(this.pos,this.pos+9))&&(this.current=this.newToken(ye.FUNCTION,[this.pos,this.pos+=8]),!0);case"i":return/if[\s|\(]/.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(ye.IF,[this.pos,this.pos+=2]),!0):/in\s/.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(ye.IN,[this.pos,this.pos+=3]),!0):!!/import\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(ye.IMPORT,[this.pos,this.pos+=7]),!0);case"l":if(/let\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(ye.LET,e,new H("let",e)),!0}return!1;case"t":return/try[\s\{]/.test(this.expression.substring(this.pos,this.pos+4))?(this.current=this.newToken(ye.TRY,[this.pos,this.pos+=3]),!0):!!/throw\s/.test(this.expression.substring(this.pos,this.pos+6))&&(this.current=this.newToken(ye.THROW,[this.pos,this.pos+=6]),!0);case"r":return!!/return[\s~!+-\/\('"`]/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(ye.RETURN,[this.pos,this.pos+=6]),!0);case"s":if(/switch(\s|\()/.test(this.expression.substring(this.pos,this.pos+7)))return this.current=this.newToken(ye.SWITCH,[this.pos,this.pos+=6]),!0;if(/static\s/.test(this.expression.substring(this.pos,this.pos+7)))return this.current=this.newToken(ye.STATIC,[this.pos,this.pos+=7]),!0;if(/set\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(ye.SET,e,new H("set",e)),!0}if(/super[\.\(]?/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(ye.SUPER,e,new ae(e)),!0}return!1;case"w":return/while(\s|\()/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(ye.WHILE,[this.pos,this.pos+=5]),!0):!!/with(\s|\()/.test(this.expression.substring(this.pos,this.pos+5))&&(this.current=this.newToken(ye.WITH,[this.pos,this.pos+=4]),!0);case"v":return!!/var\s/.test(this.expression.substring(this.pos,this.pos+4))&&(this.current=this.newToken(ye.VAR,[this.pos,this.pos+=4]),!0);default:return!1}}getCoordinates(){let e,t=0,s=-1;do{t++,e=this.pos-s,s=this.expression.indexOf("\n",s+1)}while(s>=0&&s<this.pos);return{line:t,column:e}}createError(e){let t=this.getCoordinates();const s=this.expression.lastIndexOf("\n",this.pos)+1;let r=this.expression.indexOf("\n",this.pos+1);-1==r&&(r=this.expression.length);const n=Math.max(s,this.pos-25),i=Math.min(r,this.pos+25,this.expression.length),a=this.expression.substring(n,i),o=new Array(i-n).fill(" ");o[this.pos-n]="^";const c=o.join("");return`\n\t\t\t> ${e}\n\t\t\t> token name: '${this.current?.token?.getName()}' ${this.current?.value?`parsed: ${this.current.value.toString()}`:""}\n\t\t\t> ${t.line}:${t.column}\t${a}\n\t\t\t> ${t.line}:${t.column}\t${c}\n\t\t\t`}}let st=(()=>{let e,t,s=[B("NewExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}className;static fromJSON(e,t){return new i(t(e.className),e.arguments?.map(t),e.range,e.loc)}static visit(e,t){t(e.className),e.arguments?.forEach(t)}arguments;constructor(e,t,s,r){super(s,r),this.className=e,this.arguments=t}getClassName(){return this.className}getArguments(){return this.arguments}set(e,t){throw new Error("NewExpression#set() has no implementation.")}get(e){const t=this.className.get(e);let s;if(this.arguments)if(this.arguments.length>0){const r=[];for(const t of this.arguments){if(t instanceof ee){const s=e.pushBlockScopeFor(r);t.get(e),e.clearTo(s);break}r.push(t.get(e))}s=new t(...r)}else s=new t;else s=new t;return s}dependency(e){return this.className.dependency(e).concat(this.arguments?.flatMap((t=>t.dependency(e)))||[])}dependencyPath(e){return this.className.dependencyPath(e).concat(this.arguments?.flatMap((t=>t.dependencyPath(e)))||[])}toString(){const e=this.arguments?`(${this.arguments?.map((e=>e.toString())).join(", ")})`:"";return`new ${this.className.toString()}${e}`}toJson(){return{className:this.className.toJSON(),arguments:this.arguments?.map((e=>e.toJSON()))}}};return i=t})(),rt=(()=>{let e,t,s=[B("RestElement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("RestElement#set() Method has no implementation.")}get(e){throw new Error("RestElement#get() Method has no implementation.")}declareVariable(e,t){this.argument.declareVariable(e,t)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`...${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return i=t})(),nt=(()=>{let e,t,s=[B("ReturnStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}argument;static fromJSON(e,t){return new i(e.argument?t(e.argument):void 0,e.range,e.loc)}static visit(e,t){e.argument&&t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("ReturnStatement#set() has no implementation.")}get(e){return new L(this.argument?.get(e))}dependency(e){return this.argument?.dependency(e)||[]}dependencyPath(e){return this.argument?.dependencyPath(e)||[]}toString(){return`return ${this.argument?.toString()||""}`}toJson(){return{argument:this.argument?.toJSON()}}};return i=t})(),it=(()=>{let e,t,s=[B("ThrowStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("ThrowStatement#set() has no implementation.")}get(e){throw this.argument.get(e)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`throw ${this.argument.toString()}`}toJson(){return{argument:this.argument?.toJSON()}}};return i=t})(),at=(()=>{let e,t,s=[B("CatchClause")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}body;param;static fromJSON(e,t){return new i(t(e.body),e.param?t(e.param):void 0,e.range,e.loc)}constructor(e,t,s,r){super(s,r),this.body=e,this.param=t}getParam(){return this.param}getBody(){return this.body}set(e,t){this.param?.set(e,t)}get(e,t){return this.body.get(e)}dependency(e){return this.body.dependency()}dependencyPath(e){return this.body.dependencyPath(e)}toString(){return`catch (${this.param?.toString()||""}) ${this.body.toString()}`}toJson(e){return{param:this.param?.toJSON(),body:this.body.toJSON()}}};return i=t})(),ot=(()=>{let e,t,s=[B("TryStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}block;handler;finalizer;static fromJSON(e,t){return new i(t(e.block),e.handler?t(e.handler):void 0,e.finalizer?t(e.finalizer):void 0,e.range,e.loc)}constructor(e,t,s,r,n){super(r,n),this.block=e,this.handler=t,this.finalizer=s}getBlock(){return this.block}getHandler(){return this.handler}getFinalizer(){return this.finalizer}set(e,t){throw new Error("TryCatchNode#set() has no implementation.")}get(e){const t=e.lastScope();if(this.block&&this.handler&&this.finalizer)try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}catch(s){e.clearTill(t);const r=e.pushBlockScope();this.handler.set(e,s),this.handler.get(e),e.clearTo(r)}finally{e.clearTill(t);const s=e.pushBlockScope();this.finalizer.get(e),e.clearTo(s)}else if(this.block&&this.handler)try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}catch(s){e.clearTill(t);const r=e.pushBlockScope();e.clearTo(r),this.handler.set(e,s),this.handler.get(e),e.clearTo(r)}else{if(!this.block||!this.finalizer)throw new Error("Uncaught SyntaxError: Missing catch or finally after try");try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}finally{e.clearTill(t);const s=e.pushBlockScope();this.finalizer.get(e),e.clearTo(s)}}e.clearTill(t)}dependency(e){return this.block.dependency().concat(this.handler?.dependency()||[]).concat(this.finalizer?.dependency()||[])}dependencyPath(e){return this.block.dependencyPath(e).concat(this.handler?.dependencyPath(e)||[],this.finalizer?.dependencyPath(e)||[])}toString(){return`try ${this.block.toString()} ${this.handler?.toString()||""} ${this.finalizer?`finally ${this.finalizer.toString()}`:""}`}toJson(){return{block:this.block.toJSON(),handler:this.handler?.toJSON(),finalizer:this.finalizer?.toJSON()}}};return i=t})(),ct=(()=>{let e,t,s=[B("YieldExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}delegate;argument;static fromJSON(e,t){return new i(e.delegate,e.argument?t(e.argument):void 0,e.range,e.loc)}static visit(e,t){e.argument&&t(e.argument)}constructor(e,t,s,r){super(s,r),this.delegate=e,this.argument=t}getArgument(){return this.argument}set(e,t){throw new Error("YieldExpression#set() has no implementation.")}get(e){const t=this.argument?.get(e);return this.delegate?new F(t):new M(t)}dependency(e){return this.argument?.dependency(e)||[]}dependencyPath(e){return this.argument?.dependencyPath(e)||[]}toString(){return`yield${this.delegate?"*":""} ${this.argument?.toString()||""}`}toJson(){return{delegate:this.delegate,argument:this.argument?.toJSON()}}};return i=t})(),ht=(()=>{let e,t,s=[B("ArrayExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}elements;static fromJSON(e,t){return new i(e.elements.map((e=>e?t(e):null)),e.range,e.loc)}static visit(e,t){e.elements.forEach((e=>e&&t(e)))}constructor(e,t,s){super(t,s),this.elements=e}getElements(){return this.elements}set(e){throw new Error("ArrayExpression#set() has no implementation.")}get(e){return this.elements.map((t=>t?.get(e)))}dependency(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependencyPath(e)))}toString(){return`[ ${this.elements.map((e=>e?.toString())).toString()} ]`}toJson(){return{elements:this.elements.map((e=>e?.toJSON()))}}};return i=t})(),lt=(()=>{let e,t,s=[B("ArrayPattern")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}elements;static fromJSON(e,t){return new i(e.elements.map((e=>e?t(e):null)),e.range,e.loc)}static visit(e,t){e.elements.forEach((e=>e&&t(e)))}constructor(e,t,s){super(t,s),this.elements=e}getElements(){return this.elements}set(e,t){throw new Error("ArrayPattern#set() has no implementation.")}get(e){throw new Error("ArrayPattern#get() has no implementation.")}declareVariable(e,t){Array.isArray(t)?this.declareVariableFromArray(e,t):Reflect.has(t,Symbol.iterator)&&this.declareVariableFromIterator(e,t)}declareVariableFromArray(e,t){for(let s=0;s<this.elements.length;s++){const r=this.elements[s];if(null!=r){if(r instanceof rt){const n=t.slice(s);r.declareVariable(e,n);break}r.declareVariable(e,t[s])}}}declareVariableFromIterator(e,t){let s=0;for(;;){let r=t.next();if(r.done)break;const n=this.elements[s++];if(null!=n){if(n instanceof rt){const s=[r.value];for(;!r.done;)r=t.next(),s.push(r.value);n.declareVariable(e,s);break}if(n.declareVariable(e,r.value),s>=this.elements.length)break}}}dependency(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependencyPath(e)))}toString(){return`[ ${this.elements.map((e=>e?.toString())).toString()} ]`}toJson(){return{elements:this.elements.map((e=>e?.toJSON()))}}};return i=t})(),ut=(()=>{let e,t,s=[B("BindExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}object;property;computed;optional;static fromJSON(e,t){return new i(t(e.object),t(e.property),e.computed,e.optional,e.range,e.loc)}static visit(e,t){t(e.object),t(e.property)}constructor(e,t,s,r=!1,n,i){super(n,i),this.object=e,this.property=t,this.computed=s,this.optional=r}getObject(){return this.object}getProperty(){return this.property}set(e){throw new Error("BindExpression#set() has no implementation.")}get(e,t){const s=t??this.object.get(e);if(void 0===s)throw new TypeError(`Cannot read property '${this.property.toString()}' of undefined`);let r;if(r=this.computed?s[this.property.get(e)]:this.property.get(e,s),!this.optional||null!=r){if("function"!=typeof r)throw new Error(`can't bind to non-function type ${r}`);return r.bind(s)}}findScope(e,t){return t||(t=this.object.findScope(e)),this.property.findScope(e,t)}dependency(e){return this.object.dependency(e).concat(this.property.dependency(e))}dependencyPath(e){return this.object.dependencyPath(e).concat(this.property.dependencyPath(e))}toString(){return this.computed?`${this.object.toString()}${this.optional?"?::":"::"}[${this.property.toString()}]`:`${this.object.toString()}${this.optional?"?::":"::"}${this.property.toString()}`}toJson(){return{object:this.object.toJSON(),property:this.property.toJSON(),computed:this.computed,optional:this.optional}}};return i=t})(),pt=(()=>{let e,t,s=[B("AssignmentPattern")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}left;right;static fromJSON(e,t){return new i(t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}constructor(e,t,s,r){super(s,r),this.left=e,this.right=t}getLeft(){return this.left}getRight(){return this.right}set(e,t){throw new Error("AssignmentPattern#set() has no implementation.")}get(e){throw new Error("AssignmentPattern#get() has no implementation.")}declareVariable(e,t){void 0===t&&(t=this.right.get(e)),this.left.declareVariable(e,t)}dependency(e){return[this.right]}dependencyPath(e){return this.right.dependencyPath(e)||[]}toString(){return`${this.left.toString()} = ${this.right.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON()}}};return i=t})(),mt=(()=>{let e,t,s=[B("FunctionExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}params;body;async;generator;id;static fromJSON(e,t){return new i(e.params.map(t),t(e.body),e.async,e.generator,e.id?t(e.id):void 0,e.range,e.loc)}static visit(e,t){e.id&&t(e.id),e.params.forEach(t),t(e.body)}constructor(e,t,s,r,n,i,a){super(i,a),this.params=e,this.body=t,this.async=s,this.generator=r,this.id=n}getParams(){return this.params}getBody(){return this.body}getGenerator(){return this.generator}getId(){return this.id}getAsync(){return this.async}set(e,t){throw new Error(`${this.constructor.name}#set() has no implementation.`)}defineFunctionArguments(e,t){const s=this.params[this.params.length-1]instanceof rt,r=s?this.params.length-1:this.params.length;for(let s=0;s<r;s++)this.params[s].declareVariable(e,t[s]);s&&this.params[r].declareVariable(e,t.slice(r))}get(e){let t;return e=e.copyStack(),t=this.async&&this.generator?this.getAsyncGeneratorFunction(e):this.async?this.getAsyncFunction(e):this.generator?this.getGeneratorFunction(e):this.getFunction(e),t}getAsyncFunction(e){const t=this;return async function(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),r.awaitPromise?.length>0){for(const e of r.awaitPromise){const t=await e.promise;e.declareVariable?e.node.declareVariable(r,t):e.node.set(r,t)}r.awaitPromise.splice(0)}else if(r.forAwaitAsyncIterable){for await(let e of r.forAwaitAsyncIterable.iterable){const t=r.forAwaitAsyncIterable.forAwaitBody(e);if(t instanceof z){if("continue"===t.type)continue;break}if(t instanceof L){n=t;break}}r.forAwaitAsyncIterable=void 0}if(n instanceof L)return n=n.value,n instanceof D&&(n=await n.promise),n}}}getGeneratorFunction(e){const t=this;return function*(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),n instanceof L)return n.value;n instanceof M?yield n.value:n instanceof F&&(yield*n.value)}}}getAsyncGeneratorFunction(e){const t=this;return async function*(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),r.awaitPromise?.length>0){for(const e of r.awaitPromise){const t=await e.promise;e.declareVariable?e.node.declareVariable(r,t):e.node.set(r,t)}r.awaitPromise.splice(0)}else if(r.forAwaitAsyncIterable){for await(let e of r.forAwaitAsyncIterable.iterable){const t=r.forAwaitAsyncIterable.forAwaitBody(e);if(t instanceof z){if("continue"===t.type)continue;break}if(t instanceof L)return n=n.value,n instanceof D?await n.promise:(n instanceof M?yield n.value:n instanceof F&&(yield*n.value),n)}r.forAwaitAsyncIterable=void 0}if(n instanceof L)return n=n.value,n instanceof D?await n.promise:n}}}getFunction(e){const t=this;return function(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i)if(n=e.get(r),n instanceof L)return n.value}}dependency(e){return this.params.flatMap((e=>e.dependency()))}dependencyPath(e){return this.params.flatMap((t=>t.dependencyPath(e)))}toString(){let e="function ";return this.async&&this.generator?e="async function* ":this.async?e="async function ":this.generator&&(e="function* "),`${e}${this.id?.toString()||""}${this.paramsAndBodyToString()}`}paramsAndBodyToString(){return`(${this.params.map((e=>e.toString())).join(", ")}) ${this.body.toString()}`}toJson(){return{params:this.params.map((e=>e.toJSON())),body:this.body.toJSON(),async:this.async,id:this.id?.toJSON(),generator:this.generator}}};return i=t})(),dt=(()=>{let e,t,s=[B("FunctionDeclaration")],r=[],n=mt;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(e.params.map(t),t(e.body),e.async,e.generator,t(e.id),e.range,e.loc)}static visit(e,t){t(e.id),e.params.forEach(t),t(e.body)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e){const t=super.get(e);return this.declareVariable(e,t),t}declareVariable(e,t){this.id.declareVariable(e,t)}};return i=t})(),ft=(()=>{let e,t,s=[B("ArrowFunctionExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}params;body;expression;async;static fromJSON(e,t){return new i(e.params.map(t),Array.isArray(e.body)?e.body.map(t):t(e.body),e.expression,e.async,e.range,e.loc)}static visit(e,t){e.params.forEach(t),Array.isArray(e.body)?e.body.forEach(t):t(e.body)}generator=!1;constructor(e,t,s,r,n,i){super(n,i),this.params=e,this.body=t,this.expression=s,this.async=r}getParams(){return this.params}getBody(){return this.body}getExpression(){return this.expression}set(e,t){throw new Error("ArrowFunctionExpression#set() has no implementation.")}setParameter(e,t){const s=this.params[this.params.length-1]instanceof rt,r=s?this.params.length-1:this.params.length;for(let s=0;s<r;s++)this.params[s].declareVariable(e,t[s]);s&&this.params[r].declareVariable(e,t.slice(r))}get(e){return e=e.copyStack(),this.async?this.getAsyncArrowFunction(e):this.getArrowFunction(e)}getAsyncArrowFunction(e){}getArrowFunction(e){return(...t)=>{const s=e.copyStack();let r;s.pushBlockScope(),this.setParameter(s,t);const n=Array.isArray(this.body)?this.body:[this.body];for(const e of n)if(r=e.get(s),r instanceof L)return r.value;if(this.expression)return r}}dependency(e){return this.params.flatMap((e=>e.dependency()))}dependencyPath(e){return this.params.flatMap((t=>t.dependencyPath(e)))}toString(){let e=this.async?"async ":"";return 1===this.params.length?e+=this.params[0].toString():e+=`(${this.params.map((e=>e.toString())).join(", ")})`,e+=" => ",e+=this.body.toString(),e}toJson(){return{params:this.params.map((e=>e.toJSON())),body:Array.isArray(this.body)?this.body.map((e=>e.toJSON())):this.body.toJSON(),expression:!0,async:this.async,generator:this.generator}}};return i=t})(),gt=(()=>{let e,t,s=[B("Property")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}key;value;kind;method;shorthand;computed;static fromJSON(e,t){return new i(t(e.key),t(e.value),e.kind,e.method,e.shorthand,e.computed,e.range,e.loc)}static visit(e,t){t(e.key),t(e.value)}constructor(e,t,s,r,n,i,a,o){super(a,o),this.key=e,this.value=t,this.kind=s,this.method=r,this.shorthand=n,this.computed=i}getKey(){return this.key}getValue(){return this.value}set(e,t){this.key.set(e,t)}get(e,t){const s=this.key instanceof H?this.key.getName():this.key.get(e);let r;switch(this.kind){case"get":const n=this.value.get(e);Object.defineProperty(t,s,{get:n,configurable:!0,enumerable:!0}),r=n;break;case"set":const i=this.value.get(e);Object.defineProperty(t,s,{set:i,configurable:!0,enumerable:!0}),r=i;break;default:r=this.value.get(e),Object.defineProperty(t,s,{value:r,configurable:!0,enumerable:!0,writable:!0})}return r}declareVariable(e,t){const s=t[this.shorthand?this.key.getName():this.key.get(e)];this.value.declareVariable(e,s)}dependency(e){return this.key.dependency(e).concat(this.value.dependency(e))}dependencyPath(e){return this.key.dependencyPath(e).concat(this.value.dependencyPath(e))}toString(){const e=this.computed?`[${this.key.toString()}]`:this.key.toString();if(this.shorthand)return e;let t="";switch(this.kind){case"get":case"set":const s=this.value;t+=this.kind,t+=" "+e,t+=s.paramsAndBodyToString();break;case"init":if(!this.method)return t+=this.value.toString(),`${e}: ${t}`;t+=" "+e,t+=this.value.paramsAndBodyToString()}return t}toJson(){return{key:this.key.toJSON(),value:this.value.toJSON(),kind:this.kind}}};return i=t})(),yt=(()=>{let e,t,s=[B("ObjectExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}properties;static fromJSON(e,t){return new i(e.properties.map(t),e.range,e.loc)}static visit(e,t){e.properties.forEach(t)}constructor(e,t,s){super(t,s),this.properties=e}getProperties(){return this.properties}set(e){throw new Error("ObjectExpression#set() has no implementation.")}get(e){const t={};for(const s of this.properties)s.get(e,t);return t}dependency(e){return this.properties.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.properties.flatMap((t=>t.dependencyPath(e)))}toString(){return`{ ${this.properties.map((e=>e.toString())).join(", ")} }`}toJson(){return{properties:this.properties.map((e=>e.toJSON()))}}};return i=t})(),St=(()=>{let e,t,s=[B("ObjectPattern")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}properties;static fromJSON(e,t){return new i(e.properties.map(t),e.range,e.loc)}static visit(e,t){e.properties.forEach(t)}constructor(e,t,s){super(t,s),this.properties=e}getProperties(){return this.properties}set(e,t){throw new Error("ObjectPattern#set() has no implementation.")}get(e){throw new Error("ObjectPattern#get() has no implementation.")}declareVariable(e,t){for(const s of this.properties)s instanceof rt&&(t=this.getFromObject(e,t)),s.declareVariable(e,t)}getFromObject(e,t){const s=[];s.push(...Object.keys(t)),s.push(...Object.getOwnPropertySymbols(t));const r={},n=e.lastScope().getContext();for(const e of s)e in n||(r[e]=t[e]);return r}dependency(e){return this.properties.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.properties.flatMap((t=>t.dependencyPath(e)))}toString(){return`{ ${this.properties.map((e=>e.toString())).join(", ")} }`}toJson(){return{properties:this.properties.map((e=>e.toJSON()))}}};return i=t})(),bt=(()=>{let e,t,s=[B("ExpressionStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}body;static fromJSON(e,t){return new i(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("ExpressionStatement#set() has no implementation.")}get(e){let t;return this.body.forEach((s=>t=s.get(e))),t}dependency(e){return this.body.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.body.flatMap((t=>t.dependencyPath(e)))}toString(){return this.body.map((e=>({insert:!X(e),string:e.toString()}))).map((e=>`${e.string}${e.insert?";":""}`)).join("\n")}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})();class Et extends P{local;constructor(e,t,s){super(t,s),this.local=e}getLocal(){return this.local}getLocalName(){return this.local.getName()}toJson(){return{local:this.local.toJSON()}}}let wt=(()=>{let e,t,s=[B("ImportAttribute")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}key;value;static fromJSON(e,t){return new i(t(e.key),t(e.value),e.range,e.loc)}static visit(e,t){t(e.key),t(e.value)}constructor(e,t,s,r){super(s,r),this.key=e,this.value=t}getKey(){return this.key}getValue(){return this.value}set(e,t){throw new Error("Method not implemented.")}get(e,t){return{[this.key.get(e)]:this.value.get()}}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.key.toString()}: ${this.value.toString()}`}toJson(){return{key:this.key.toJSON(),value:this.value.toJSON()}}};return i=t})(),xt=(()=>{let e,t,s=[B("ExportSpecifier")],r=[],n=Et;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}exported;static fromJSON(e,t){return new i(t(e.local),t(e.exported),e.range,e.loc)}static visit(e,t){t(e.local),t(e.exported)}constructor(e,t,s,r){super(e,s,r),this.exported=t}getExported(){return this.exported}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){const e=this.local.toString(),t=this.exported.toString();return e==t?e:`${e} as ${t}`}toJson(){return{local:this.local.toJSON(),exported:this.exported.toJSON()}}};return i=t})(),Tt=(()=>{let e,t,s=[B("ExportNamedDeclaration")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}specifiers;declaration;source;assertions;static fromJSON(e,t){return new i(e.specifiers.map(t),e.declaration?t(e.declaration):void 0,e.source?t(e.source):void 0,e.assertions?e.assertions.map(t):void 0,e.range,e.loc)}static visit(e,t){e.specifiers.map(t),e.source&&t(e.source),e.declaration&&t(e.declaration),e.assertions?.forEach(t)}constructor(e,t,s,r,n,i){super(n,i),this.specifiers=e,this.declaration=t,this.source=s,this.assertions=r}getSource(){return this.source}getSpecifiers(){return this.specifiers}getDeclaration(){return this.declaration}getAssertions(){return this.assertions}set(e){throw new Error("ExportNamedDeclaration.#set() has no implementation.")}get(e){this.declaration?this.exportDeclaration(e):this.source?this.exportFromSource(e):this.exportLocal(e)}exportDeclaration(e){if(!this.declaration)return;this.declaration.get(e);const t=this.declaration.getDeclarationName?.();if(!t)throw new Error(`Name is not defined for ${this.declaration.toString()}`);const s=e.get(t);e.getModule().set(t,s)}exportFromSource(e){if(!this.source)return;let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}const s=e.importModule(this.source.get(),t),r=e.getModule();this.specifiers.forEach((t=>{const n=t.getLocal().get(e),i=t.getExported().get(e),a=s.get(n);r.set(i,a);const o=s.subscribe(n,((e,t)=>{e!==t&&r.set(i,e)}));e.onDestroy((()=>o.unsubscribe()))}))}exportLocal(e,t){const s=e.getModule();this.specifiers.forEach((t=>{const r=t.getLocal().get(e),n=t.getExported().get(e),i=e.get(r);s.set(n,i);const a=e.findScope(r);if(a instanceof A){const t=a.subscribe(r,((e,t)=>{e!==t&&s.set(n,e)}));e.onDestroy((()=>t.unsubscribe()))}}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){if(this.declaration)return`export ${this.declaration.toString()}`;let e=`export {${this.specifiers.map((e=>e.toString())).join(",")}}`;return this.source?`${e} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`:`${e};`}toJson(){return{specifiers:this.specifiers.map((e=>e.toJSON())),source:this.source?.toJSON(),declaration:this.declaration?.toJSON(),assertions:this.assertions?.map((e=>e.toJSON()))}}};return i=t})(),At=(()=>{let e,t,s=[B("ExportDefaultDeclaration")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}declaration;static fromJSON(e,t){return new i(t(e.declaration),e.range,e.loc)}static visit(e,t){t(e.declaration)}constructor(e,t,s){super(t,s),this.declaration=e}getDeclaration(){return this.declaration}set(e){throw new Error("ExportDefaultDeclaration.#set() has no implementation.")}get(e){const t=this.declaration.get(e);e.getModule().set("default",t)}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`export default ${this.declaration.toString()}`}toJson(){return{declaration:this.declaration.toJSON()}}};return i=t})(),Nt=(()=>{let e,t,s=[B("ExportAllDeclaration")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}source;exported;assertions;static fromJSON(e,t){return new i(t(e.source),e.exported?t(e.exported):void 0,e.assertions?.map(t),e.range,e.loc)}static visit(e,t){t(e.source),e.exported&&t(e.exported),e.assertions?.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.source=e,this.exported=t,this.assertions=s}getSource(){return this.source}getExported(){return this.exported}getAssertions(){return this.assertions}set(e){throw new Error("ExportDefaultDeclaration.#set() has no implementation.")}get(e){let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}let s=e.getModule();const r=e.importModule(this.source.get(),t);if(this.exported){const t=this.exported.get(e);s.set(t,{}),s=s.getInnerScope(t)}Object.keys(r.getContext()).forEach((t=>{const n=r.get(t);s.set(t,n);const i=r.subscribe(t,((e,r)=>{e!==r&&s.set(t,e)}));e.onDestroy((()=>i.unsubscribe()))}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`export *${this.exported?` as ${this.exported.toString()}`:""} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`}toJson(){return{source:this.source.toJSON(),exported:this.exported?.toJSON(),assertions:this.assertions?.map((e=>e.toJSON()))}}};return i=t})(),vt=(()=>{let e,t,s=[B("ImportSpecifier")],r=[],n=Et;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}imported;static fromJSON(e,t){return new i(t(e.local),t(e.imported),e.range,e.loc)}static visit(e,t){t(e.local),t(e.imported)}constructor(e,t,s,r){super(e,s,r),this.imported=t}getImported(){return this.imported}getImportedName(){return this.imported.getName()}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){const e=this.local.toString(),t=this.imported.toString();return e==t?e:`${t} as ${e}`}toJson(){return{local:this.local.toJSON(),imported:this.imported.toJSON()}}};return i=t})(),kt=(()=>{let e,t,s=[B("ImportDefaultSpecifier")],r=[],n=Et;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.local),e.range,e.loc)}static visit(e,t){t(e.local)}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return this.local.toString()}};return i=t})(),Ct=(()=>{let e,t,s=[B("ImportNamespaceSpecifier")],r=[],n=Et;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.local),e.range,e.loc)}static visit(e,t){t(e.local)}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`* as ${this.local.toString()}`}};return i=t})(),It=(()=>{let e,t,s=[B("ImportDeclaration")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}source;specifiers;assertions;static fromJSON(e,t){return new i(t(e.source),e.specifiers?.map(t),e.assertions?.map(t),e.range,e.loc)}static visit(e,t){t(e.source),e.specifiers?.forEach(t),e.assertions?.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.source=e,this.specifiers=t,this.assertions=s}getSource(){return this.source}getSpecifiers(){return this.specifiers}getAssertions(){return this.assertions}set(e){throw new Error("ImportDeclaration.#set() has no implementation.")}get(e){let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}const s=e.importModule(this.source.get(),t);this.specifiers&&this.specifiers.forEach((t=>{const r=t.getLocalName();if(t instanceof vt){const n=t.getImportedName(),i=s.get(n);e.getModule()?.set(r,i);const a=s.subscribe(r,((t,s)=>{t!==s&&e.getModule()?.set(r,t)}));e.onDestroy((()=>a.unsubscribe()))}else if(t instanceof kt){const t=s.get("default");e.getModule()?.set(r,t);const n=s.subscribe("default",((t,s)=>{t!==s&&e.getModule()?.set(r,t)}));e.onDestroy((()=>n.unsubscribe()))}else t instanceof Ct&&e.getModule()?.importModule(r,s)}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){if(!this.specifiers)return`import '${this.source.toString()}'`;const e=[],t=this.specifiers.filter((e=>e instanceof kt));t?.length&&e.push(t[0].toString());const s=this.specifiers.filter((e=>e instanceof Ct));s?.length&&e.push(s[0].toString());const r=this.specifiers.filter((e=>e instanceof vt));if(r?.length){const t=r.map((e=>e.toString())).join(",");e.push(`{ ${t} }`)}return`import ${e.join(", ")} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`}toJson(){return{source:this.source.toJSON(),specifiers:this.specifiers?.map((e=>e.toJSON())),assertions:this.assertions?.map((e=>e.toJSON()))}}};return i=t})(),Ot=(()=>{let e,t,s=[B("ImportExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}source;attributes;static fromJSON(e,t){return new i(t(e.source),e.attributes&&t(e.attributes)||void 0,e.range,e.loc)}static visit(e,t){t(e.source),e.attributes&&t(e.attributes)}constructor(e,t,s,r){super(s,r),this.source=e,this.attributes=t}getSource(){return this.source}set(e){throw new Error("ImportDeclaration.#set() has no implementation.")}get(e){let t;this.attributes&&(t=this.attributes.get(e));const s=e.importModule(this.source.get(),t);return Promise.resolve(s)}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`import(${this.source.toString()}${this.attributes?`, ${this.attributes.toString()}`:""})`}toJson(){return{source:this.source.toJSON()}}};return i=t})(),Pt=(()=>{let e,t,s=[B("AssignmentExpression")],r=[],n=R;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static fromJSON(e,t){return new i(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"=":e=>e.left=e.right,"*=":e=>e.left*=e.right,"**=":e=>e.left**=e.right,"/=":e=>e.left/=e.right,"%=":e=>e.left%=e.right,"+=":e=>e.left+=e.right,"-=":e=>e.left-=e.right,"<<=":e=>e.left<<=e.right,">>=":e=>e.left>>=e.right,">>>=":e=>e.left>>>=e.right,"&=":e=>e.left&=e.right,"^=":e=>e.left^=e.right,"|=":e=>e.left|=e.right,"%%=":e=>e.left%=(e.left%e.right+e.right)%e.right,">?=":e=>e.left=e.left>e.right?e.left:e.right,"<?=":e=>e.left=e.left>e.right?e.right:e.left};static LogicalEvaluations={"&&=":(e,t)=>{let s=e.left.get(t);return s&&(s=e.right.get(t),e.set(t,s)),s},"||=":(e,t)=>{let s=e.left.get(t);return s||(s=e.right.get(t),e.set(t,s)),s},"??=":(e,t)=>{let s=e.left.get(t);return null==s&&(s=e.right.get(t),e.set(t,s)),s}};constructor(e,t,s,r,n){super(e,t,s,r,n)}set(e,t){return this.left.set(e,t)}get(e){switch(this.operator){case"&&=":case"||=":case"??=":return i.LogicalEvaluations[this.operator](this,e)}const t={left:this.left.get(e),right:this.right.get(e)},s=i.Evaluations[this.operator](t);return this.set(e,s),s}static{(0,S.Co)(t,r)}};return i=t})(),Rt=(()=>{let e,t,s=[B("AwaitExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("AwaitExpression#set() has no implementation.")}get(e,t){const s=this.argument.get(e);return new D(s)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`await ${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return i=t})(),Lt=(()=>{let e,t,s=[B("BinaryExpression")],r=[],n=R;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static fromJSON(e,t){return new i(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"==":e=>e.left==e.right,"!=":e=>e.left!=e.right,"===":e=>e.left===e.right,"!==":e=>e.left!==e.right,"<":e=>e.left<e.right,"<=":e=>e.left<=e.right,">":e=>e.left>e.right,">=":e=>e.left>=e.right,"*":e=>e.left*e.right,"/":e=>e.left/e.right,"%":e=>e.left%e.right,"+":e=>e.left+e.right,"-":e=>e.left-e.right,in:e=>e.left in e.right,instanceof:e=>e.left instanceof e.right,"<<":e=>e.left<<e.right,">>":e=>e.left>>e.right,">>>":e=>e.left>>>e.right,"&":e=>e.left&e.right,"^":e=>e.left^e.right,"|":e=>e.left|e.right,"**":e=>e.left**e.right,"%%":e=>(e.left%e.right+e.right)%e.right,">?":e=>e.left>e.right?e.left:e.right,"<?":e=>e.left>e.right?e.right:e.left,"<=>":e=>null===e.left||null===e.right||typeof e.left!=typeof e.right?null:"string"==typeof e.left?e.left.localeCompare(e.right):e.left>e.right?1:e.left<e.right?-1:0};set(e,t){throw new Error(`BinaryExpression#set() for operator:(${this.operator}) has no implementation.`)}get(e){const t={left:this.left.get(e),right:this.right.get(e)};return i.Evaluations[this.operator](t)}static{(0,S.Co)(t,r)}};return i=t})(),Mt=(()=>{let e,t,s=[B("ChainExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}expression;static fromJSON(e,t){return new i(t(e.expression),e.range,e.loc)}static visit(e,t){t(e.expression)}constructor(e,t,s){super(t,s),this.expression=e}getExpression(){return this.expression}set(e,t){throw new Error("ChainExpression.#set() has no implementation.")}get(e,t){return this.expression.get(e,t)}findScope(e,t){return this.expression.findScope(e,t)}dependency(e){return this.expression.dependency(e)}dependencyPath(e){return this.expression.dependencyPath(e)}toString(){return this.expression.toString()}toJson(){return{expression:this.expression.toJSON()}}};return i=t})(),Ft=(()=>{let e,t,s=[B("SequenceExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}expressions;static fromJSON(e,t){return new i(e.expressions.map(t),e.range,e.loc)}static visit(e,t){e.expressions.forEach(t)}constructor(e,t,s){super(t,s),this.expressions=e}getExpressions(){return this.expressions}set(e){throw new Error("SequenceExpression.#set() has no implementation.")}get(e){return this.expressions.map((t=>t.get(e))).pop()}dependency(e){return this.expressions.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.expressions.flatMap((t=>t.dependencyPath(e)))}toString(){return this.expressions.map((e=>e.toString())).join(", ")}toJson(){return{expressions:this.expressions.map((e=>e.toJSON()))}}};return i=t})(),Dt=(()=>{let e,t,s=[B("GroupingExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}node;static fromJSON(e,t){return new i(t(e.node),e.range,e.loc)}static visit(e,t){t(e.node)}constructor(e,t,s){super(t,s),this.node=e}getNode(){return this.node}set(e,t){this.node.set(e,t)}get(e){return this.node.get(e)}dependency(e){return this.node.dependency(e)}dependencyPath(e){return this.node.dependencyPath(e)}toString(){return`(${this.node.toString()})`}toJson(){return{node:this.node.toJSON()}}};return i=t})(),_t=(()=>{let e,t,s=[B("LogicalExpression")],r=[],n=R;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static fromJSON(e,t){return new i(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"&&":(e,t)=>{let s=e.left.get(t);return s&&(s=e.right.get(t)),s},"||":(e,t)=>{let s=e.left.get(t);return s||(s=e.right.get(t)),s},"??":(e,t)=>{let s=e.left.get(t);return null==s&&(s=e.right.get(t)),s}};get(e){return i.Evaluations[this.operator](this,e)}static{(0,S.Co)(t,r)}};return i=t})(),Bt=(()=>{let e,t,s=[B("PipelineExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}left;right;static fromJSON(e,t){return new i(t(e.left),t(e.right),e.arguments.map((e=>"string"==typeof e?e:t(e))),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),e.arguments.forEach((e=>"object"==typeof e&&t(e)))}arguments;constructor(e,t,s=[],r,n){super(r,n),this.left=e,this.right=t,this.arguments=s}getLeft(){return this.left}getRight(){return this.right}getArguments(){return this.arguments}set(e,t){throw new Error("PipelineNode#set() has no implementation.")}get(e){const t=this.left.get(e),s=[];let r=!1;for(const n of this.arguments)if("?"===n)s.push(t),r=!0;else if("...?"===n)s.push(...t),r=!0;else if(n instanceof ee){const t=e.pushBlockScopeFor(s);n.get(e),e.clearTo(t)}else s.push(n.get(e));r||s.unshift(t);const n=this.right.get(e);if(this.right instanceof te){const t=this.right.getObject().get(e);return n.apply(t,s)}return n(...s)}dependency(e){return this.right.dependency(e).concat(this.left.dependency(e),this.arguments.filter((e=>"?"!==e&&"...?"!==e)).flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.right.dependencyPath(e).concat(this.left.dependencyPath(e),this.arguments.filter((e=>"?"!==e&&"...?"!==e)).flatMap((t=>t.dependencyPath(e))))}toString(){return`${this.left.toString()} |> ${this.right.toString()}${this.arguments.flatMap((e=>`:${e.toString()}`)).join("")}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),arguments:this.arguments.map((e=>"string"==typeof e?e:e.toJSON()))}}};return i=t})(),jt=(()=>{let e,t,s=[B("ConditionalExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}test;alternate;consequent;static fromJSON(e,t){return new i(t(e.test),t(e.alternate),t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.test),t(e.alternate),t(e.consequent)}constructor(e,t,s,r,n){super(r,n),this.test=e,this.alternate=t,this.consequent=s}getTest(){return this.test}getAlternate(){return this.alternate}getConsequent(){return this.consequent}set(e,t){throw new Error("ConditionalExpression#set() has no implementation.")}get(e){return this.test.get(e)?this.consequent.get(e):this.alternate.get(e)}dependency(e){return this.test.dependency(e).concat(this.alternate.dependency(e),this.consequent.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.alternate.dependencyPath(e),this.consequent.dependencyPath(e))}toString(){return`${this.test.toString()} ? (${this.alternate.toString()}):(${this.consequent.toString()})`}toJson(){return{test:this.test.toJSON(),alternate:this.alternate.toJSON(),consequent:this.consequent.toJSON()}}};return i=t})(),Ht=(()=>{let e,t,s=[B("UnaryExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}operator;argument;static fromJSON(e,t){return new i(e.operator,t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}static Evaluations={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e,void:e=>{},typeof:e=>typeof e};constructor(e,t,s,r){super(s,r),this.operator=e,this.argument=t}getOperator(){return this.operator}getArgument(){return this.argument}set(e,t){return this.argument.set(e,t)}get(e,t){if("delete"===this.operator)return this.executeDelete(e,t);{const t=this.argument.get(e);return i.Evaluations[this.operator](t)}}executeDelete(e,t){if(this.argument instanceof te){const t=this.argument.findScope(e);let s;const r=this.argument.getProperty();return s=r instanceof te?this.argument.getProperty().get(e):r instanceof G?r.getValue():this.argument.getProperty().get(e),t.delete(s)}return!1}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){switch(this.operator){case"void":case"delete":case"typeof":return`${this.operator} ${this.argument.toString()}`;default:return`${this.operator}${this.argument.toString()}`}}toJson(){return{operator:this.operator,argument:this.argument.toJSON(),prefix:!0}}static{(0,S.Co)(t,r)}};return i=t})(),Vt=(()=>{let e,t,s=[B("UpdateExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}operator;argument;prefix;static fromJSON(e,t){return new i(e.operator,t(e.argument),e.prefix,e.range,e.loc)}static visit(e,t){t(e.argument)}static PostfixEvaluations={"++":e=>e.value++,"--":e=>e.value--};static PrefixEvaluations={"++":e=>++e.value,"--":e=>--e.value};constructor(e,t,s,r,n){super(r,n),this.operator=e,this.argument=t,this.prefix=s}getOperator(){return this.operator}getArgument(){return this.argument}set(e,t){this.argument.set(e,t)}get(e){const t={value:this.argument.get(e)},s=this.prefix?i.PrefixEvaluations[this.operator](t):i.PostfixEvaluations[this.operator](t);return this.set(e,t.value),s}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return this.prefix?`${this.operator}${this.argument.toString()}`:`${this.argument.toString()}${this.operator}`}toJson(){return{operator:this.operator,argument:this.argument.toJSON(),prefix:this.prefix}}static{(0,S.Co)(t,r)}};return i=t})(),Gt=(()=>{let e,t,s=[B("Program")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}sourceType;body;static fromJSON(e,t){return new i(e.sourceType,e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s,r){super(s,r),this.sourceType=e,this.body=t}set(e,t){throw new Error("Program#set() has no implementation.")}get(e){return this.body.map((t=>t.get(e))).at(-1)}dependency(e){return this.body.flatMap((e=>e.dependency()))}dependencyPath(e){return this.body.flatMap((e=>e.dependencyPath()))}toString(){return this.body.map((e=>e.toString())).join("\n")}toJson(){return{sourceType:this.sourceType,body:this.body.map((e=>e.toJSON()))}}};return i=t})(),$t=(()=>{let e,t,s=[B("IfStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}test;consequent;alternate;static fromJSON(e,t){return new i(t(e.test),t(e.consequent),e.alternate?t(e.alternate):void 0,e.range,e.loc)}static visit(e,t){t(e.test),t(e.consequent),e.alternate&&t(e.alternate)}constructor(e,t,s,r,n){super(r,n),this.test=e,this.consequent=t,this.alternate=s}getTest(){return this.test}getConsequent(){return this.consequent}getAlternate(){return this.alternate}set(e,t){throw new Error("IfStatement#set() has no implementation.")}get(e){if(this.test.get(e)){const t=e.pushBlockScope(),s=this.consequent.get(e);return e.clearTo(t),s}if(this.alternate){const t=e.pushBlockScope(),s=this.alternate.get(e);return e.clearTo(t),s}}dependency(e){return this.test.dependency(e).concat(this.consequent.dependency(e),this.alternate?.dependency(e)||[])}dependencyPath(e){return this.test.dependencyPath(e).concat(this.consequent.dependencyPath(e),this.alternate?.dependencyPath(e)||[])}toString(){return`if (${this.test.toString()}) ${this.consequent.toString()}${this.alternate?" else ":""}${this.alternate?this.alternate.toString():""}`}toJson(){return{test:this.test.toJSON(),consequent:this.consequent.toJSON(),alternate:this.alternate?.toJSON()}}};return i=t})(),Jt=(()=>{let e,t,s=[B("SwitchCase")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}test;consequent;static fromJSON(e,t){return new i(t(e.test),t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.test),t(e.consequent)}constructor(e,t,s,r){super(s,r),this.test=e,this.consequent=t}getTest(){return this.test}getConsequent(){return this.consequent}set(e,t){throw new Error("SwitchCase#set() has no implementation.")}get(e){return this.consequent.get(e)}dependency(e){return this.test.dependency(e).concat(this.consequent.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.consequent.dependencyPath(e))}toString(){return`case ${this.test.toString()}: ${this.consequent.toString()};`}toJson(){return{test:this.test.toJSON(),consequent:this.consequent.toJSON()}}};return i=t})(),Ut=(()=>{let e,t,s=[B("default")],r=[],n=Jt;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.consequent)}constructor(e,t,s){super(new H("default"),e,t,s)}dependency(e){return this.consequent.dependency(e)}dependencyPath(e){return this.consequent.dependencyPath(e)}toString(){return`default: ${this.consequent.toString()};`}toJson(){return{consequent:this.consequent.toJSON()}}};return i=t})(),Wt=(()=>{let e,t,s=[B("SwitchStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}discriminant;cases;static fromJSON(e,t){return new i(t(e.discriminant),e.cases.map(t),e.range,e.loc)}static visit(e,t){t(e.discriminant),e.cases.forEach(t)}constructor(e,t,s,r){super(s,r),this.discriminant=e,this.cases=t}getDiscriminant(){return this.discriminant}getCases(){return this.cases}set(e,t){throw new Error("SwitchStatement#set() has no implementation.")}get(e){const t=this.discriminant.get(e);let s=this.cases.map((t=>t.getTest().get(e))).findIndex((e=>t===e));if(-1===s&&(s=this.cases.findIndex((e=>e instanceof Ut)),-1===s))return;const r=e.pushBlockScope();for(let r=s;r<this.cases.length;r++)if(this.cases[r].get(e),t instanceof z){if("continue"===t.type)continue;break}e.clearTo(r)}dependency(e){return this.discriminant.dependency(e).concat(this.cases.flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.discriminant.dependencyPath(e).concat(this.cases.flatMap((t=>t.dependencyPath(e))))}toString(){return`switch (${this.discriminant.toString()}) {${this.cases.map((e=>e.toString()))}`}toJson(){return{discriminant:this.discriminant.toJSON(),cases:this.cases.map((e=>e.toJSON()))}}};return i=t})(),zt=(()=>{let e,t,s=[B("WithStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}object;body;static fromJSON(e,t){return new i(t(e.object),t(e.body),e.range,e.loc)}static visit(e,t){t(e.object),t(e.body)}constructor(e,t,s,r){super(s,r),this.object=e,this.body=t}getObject(){return this.object}getBody(){return this.body}set(e,t){throw new Error("WithStatement#set() has no implementation.")}get(e){const t=this.object.get(e);let s;if(t[Symbol.unscopables]){const e=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],r=Object.entries(t[Symbol.unscopables]).filter((e=>e[1])).map((e=>e[0]));s=e.filter((e=>!r.includes(e)))}const r=e.pushBlockScopeFor(t,s);r.getContextProxy=()=>t;const n=this.body.get(e);return e.clearTo(r),n}dependency(e){return this.object.dependency(e).concat(this.body.dependency(e))}dependencyPath(e){return this.object.dependencyPath(e).concat(this.body.dependencyPath(e))}toString(){return`with (${this.object.toString()}) ${this.body.toString()}`}toJson(){return{object:this.object.toJSON(),body:this.body.toJSON()}}};return i=t})(),Kt=(()=>{let e,t,s=[B("VariableDeclarator")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}id;init;static fromJSON(e,t){return new i(t(e.id),e.init?t(e.init):void 0,e.range,e.loc)}static visit(e,t){t(e.id),e.init&&t(e.init)}constructor(e,t,s,r){super(s,r),this.id=e,this.init=t}getId(){return this.id}getInit(){return this.init}set(e,t){throw new Error("VariableNode#set() has no implementation.")}get(e){this.declareVariable(e)}declareVariable(e,t){if(void 0!==t)return void this.id.declareVariable(e,t);const s=this.init?.get(e);s instanceof D?(s.node=this.id,s.declareVariable=!0,s.node.declareVariable(e),e.resolveAwait(s)):this.id.declareVariable(e,s)}getDeclarationName(){return this.id.getDeclarationName()}dependency(e){return this.init?.dependency()||[]}dependencyPath(e){return this.init?.dependencyPath(e)||[]}toString(){return`${this.id.toString()}${this.init?` = ${this.init.toString()}`:""}`}toJson(){return{id:this.id.toJSON(),init:this.init?.toJSON()}}};return i=t})(),qt=(()=>{let e,t,s=[B("VariableDeclaration")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}declarations;kind;static fromJSON(e,t){return new i(e.declarations.map(t),e.kind,e.range,e.loc)}static visit(e,t){e.declarations.forEach(t)}constructor(e,t,s,r){super(s,r),this.declarations=e,this.kind=t}getDeclarations(){return this.declarations}getKind(){return this.kind}set(e,t){if(Array.isArray(t))throw new Error("VariableDeclarationNode#set() has no implementation.");this.declarations[0].id.set(e,t)}get(e){for(const t of this.declarations)t.declareVariable(e)}getDeclarationName(){return this.declarations[0].getDeclarationName()}declareVariable(e,t){this.declarations[0].declareVariable(e,t)}dependency(e){return this.declarations.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.declarations.flatMap((t=>t.dependencyPath(e)))}toString(){return`${this.kind} ${this.declarations.map((e=>e.toString())).join(", ")};`}toJson(){return{kind:this.kind,declarations:this.declarations.map((e=>e.toJSON()))}}};return i=t})(),Yt=(()=>{let e,t,s=[B("ForStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}body;init;test;update;static fromJSON(e,t){return new i(t(e.body),e.init&&t(e.init),e.test&&t(e.test),e.update&&t(e.update),e.range,e.loc)}static visit(e,t){t(e.body),e.init&&t(e.init),e.test&&t(e.test),e.update&&t(e.update)}constructor(e,t,s,r,n,i){super(n,i),this.body=e,this.init=t,this.test=s,this.update=r}getBody(){return this.body}getInit(){return this.init}getTest(){return this.test}getUpdate(){return this.update}set(e,t){throw new Error("ForNode#set() has no implementation.")}get(e){const t=e.pushBlockScope();for(this.init?.get(e);this.test?.get(e)??1;this.update?.get(e)){const s=this.body.get(e);if(s instanceof z){if("continue"===s.type)continue;break}if(s instanceof L)return e.clearTo(t),s}e.clearTo(t)}dependency(e){let t=this.body.dependency(e);return this.init&&(t=t.concat(this.init.dependency(e))),this.test&&(t=t.concat(this.test.dependency(e))),this.update&&(t=t.concat(this.update.dependency(e))),t}dependencyPath(e){let t=this.body.dependencyPath(e);return this.init&&(t=t.concat(this.init.dependencyPath(e))),this.test&&(t=t.concat(this.test.dependencyPath(e))),this.update&&(t=t.concat(this.update.dependencyPath(e))),t}toString(){return`for (${this.init?.toString()};${this.test?.toString()};${this.init?.toString()}) ${this.body.toString()}`}toJson(){return{body:this.body.toJSON(),init:this.init?.toJSON(),test:this.test?.toJSON(),update:this.update?.toJSON()}}};return i=t})(),Zt=(()=>{let e,t,s=[B("ForOfStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}left;right;body;static fromJSON(e,t){return new i(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);for(const s of t){const t=e.pushBlockScope();this.left.declareVariable(e,s);const r=this.body.get(e);if(r instanceof z){if("continue"===r.type)continue;break}if(r instanceof L)return e.clearTo(t),r;e.clearTo(t)}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left?.toString()} of ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return i=t})(),Xt=(()=>{let e,t,s=[B("ForInStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}left;right;body;static fromJSON(e,t){return new i(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);for(const s in t){const t=e.pushBlockScope();this.left.declareVariable(e,s);const r=this.body.get(e);if(r instanceof z){if("continue"===r.type)continue;break}if(r instanceof L)return e.clearTo(t),r;e.clearTo(t)}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left.toString()} in ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return i=t})(),Qt=(()=>{let e,t,s=[B("ForAwaitOfStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}left;right;body;static fromJSON(e,t){return new i(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForAwaitOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);e.forAwaitAsyncIterable={iterable:t,forAwaitBody:t=>{const s=e.pushBlockScope();this.left.declareVariable(e,t);const r=this.body.get(e);return e.clearTo(s),r}}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left?.toString()} of ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return i=t})(),es=(()=>{let e,t,s=[B("WhileStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}test;body;static fromJSON(e,t){return new i(t(e.test),t(e.body),e.range,e.loc)}static visit(e,t){t(e.body),t(e.test)}constructor(e,t,s,r){super(s,r),this.test=e,this.body=t}getTest(){return this.test}getBody(){return this.body}set(e,t){throw new Error("WhileNode#set() has no implementation.")}get(e){const t=this.test.get(e),s=e.pushBlockScope();for(;t;){const t=this.body.get(e);if(t instanceof z){if("continue"===t.type)continue;break}if(t instanceof L)return e.clearTo(s),t}e.clearTo(s)}dependency(e){return this.test.dependency(e).concat(this.body.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.body.dependencyPath(e))}toString(){return`while (${this.test.toString()}) ${this.body.toString()}`}toJson(){return{test:this.test.toJSON(),body:this.body.toJSON()}}};return i=t})(),ts=(()=>{let e,t,s=[B("DoWhileStatement")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}test;body;static fromJSON(e,t){return new i(t(e.test),t(e.body),e.range,e.loc)}static visit(e,t){t(e.test),t(e.body)}constructor(e,t,s,r){super(s,r),this.test=e,this.body=t}getTest(){return this.test}getBody(){return this.body}set(e,t){throw new Error("WhileNode#set() has no implementation.")}get(e){const t=e.pushBlockScope();do{const s=this.body.get(e);if(s instanceof z){if("continue"===s.type)continue;break}if(s instanceof L)return e.clearTo(t),s}while(this.test.get(e));e.clearTo(t)}dependency(e){return this.body.dependency(e).concat(this.test.dependency(e))}dependencyPath(e){return this.body.dependencyPath(e).concat(this.test.dependencyPath(e))}toString(){return`do {${this.body.toString()}} while (${this.test.toString()})`}toJson(){return{test:this.test.toJSON(),body:this.body.toJSON()}}};return i=t})();class ss{source;newLineRegex=new RegExp("\n","g");constructor(e){this.source=e}getLineNumber(e,t){return this.source.substring(0,e).match(this.newLineRegex)?.length??t}getColumnNumber(e){const t=this.source.lastIndexOf("\n",e);return-1===t?e:e-t-1}createSourcePosition(e){if(!e||!this.source)return;const t=this.getLineNumber(e[0],1),s=this.getLineNumber(e[1],t);return{start:{line:t,column:this.getColumnNumber(e[0])},end:{line:s,column:this.getColumnNumber(e[1])}}}}class rs{rangeFactory;constructor(e){this.rangeFactory=e}createDebuggerStatement(e){const t=this.rangeFactory?.createSourcePosition(e);return new ze(e,t)}createSuper(e){const t=this.rangeFactory?.createSourcePosition(e);return new ae(e,t)}createThis(e){const t=this.rangeFactory?.createSourcePosition(e);return new V(e,t)}createNull(e){const t=this.rangeFactory?.createSourcePosition(e);return new G(null,void 0,void 0,void 0,e,t)}createTrue(e){const t=this.rangeFactory?.createSourcePosition(e);return new G(!0,void 0,void 0,void 0,e,t)}createFalse(e){const t=this.rangeFactory?.createSourcePosition(e);return new G(!1,void 0,void 0,void 0,e,t)}createVoidZero(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ht("void",e,t,s)}createEmptyStatement(e){const t=this.rangeFactory?.createSourcePosition(e);return new We(e,t)}createExpressionStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new bt(e,t,s)}createCatchClause(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new at(e,t,s,r)}createTryStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new ot(e,t,s,r,n)}createThrowStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new it(e,t,s)}createBlock(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Q(e,t,s)}createIfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new $t(e,t,s,r,n)}createDoStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ts(e,t,s,r)}createClassDeclaration(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new fe(e,t,s,r,n,i)}createFunctionDeclaration(e,t,s,r,n,i){const a=this.rangeFactory?.createSourcePosition(i);return new dt(e,t,s,r,n,i,a)}createFunctionExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new mt(e,t,s,r,void 0,n,i)}createWhileStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new es(e,t,s,r)}createSwitchStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Wt(e,t,s,r)}createCaseBlock(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Jt(e,t,s,r)}createDefaultClause(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ut(e,t,s)}createWithStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new zt(e,t,s,r)}createForStatement(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Yt(e,t,s,r,n,i)}createForOfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Zt(e,t,s,r,n)}createForAwaitOfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Qt(e,t,s,r,n)}createForInStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Xt(e,t,s,r,n)}createVariableDeclaration(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Kt(e,t,s,r)}createVariableStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new qt(e,t,s,r)}createContinueStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Y(e,t,s)}createBreakStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new q(e,t,s)}createReturnStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new nt(e,t,s)}createLabeledStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Z(e,t,s,r)}createAssignmentPattern(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new pt(e,t,s,r)}createSpreadElement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new ee(e,t,s)}createCommaListExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ft(e,t,s)}createTemplateExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new U(e,t,s,r)}createTaggedTemplateExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new W(e,t,s,r,n)}createNewExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new st(e,t,s,r)}createObjectBindingPattern(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new St(e,t,s)}createObjectLiteralExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new yt(e,t,s)}createArrayBindingPattern(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new lt(e,t,s)}createArrayLiteralExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new ht(e,t,s)}createAssignment(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Pt(e,t,s,r,n)}createRestElement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new rt(e,t,s)}createArrowFunction(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new ft(e,t,s,r,n,i)}createPropertyDeclaration(e,t,s,r,n,i,a){const o=this.rangeFactory?.createSourcePosition(a);return new gt(e,t,s,r,n,i,a,o)}createIdentifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new H(e,t,s)}createPropertyAssignment(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new te(e,t,s,r,n,i)}createPipelineExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Bt(e,t,s,r,n)}createCallExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new se(e,t,s,r,n)}createBindExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new ut(e,t,s,r,n,i)}createChainExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Mt(e,t,s)}createLogicalExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new _t(e,t,s,r,n)}createConditionalExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new jt(e,t,s,r,n)}createYieldExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ct(e,t,s,r)}createMetaProperty(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new oe(e,t,s,r)}createProgram(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Gt(e,t,s,r)}createClassExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new ge(e,t,s,r,n,i)}createClassStaticBlockDeclaration(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new he(e,t,s)}createMethodSignature(e,t,s,r,n,i,a){const o=this.rangeFactory?.createSourcePosition(a);return new ue(e,t,s,r,n,i,a,o)}createPropertySignature(e,t,s,r,n,i){const a=this.rangeFactory?.createSourcePosition(i);return new pe(e,t,s,r,n,i,a)}createClassBody(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new me(e,t,s)}createNamespaceExportDeclaration(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Tt(e,t,s,r,n,i)}createExportSpecifier(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new xt(e,t,s,r)}createImportSpecifier(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new vt(e,t,s,r)}createImportDeclaration(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new It(e,t,s,r,n)}createImportNamespaceSpecifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ct(e,t,s)}createImportDefaultSpecifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new kt(e,t,s)}createImportExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Ot(e,t,s,r)}createAssertEntry(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new wt(e,t,s,r)}createExportDefault(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new At(e,t,s)}createExportAllDeclaration(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Nt(e,t,s,r,n)}createInfixExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);switch(e){case"=":case"+=":case"-=":case"**=":case"/=":case"%=":case"<<=":case">>=":case">>>=":case"&=":case"^=":case"|=":case"&&=":case"||=":case"??=":return new Pt(e,t,s,r,n);case"&&":case"||":case"??":return new _t(e,t,s,r,n);case"**":case"*":case"/":case"%":case"+":case"-":case"<":case"<=":case">":case">=":case"in":case"instanceof":case"==":case"!=":case"===":case"!==":case"<<":case">>":case">>>":case"&":case"^":case"|":case">?":case"<?":case"<=>":return new Lt(e,t,s,r,n);default:throw new Error(`Not Supported Operator: ${e}`)}}createUnaryExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);switch(e){case"++":case"--":return new Vt(e,t,!0,s,r);case"+":case"-":case"!":case"~":case"typeof":case"void":case"delete":return new Ht(e,t,s,r);case"await":return new Rt(t,s,r);default:throw new Error(`${e} is not prefix operator`)}}createUpdateExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Vt(e,t,s,r,n)}createAwaitExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Rt(e,t,s)}isIdentifier(e){return e instanceof H||"Identifier"===e?.type}isObjectExpression(e){return e instanceof yt||"ObjectExpression"===e?.type}isArrayExpression(e){return e instanceof ht||"ArrayExpression"===e?.type}isObjectPattern(e){return e instanceof St||"ObjectPattern"===e?.type}isArrayPattern(e){return e instanceof lt||"ArrayPattern"===e?.type}isAssignmentPattern(e){return e instanceof pt||"AssignmentPattern"===e?.type}isPattern(e){return this.isObjectPattern(e)||this.isArrayPattern(e)||this.isAssignmentPattern(e)}canBePattern(e){return this.isObjectExpression(e)||this.isArrayExpression(e)}isProperty(e){return e instanceof gt||"Property"===e?.type}isMemberExpression(e){return e instanceof te||"MemberExpression"===e?.type}isPropertyOrMemberExpression(e){return this.isProperty(e)||this.isMemberExpression(e)}isEmptyStatement(e){return e instanceof We||"EmptyStatement"===e?.type}isSequenceExpression(e){return e instanceof Ft||"SequenceExpression"===e?.type}isSuper(e){return e instanceof ae||"Super"===e?.type}isAssignmentExpression(e){return e instanceof Pt||"AssignmentExpression"===e?.type}isGroupingExpression(e){return e instanceof Dt||"GroupingExpression"===e?.type}isSpreadElement(e){return e instanceof ee||"SpreadElement"===e?.type}}class ns{scanner;factory;acceptIN;previousAcceptIN=[];functionKind;previousFunctionKind=[];get languageMode(){return this.scanner.getLanguageMode()}set languageMode(e){this.scanner.setLanguageMode(e)}constructor(e,t,s){this.scanner=e,this.factory=t,this.previousAcceptIN.push(this.acceptIN=s??!1),this.previousFunctionKind.push(this.functionKind=ve.NormalFunction)}position(){return this.scanner.getPos()}setAcceptIN(e){this.previousAcceptIN.push(this.acceptIN),this.acceptIN=e}restoreAcceptIN(){this.acceptIN=this.previousAcceptIN.pop()??!1}getLastFunctionKind(){return this.previousFunctionKind.at(-2)??ve.NormalFunction}setFunctionKind(e){this.previousFunctionKind.push(this.functionKind),this.functionKind=e}restoreFunctionKind(){this.functionKind=this.previousFunctionKind.pop()??ve.NormalFunction}setStatue(e,t){this.setFunctionKind(t),this.setAcceptIN(e)}restoreStatue(){this.restoreFunctionKind(),this.restoreAcceptIN()}current(){return this.scanner.currentToken()}next(){return this.scanner.next()}peek(){return this.scanner.peek()}peekAhead(){return this.scanner.peekAhead()}peekAheadPosition(){return this.scanner.peekAheadPosition()}peekPosition(){return this.scanner.peekPosition()}createRange(e){if(!Number.isNaN(e?.range?.[0]))return[e.range[0],this.scanner.getPos()]}createRangeByStart(e){return[e.range[0],this.scanner.getPos()]}createStartPosition(){return[this.scanner.getPos(),-1]}updateRangeEnd(e){e[1]=this.scanner.getPos()}consume(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Parsing ${JSON.stringify(e)}`));return t}check(e){return!!this.scanner.peek().isType(e)&&(this.scanner.next(),!0)}checkAndGetValue(e){const t=this.scanner.peek();if(t.isType(e))return this.scanner.next(),t.value}checkValue(e){return this.scanner.peek().value==e&&(this.scanner.next(),!0)}expect(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(e)}, current is ${JSON.stringify(t)}`));return t}expectAndGetValue(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(e)}, current is ${JSON.stringify(t)}`));return t.getValue()}checkInOrOf(){const e=this.peekInOrOf();return e&&this.scanner.next(),e}peekInOrOf(){var e=this.peek();return e.isType(ye.IN)?"IN":!(!this.factory.isIdentifier(e.value)||"of"!==e.value.getName())&&"OF"}isArguments(e){return this.factory.isIdentifier(e)&&"arguments"===e.getName()}isEval(e){return this.factory.isIdentifier(e)&&"eval"===e.getName()}isEvalOrArguments(e){return this.factory.isIdentifier(e)&&("eval"===e.getName()||"arguments"===e.getName())}isNextLetKeyword(){if(this.peek().isNotType(ye.LET))return!1;switch(this.peekAhead().token){case ye.LBRACE:case ye.LBRACK:case ye.IDENTIFIER:case ye.STATIC:case ye.LET:case ye.YIELD:case ye.AWAIT:case ye.GET:case ye.SET:case ye.ASYNC:return!0;default:return!1}}markParenthesized(e){Reflect.set(e,"parenthesized",!0)}clearParenthesized(e){Reflect.deleteProperty(e,"parenthesized")}isParenthesized(e){return!0===Reflect.get(e,"parenthesized")}isAssignableIdentifier(e){return!(!this.factory.isIdentifier(e)||I(this.languageMode)&&this.isEvalOrArguments(e))}isValidReferenceExpression(e){return this.isAssignableIdentifier(e)||this.factory.isPropertyOrMemberExpression(e)}expectSemicolon(){const e=this.peek();if(e.isType(ye.SEMICOLON))this.next();else if(!this.scanner.hasLineTerminatorBeforeNext()&&!ye.isAutoSemicolon(e.token)&&this.scanner.currentToken().isType(ye.AWAIT)&&!Ge(this.functionKind))throw new Error(this.errorMessage("Await Not In Async Context/Function"))}peekAnyIdentifier(){return ye.isAnyIdentifier(this.peek().token)}expectContextualKeyword(e){const t=this.scanner.next();if(!t.test(((t,s)=>ye.IDENTIFIER.equal(t)&&e===s?.toString())))throw new Error(this.errorMessage(`Unexpected Token: current Token is ${JSON.stringify(t)}`));return!0}checkContextualKeyword(e){return!!this.scanner.peek().test(((t,s)=>ye.IDENTIFIER.equal(t)&&e===s?.toString()))&&(this.scanner.next(),!0)}peekContextualKeyword(e){return this.scanner.peek().test(((t,s)=>ye.IDENTIFIER.equal(t)&&e===s?.toString()))}methodKindFor(e,t){return s=e?Oe.StaticMethod:Oe.NonStaticMethod,Ie[s][0!=((r=t)&Ne.IsGenerator)?1:0][0!=(r&Ne.IsAsync)?1:0];var s,r}isGenerator(){return Ve(this.functionKind)}isAsyncFunction(){return Ge(this.functionKind)}is_async_function(){return Ge(this.functionKind)}is_async_generator(){return He(this.functionKind)}is_resumable(){return Ve(e=this.functionKind)||Ge(e)||je(e);var e}isAwaitAllowed(){return this.isAsyncFunction()||je(this.functionKind)}isAwaitAsIdentifierDisallowed(){return I(this.languageMode)||$e(this.functionKind)}shouldBanArguments(){return be(this.functionKind,ve.ClassMembersInitializerFunction,ve.ClassStaticInitializerFunction)}errorMessage(e){return this.scanner.createError(e)}reportErrorMessage(e){console.error(this.scanner.createError(e))}}class is extends ns{static parse(e,{mode:t,acceptIN:s,factory:r,addLocation:n}={}){t??=g.Strict;const i="string"==typeof e?Qe.getTokenStream(e,t):Array.isArray(e)?Qe.getTokenStream(e):e;if(s??=!1,null==r){const t=n&&"string"==typeof e?new ss(e):void 0;r=new rs(t)}return new is(i,r,s).scan()}constructor(e,t,s){super(e,t,s)}scan(){const e=this.scanner.getPos(),t=this.parseStatementList(ye.EOS);return 1===t.length?t[0]:this.factory.createExpressionStatement(t,[e,this.scanner.getPos()])}parseStatement(e=Be.DisallowLabelledFunctionStatement){switch(this.peek().token){case ye.LBRACE:return this.parseBlock();case ye.SEMICOLON:const t=this.consume(ye.SEMICOLON);return this.factory.createEmptyStatement(t.range);case ye.IF:return this.parseIfStatement();case ye.DO:return this.parseDoWhileStatement();case ye.WHILE:return this.parseWhileStatement();case ye.FOR:return this.isAwaitAllowed()&&this.peekAhead().isType(ye.AWAIT)?this.parseForAwaitStatement():this.parseForStatement();case ye.CONTINUE:return this.parseContinueStatement();case ye.BREAK:return this.parseBreakStatement();case ye.RETURN:return this.parseReturnStatement();case ye.THROW:return this.parseThrowStatement();case ye.TRY:return this.parseTryStatement();case ye.SWITCH:return this.parseSwitchStatement();case ye.WITH:return this.parseWithStatement();case ye.FUNCTION:throw new SyntaxError(this.errorMessage("FunctionDeclaration only allowed as a StatementListItem not in an arbitrary Statement position."));case ye.DEBUGGER:return this.parseDebuggerStatement();case ye.VAR:return this.parseVariableDeclarations(_e.Statement);case ye.ASYNC:if(!this.scanner.hasLineTerminatorAfterNext()&&this.peekAhead().isType(ye.FUNCTION))throw new SyntaxError(this.errorMessage("async function in single statement context."));default:return this.parseExpressionOrLabelledStatement(e)}}parseDebuggerStatement(){const e=this.consume(ye.DEBUGGER);return this.expectSemicolon(),this.factory.createDebuggerStatement(e.range)}parseTryStatement(){const e=this.consume(ye.TRY),t=this.parseBlock();let s,r,n,i=this.peek();if(i.isNotType(ye.CATCH)&&i.isNotType(ye.FINALLY))throw new Error(this.errorMessage("Uncaught SyntaxError: Missing catch or finally after try"));if(this.check(ye.CATCH)){let t;this.check(ye.LPAREN)&&(t=this.peekAnyIdentifier()?this.parseNonRestrictedIdentifier():this.parseBindingPattern(!0),this.expect(ye.RPAREN));const n=this.parseBlock();r=this.factory.createCatchClause(n,t,this.createRange(i)),s=this.createRange(e)}return this.check(ye.FINALLY)&&(n=this.parseBlock(),s=this.createRange(e)),this.factory.createTryStatement(t,r,n,s)}parseNonRestrictedIdentifier(){const e=this.parseIdentifier();if(I(this.languageMode)&&this.isEvalOrArguments(e))throw new SyntaxError(this.errorMessage("Strict Eval/Arguments "));return e}parseBlock(){const e=this.expect(ye.LBRACE),t=[],s=this.createRangeByStart(e),r=this.factory.createBlock(t,s);for(;this.peek().isNotType(ye.RBRACE);){const e=this.parseStatementListItem();if(!e)return r;this.factory.isEmptyStatement(e)||t.push(e)}return this.expect(ye.RBRACE),this.updateRangeEnd(s),r}parseStatementListItem(){switch(this.peek().token){case ye.FUNCTION:return this.parseHoistableDeclaration(void 0,!1,this.peek());case ye.CLASS:const e=this.consume(ye.CLASS);return this.parseClassDeclaration(void 0,!1,e);case ye.VAR:case ye.CONST:return this.parseVariableDeclarations(_e.StatementListItem);case ye.LET:if(this.isNextLetKeyword())return this.parseVariableDeclarations(_e.StatementListItem);break;case ye.ASYNC:if(this.peekAhead().isType(ye.FUNCTION)&&!this.scanner.hasLineTerminatorAfterNext()){const e=this.consume(ye.ASYNC);return this.parseAsyncFunctionDeclaration(void 0,!1,e)}}return this.parseStatement(Be.AllowLabelledFunctionStatement)}parseFunctionExpression(){const e=this.consume(ye.FUNCTION),t=this.check(ye.MUL)?ve.GeneratorFunction:ve.NormalFunction;let s,r=Re.AnonymousExpression;return this.peek().isNotType(ye.LPAREN)&&(s=this.parseIdentifier(this.getLastFunctionKind()),r=Re.NamedExpression),this.parseFunctionLiteral(t,r,s,e)}parseAsyncFunctionDeclaration(e,t,s){if(this.scanner.hasLineTerminatorBeforeNext())throw new SyntaxError(this.errorMessage("Line Terminator Before `function` parsing `async function`."));return this.consume(ye.FUNCTION),this.parseHoistableDeclaration01(ve.AsyncFunction,e,t,s)}parseIfStatement(){const e=this.consume(ye.IF);this.consume(ye.LPAREN);const t=this.parseExpression();this.consume(ye.RPAREN);const s=this.parseScopedStatement();let r,n;return this.peek().isType(ye.ELSE)&&(this.consume(ye.ELSE),n=this.parseScopedStatement()),r=this.createRange(e),this.factory.createIfStatement(t,s,n,r)}parseScopedStatement(){return I(this.languageMode)||this.peek().isNotType(ye.FUNCTION)?this.parseStatement():this.parseFunctionDeclaration()}parseDoWhileStatement(){const e=this.consume(ye.DO),t=this.parseStatement();this.expect(ye.WHILE),this.expect(ye.LPAREN);const s=this.parseExpression();return this.expect(ye.RPAREN),this.check(ye.SEMICOLON),this.factory.createDoStatement(s,t,this.createRange(e))}parseWhileStatement(){const e=this.consume(ye.WHILE);this.expect(ye.LPAREN);const t=this.parseExpression();this.expect(ye.RPAREN);const s=this.parseStatement();return this.factory.createWhileStatement(t,s,this.createRange(e))}parseThrowStatement(){const e=this.consume(ye.THROW);if(this.scanner.hasLineTerminatorBeforeNext())throw new Error(this.scanner.createError("New line After Throw"));const t=this.parseExpression(),s=this.createRange(e);return this.expectSemicolon(),this.factory.createThrowStatement(t,s)}parseSwitchStatement(){const e=this.consume(ye.SWITCH),t=this.createRangeByStart(e);this.expect(ye.LPAREN);const s=this.parseExpression();this.expect(ye.RPAREN);const r=[],n=this.factory.createSwitchStatement(s,r,t);let i=!1;for(this.expect(ye.LBRACE);this.peek().isNotType(ye.RBRACE);){const e=[];let t;const s=this.scanner.peek();if(this.check(ye.CASE))t=this.parseExpression();else{if(this.expect(ye.DEFAULT),i)throw new Error(this.errorMessage("Multiple Defaults In Switch"));i=!0}const n=this.expect(ye.COLON);for(;this.peek().isNotType(ye.CASE)&&this.peek().isNotType(ye.DEFAULT)&&this.peek().isNotType(ye.RBRACE);){const t=this.parseStatementListItem();t&&!this.factory.isEmptyStatement(t)&&e.push(t)}const a=this.factory.createBlock(e,this.createRange(n)),o=this.createRange(s),c=i?this.factory.createDefaultClause(a,o):this.factory.createCaseBlock(t,a,o);r.push(c)}return this.expect(ye.RBRACE),this.updateRangeEnd(t),n}parseForStatement(){const e=this.consume(ye.FOR);this.expect(ye.LPAREN);const t=this.peek(),s=t.isType(ye.LET);if(t.isType(ye.CONST)||s&&this.isNextLetKeyword()){const t=this.parseVariableDeclarations(_e.ForStatement),s=this.checkInOrOf();return s?this.parseForEachStatementWithDeclarations(t,s,e):(this.expect(ye.SEMICOLON),this.parseStandardForLoopWithLexicalDeclarations(t,e))}let r;if(t.isType(ye.VAR)){r=this.parseVariableDeclarations(_e.ForStatement);const t=this.checkInOrOf();if(t)return this.parseForEachStatementWithDeclarations(r,t,e)}else if(this.peek().isNotType(ye.SEMICOLON)){this.setAcceptIN(!1),r=this.parseExpressionCoverGrammar(),this.restoreAcceptIN();const t=this.current().isType(ye.ASYNC),n=this.checkInOrOf();if(n){if("OF"===n&&s||t)throw new SyntaxError(this.errorMessage(s?"For Of Let":"For Of Async"));return this.parseForEachStatementWithoutDeclarations(r,n,e)}}return this.expect(ye.SEMICOLON),this.parseStandardForLoop(r,e)}parseStandardForLoopWithLexicalDeclarations(e,t){return this.parseStandardForLoop(e,t)}parseForEachStatementWithDeclarations(e,t,s){if(1!=e.getDeclarations().length)throw new SyntaxError(this.errorMessage("For In/Of loop Multi Bindings"));return this.parseForEachStatementWithoutDeclarations(e,t,s)}parseForEachStatementWithoutDeclarations(e,t,s){let r;"OF"==t?(this.setAcceptIN(!0),r=this.parseAssignmentExpression(),this.restoreAcceptIN()):r=this.parseExpression(),this.expect(ye.RPAREN);const n=this.parseStatement(),i=this.createRange(s);if("OF"===t)return this.factory.createForOfStatement(e,r,n,i);if("IN"===t)return this.factory.createForInStatement(e,r,n,i);throw new Error(this.errorMessage(`parsing for loop: ${this.position()}`))}parseStandardForLoop(e,t){let s=this.factory.createEmptyStatement();this.peek().isNotType(ye.SEMICOLON)&&(s=this.parseExpression()),this.expect(ye.SEMICOLON);let r=this.factory.createEmptyStatement();this.peek().isNotType(ye.RPAREN)&&(r=this.parseExpression()),this.expect(ye.RPAREN);const n=this.parseStatement();return this.factory.createForStatement(n,e,s,r,this.createRange(t))}parseForAwaitStatement(){if(!this.isAwaitAllowed())throw new SyntaxError(this.errorMessage('"await" is not allowed'));const e=this.expect(ye.FOR);this.expect(ye.AWAIT),this.expect(ye.LPAREN);let t,s=!1,r=this.peek(),n=r.isType(ye.LET);if(r.isType(ye.VAR)||r.isType(ye.CONST)||n&&this.isNextLetKeyword()){s=!0;const e=this.parseVariableDeclarations(_e.ForStatement);if(1!=e.getDeclarations().length)throw new SyntaxError(this.errorMessage('For In/Of Loop MultiBindings, "for-await-of"'));t=e}else{if(n)throw new SyntaxError(this.errorMessage('The initializer does not contain declarations, For Of Let, "for-await-of"'));t=this.parseLeftHandSideExpression()}this.expectContextualKeyword("of"),this.setAcceptIN(!0);const i=this.parseAssignmentExpression();this.restoreAcceptIN(),this.expect(ye.RPAREN);const a=this.parseStatement(),o=this.createRange(e);return this.factory.createForAwaitOfStatement(t,i,a,o)}parseVariableDeclarations(e){let t;const s=this.peek(),r=s.token;switch(r){case ye.CONST:this.consume(r),t="const";break;case ye.VAR:this.consume(r),t="var";break;case ye.LET:default:this.consume(r),t="let"}const n=[];do{let s,r;const i=this.createStartPosition();if(ye.isAnyIdentifier(this.peek().token)){if(s=this.parseAndClassifyIdentifier(this.next()),I(this.languageMode)&&this.isEvalOrArguments(s))throw new Error(this.errorMessage("Strict Eval Arguments"))}else s=this.parseBindingPattern(!0);if(this.check(ye.ASSIGN))this.setAcceptIN(e!==_e.ForStatement),r=this.parseAssignmentExpression(),this.restoreAcceptIN();else if(!this.peekInOrOf()&&"const"===t&&(void 0===s||void 0===r))throw new Error(this.errorMessage("Declaration Missing Initializer"));this.updateRangeEnd(i),n.push(this.factory.createVariableDeclaration(s,r,i))}while(this.check(ye.COMMA));const i=this.createRange(s);return this.factory.createVariableStatement(n,t,i)}parseBindingPattern(e){const t=this.peek().token;if(ye.isAnyIdentifier(t)){const e=this.parseAndClassifyIdentifier(this.next());if(I(this.languageMode)&&this.isEvalOrArguments(e))throw new Error(this.errorMessage("Strict Eval Arguments"));return e}if(t==ye.LBRACK)return this.parseArrayLiteral(e);if(t==ye.LBRACE)return this.parseObjectLiteral(e);throw new Error(this.errorMessage(`Unexpected Token: ${this.next().getValue()}`))}parseAndClassifyIdentifier(e){if(ye.isInRangeIdentifierAndAsync(e.token)){const t=e.getValue();if(this.isArguments(t)&&this.shouldBanArguments())throw new SyntaxError(this.errorMessage("Arguments Disallowed In Initializer And Static Block"));return t}if(!ye.isValidIdentifier(e.token,this.languageMode,this.isGenerator(),this.isAwaitAsIdentifierDisallowed()))throw new SyntaxError(this.errorMessage("Invalid Identifier"));return e.isType(ye.AWAIT),e.getValue()}parseContinueStatement(){const e=this.consume(ye.CONTINUE);let t;this.scanner.hasLineTerminatorBeforeNext()||ye.isAutoSemicolon(this.peek().token)||(t=this.parseIdentifier());const s=this.createRange(e);return this.expectSemicolon(),this.factory.createContinueStatement(t,s)}parseBreakStatement(){const e=this.consume(ye.BREAK);let t;this.scanner.hasLineTerminatorBeforeNext()||ye.isAutoSemicolon(this.peek().token)||(t=this.parseIdentifier());const s=this.createRange(e);return this.expectSemicolon(),this.factory.createBreakStatement(t,s)}parseReturnStatement(){const e=this.consume(ye.RETURN),t=this.peek();let s;this.scanner.hasLineTerminatorBeforeNext()||ye.isAutoSemicolon(t.token)||(s=this.parseExpression());const r=this.createRange(e);return this.expectSemicolon(),this.factory.createReturnStatement(s,r)}parseExpressionOrLabelledStatement(e){switch(this.peek().token){case ye.FUNCTION:case ye.LBRACE:throw new Error(this.errorMessage("Unreachable state"));case ye.CLASS:throw new Error(this.errorMessage(`Unexpected Token ${this.next().getValue().toString()}`));case ye.LET:{const e=this.peekAhead();if(e.isNotType(ye.LBRACK)&&e.isNotType(ye.LBRACE)&&e.isNotType(ye.IDENTIFIER))break;throw new Error(this.errorMessage(`Unexpected Lexical Declaration ${this.position()}`))}}const t=this.createStartPosition(),s=ye.isAnyIdentifier(this.peek().token);this.setAcceptIN(!0);const r=this.parseExpressionCoverGrammar();if(this.peek().isType(ye.COLON)&&s&&this.factory.isIdentifier(r)){if(this.consume(ye.COLON),this.peek().isType(ye.FUNCTION)&&C(this.languageMode)&&e==Be.AllowLabelledFunctionStatement){const e=this.parseFunctionDeclaration();return this.restoreAcceptIN(),this.updateRangeEnd(t),this.factory.createLabeledStatement(r,e,t)}const s=this.parseStatement(e);return this.restoreAcceptIN(),this.updateRangeEnd(t),this.factory.createLabeledStatement(r,s,t)}return this.restoreAcceptIN(),this.expectSemicolon(),r}parseExpression(){this.setAcceptIN(!0);const e=this.parseExpressionCoverGrammar();return this.restoreAcceptIN(),e}parseFunctionDeclaration(){const e=this.consume(ye.FUNCTION);if(this.check(ye.MUL))throw new Error(this.errorMessage("Error Generator In Single Statement Context"));return this.parseHoistableDeclaration01(ve.NormalFunction,void 0,!1,e)}parseAsyncFunctionLiteral(){if(this.current().isNotType(ye.ASYNC))throw new SyntaxError(this.errorMessage("invalid token"));const e=this.consume(ye.FUNCTION);let t,s=Re.AnonymousExpression,r=ve.AsyncFunction;return this.check(ye.MUL)&&(r=ve.AsyncGeneratorFunction),this.peekAnyIdentifier()&&(s=Re.NamedExpression,t=this.parseIdentifier(this.getLastFunctionKind())),this.parseFunctionLiteral(r,s,t,e)}parseHoistableDeclaration(e,t,s){this.consume(ye.FUNCTION);let r=ve.NormalFunction;return this.check(ye.MUL)&&(r=ve.GeneratorFunction),this.parseHoistableDeclaration01(r,e,t,s)}parseHoistableDeclaration01(e,t,s,r){let n;if(0!=(e&Ne.IsAsync)&&this.check(ye.MUL)&&(e|=Ne.IsGenerator),this.peek().isType(ye.LPAREN)){if(!s)throw new SyntaxError(this.errorMessage("Missing Function Name"));n=this.factory.createIdentifier("default",this.createRange(r))}else n=this.parseIdentifier(this.getLastFunctionKind());return t?.push(n.toString()),this.parseFunctionLiteral(e,Re.Declaration,n,r)}parseIdentifier(e){e??=this.functionKind;const t=this.next();if(!ye.isValidIdentifier(t.token,this.languageMode,Ve(e),$e(e)))throw new Error(this.errorMessage(`Unexpected Token: ${t.getValue()}`));return t.isType(ye.IDENTIFIER)?t.getValue():this.getIdentifier()}getIdentifier(){const e=this.current();switch(e.token){case ye.AWAIT:return this.factory.createIdentifier("await",e.range);case ye.ASYNC:return this.factory.createIdentifier("async",e.range);case ye.IDENTIFIER:case ye.PRIVATE_NAME:return e.getValue()}const t=e.getValue().toString();return"constructor"==t?this.factory.createIdentifier("constructor",e.range):"name"==t?this.factory.createIdentifier("name",e.range):"eval"==t?this.factory.createIdentifier("eval",e.range):"arguments"==t?this.factory.createIdentifier("arguments",e.range):e.getValue()}parseFunctionLiteral(e,t,s,r){this.setFunctionKind(e),this.expect(ye.LPAREN);const n=this.parseFormalParameterList({});this.expect(ye.RPAREN);const i=this.expect(ye.LBRACE);this.setAcceptIN(!0);const a=this.parseFunctionBody(e,Ae.BLOCK,t);this.restoreAcceptIN(),this.restoreFunctionKind();const o=this.createRange(i),c=this.createRange(r),h=this.factory.createBlock(a,o);return s?this.factory.createFunctionDeclaration(n,h,Ge(e),Ve(e),s,c):this.factory.createFunctionExpression(n,h,Ge(e),Ve(e),c)}parseFunctionBody(e,t,s){let r;if(t==Ae.EXPRESSION)r=this.parseAssignmentExpression();else{const t=s==Re.Wrapped?ye.EOS:ye.RBRACE;r=He(e)?this.parseAndRewriteAsyncGeneratorFunctionBody(e):Ve(e)?this.parseAndRewriteGeneratorFunctionBody(e):Ge(e)?this.parseAsyncFunctionBody():this.parseStatementList(t),this.expect(t)}return r}parseAndRewriteAsyncGeneratorFunctionBody(e){return this.parseStatementList(ye.RBRACE)}parseAndRewriteGeneratorFunctionBody(e){return this.parseStatementList(ye.RBRACE)}parseAsyncFunctionBody(){return this.parseStatementList(ye.RBRACE)}parseStatementList(e){this.peek().test(((e,t)=>ye.STRING===e&&"use strict"===t.getValue()))&&(this.languageMode=g.Strict);const t=[];for(;this.peek().isNotType(e);){const e=this.parseStatementListItem();if(!e)break;this.factory.isEmptyStatement(e)||t.push(e)}return t}parseFormalParameterList(e){const t=[];if(this.peek().isNotType(ye.RPAREN))for(;;){const s=this.parseFormalParameter(e);if(t.push(s),e.rest){if(this.peek().isType(ye.COMMA))throw new Error(this.errorMessage("Param After Rest"));break}if(!this.check(ye.COMMA))break;if(this.peek().isType(ye.RPAREN))break}return t}parseFormalParameter(e){const t=this.createStartPosition();e.rest=this.check(ye.ELLIPSIS);const s=this.parseBindingPattern(!0);let r;if(this.check(ye.ASSIGN)){if(e.rest)throw new Error(this.errorMessage("Rest Default Initializer"));this.setAcceptIN(!0);const n=this.parseAssignmentExpression();this.restoreAcceptIN(),this.updateRangeEnd(t);const i=this.checkParamType(s);r=this.factory.createAssignmentPattern(i,n,t)}else{this.updateRangeEnd(t);const n=this.checkParamType(s);r=e.rest?this.factory.createRestElement(n,n.range&&[t[0],n.range[1]]):n}return r}parseExpressionCoverGrammar(){const e=[];let t;for(;;){if(this.peek().isType(ye.ELLIPSIS))return this.parseArrowParametersWithRest(e);if(t=this.parseAssignmentExpressionCoverGrammar(),e.push(t),!this.check(ye.COMMA))break;if(this.peek().isType(ye.RPAREN)&&this.peekAhead().isType(ye.ARROW))break}return 1==e.length?t:this.expressionListToExpression(e)}parseArrowParametersWithRest(e){const t=this.consume(ye.ELLIPSIS),s=this.parseBindingPattern(!0),r=this.createRange(t);if(this.peek().isType(ye.ASSIGN))throw new Error(this.errorMessage("Error A rest parameter cannot have an initializer"));if(this.peek().isType(ye.COMMA))throw new Error(this.errorMessage("Error A rest parameter or binding pattern may not have a trailing comma"));if(this.peek().isNotType(ye.RPAREN)||this.peekAhead().isNotType(ye.ARROW))throw new Error(this.errorMessage(`Error Unexpected Token At ${this.position()}`));return e.push(this.factory.createSpreadElement(s,r)),this.expressionListToExpression(e)}expressionListToExpression(e){const t=e[0];if(1===e.length)return t;if(this.factory.isSequenceExpression(t))return t.getExpressions().push(...e.slice(1)),t;const s=this.createRange(e.at(0));return s&&this.updateRangeEnd(s),this.factory.createCommaListExpression(e,s)}parseMemberExpression(){const e=this.parsePrimaryExpression();return this.parseMemberExpressionContinuation(e)}parsePrimaryExpression(){let e=this.peek();if(ye.isAnyIdentifier(e.token)){this.consume(e.token);let t=ve.NormalFunction;if(e.isType(ye.ASYNC)&&!this.scanner.hasLineTerminatorBeforeNext()){if(this.peek().isType(ye.FUNCTION))return this.parseAsyncFunctionLiteral();ye.isAnyIdentifier(this.peek().token)&&this.peekAhead().isType(ye.ARROW)&&(e=this.next(),t=ve.AsyncFunction)}if(this.peek().isType(ye.ARROW)){this.setFunctionKind(t);const s=this.parseAndClassifyIdentifier(e),r=this.factory.isSequenceExpression(s)?s.getExpressions():[s],n=this.parseArrowFunctionLiteral(r,t,this.createRange(e));return this.restoreFunctionKind(),n}return this.parseAndClassifyIdentifier(e)}if(ye.isLiteral(e.token))return this.next().getValue();switch(e.token){case ye.NEW:return this.parseMemberWithPresentNewPrefixesExpression();case ye.THIS:return this.consume(ye.THIS),this.factory.createThis(e.range);case ye.DIV:case ye.DIV_ASSIGN:return this.parseRegExpLiteral();case ye.FUNCTION:return this.parseFunctionExpression();case ye.SUPER:return this.parseSuperExpression();case ye.IMPORT:return this.parseImportExpressions();case ye.LBRACK:return this.parseArrayLiteral(!1);case ye.LBRACE:return this.parseObjectLiteral(!1);case ye.LPAREN:{if(this.consume(ye.LPAREN),this.check(ye.RPAREN)){if(!this.peek().isType(ye.ARROW))throw new Error(this.errorMessage(`Unexpected Token: ${ye.RPAREN.getName()}`));const t=this.factory.createCommaListExpression([],this.createRange(e));return this.markParenthesized(t),t}this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();return this.markParenthesized(t),this.expect(ye.RPAREN),this.restoreAcceptIN(),t}case ye.CLASS:return this.parseClassExpression();case ye.TEMPLATE_SPAN:case ye.TEMPLATE_TAIL:return this.parseTemplateLiteral()}throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(this.next())}`))}parseTemplateLiteral(e){let t=this.peek();if(!ye.isTemplate(t.token))throw new SyntaxError(this.errorMessage(`Unexpected Token: ${JSON.stringify(this.next())}`));if(t.isType(ye.TEMPLATE_TAIL)){this.consume(ye.TEMPLATE_TAIL);const s=t.getValue();return this.createTemplateLiteralExpressionNode([s.string],[],e,s.range)}const s=this.consume(ye.TEMPLATE_SPAN),r=[],n=[];n.push(t.getValue().string);do{this.setAcceptIN(!0);const e=this.parseExpressionCoverGrammar();if(r.push(e),t=this.next(),t.isNotType(ye.RBRACE))throw this.restoreAcceptIN(),new SyntaxError(this.errorMessage("Unterminated Template Expr"));t=this.scanner.scanTemplateContinuation(),n.push(t.getValue().string),this.restoreAcceptIN()}while(t.isType(ye.TEMPLATE_SPAN));if(t.isNotType(ye.TEMPLATE_TAIL))throw new SyntaxError(this.errorMessage(`Unexpected Token: ${JSON.stringify(t)}`));const i=this.createRange(s);return this.createTemplateLiteralExpressionNode(n,r,e,i)}createTemplateLiteralExpressionNode(e,t,s,r){return s?this.factory.createTaggedTemplateExpression(s,e,t,r):this.factory.createTemplateExpression(e,t,r)}parseMemberWithPresentNewPrefixesExpression(){const e=this.consume(ye.NEW);let t;if(this.peek().isType(ye.IMPORT)&&this.peekAhead().isType(ye.LPAREN))throw new SyntaxError(this.errorMessage("Import Call Not New Expression"));if(this.peek().isType(ye.PERIOD))return t=this.parseNewTargetExpression(e),this.parseMemberExpressionContinuation(t);if(t=this.parseMemberExpression(),this.factory.isSuper(t))throw new SyntaxError(this.errorMessage("Unexpected Super, new super() is never allowed"));if(this.peek().isType(ye.LPAREN)){const s=this.parseArguments();return t=this.factory.createNewExpression(t,s,this.createRange(e)),this.parseMemberExpressionContinuation(t)}if(this.peek().isType(ye.QUESTION_PERIOD))throw new SyntaxError(this.errorMessage("Optional Chaining with New not allowed,  new x?.y()"));return this.factory.createNewExpression(t,void 0,this.createRange(e))}parseArguments(e){this.consume(ye.LPAREN);const t=[];for(;this.peek().isNotType(ye.RPAREN);){const s=this.createStartPosition(),r=this.check(ye.ELLIPSIS);this.setAcceptIN(!0);let n=this.parseAssignmentExpressionCoverGrammar();if(Ee.MaybeArrowHead===e&&r){if(this.factory.isAssignmentExpression(n))throw this.restoreAcceptIN(),new Error(this.errorMessage(" Rest parameter may not have a default initializer'"));if(this.peek().isType(ye.COMMA))throw this.restoreAcceptIN(),new Error(this.errorMessage("parsing '...spread,arg =>'"))}if(r&&(this.updateRangeEnd(s),n=this.factory.createSpreadElement(n,s)),t.push(n),this.restoreAcceptIN(),!this.check(ye.COMMA))break}if(!this.check(ye.RPAREN))throw new Error(this.errorMessage("parsing arguments call, expecting ')'"));return t}parseAssignmentExpressionCoverGrammar(){const e=this.createStartPosition();if(this.peek().isType(ye.YIELD)&&Ve(this.functionKind))return this.parseYieldExpression();let t=this.parseConditionalExpression();const s=this.peek().token;if(!ye.isArrowOrAssignmentOp(s))return this.clearParenthesized(t),t;if(s===ye.ARROW){if(!this.factory.isIdentifier(t)&&!this.isParenthesized(t))throw new Error(this.errorMessage("Malformed Arrow Fun Param List"));const s=ve.NormalFunction;let r;return this.setFunctionKind(s),this.factory.isSequenceExpression(t)?r=this.parseArrowFunctionLiteral(t.getExpressions(),ve.NormalFunction,e):this.factory.isGroupingExpression(t)?r=this.parseArrowFunctionLiteral([t.getNode()],ve.NormalFunction,e):(this.clearParenthesized(t),r=this.parseArrowFunctionLiteral([t],ve.NormalFunction,e)),this.restoreFunctionKind(),r}if(this.isAssignableIdentifier(t));else if(this.factory.isPropertyOrMemberExpression(t));else if(this.factory.canBePattern(t)&&ye.isAssignment(s))t=this.factory.isObjectExpression(t)?this.factory.createObjectBindingPattern(t.getProperties(),t.range):this.factory.createArrayBindingPattern(t.getElements(),t.range);else{if(!this.isValidReferenceExpression(t))throw new Error(this.errorMessage("Invalid Reference Expression"));if(ye.isLogicalAssignmentOp(s))throw new Error(this.errorMessage("Invalid Lhs In Assignment"))}this.consume(s);const r=this.parseAssignmentExpression();if(!ye.isAssignment(s))throw new Error(this.errorMessage("Invalid Destructuring Target"));return this.updateRangeEnd(e),this.factory.createAssignment(s.getName(),t,r,e)}parseAssignmentExpression(){return this.parseAssignmentExpressionCoverGrammar()}checkParamType(e){if(this.factory.isArrayExpression(e))return this.factory.createArrayBindingPattern(e.getElements(),e.range);if(this.factory.isObjectExpression(e))return this.factory.createObjectBindingPattern(e.getProperties(),e.range);if(this.factory.isSpreadElement(e)){let t=e.getArgument();return this.factory.isArrayExpression(t)?t=this.factory.createArrayBindingPattern(t.getElements(),t.range):this.factory.isObjectExpression(t)&&(t=this.factory.createObjectBindingPattern(t.getProperties(),t.range)),this.factory.createRestElement(t,e.range)}return e}parseArrowFunctionLiteral(e,t,s){if(e=e.map((e=>this.checkParamType(e))),this.peek().isNotType(ye.ARROW))throw new SyntaxError(this.errorMessage("SyntaxError Expecting Arrow Token"));if(this.scanner.hasLineTerminatorBeforeNext())throw new SyntaxError(this.errorMessage('Unexpected Token "\n" a line terminator after arrow token"'));let r,n=!0;return this.consume(ye.ARROW),this.peek().isType(ye.LBRACE)?(this.consume(ye.LBRACE),this.setStatue(!0,t),r=this.parseFunctionBody(t,Ae.BLOCK,Re.AnonymousExpression),this.restoreStatue()):(n=!1,r=this.parseFunctionBody(t,Ae.EXPRESSION,Re.AnonymousExpression)),this.updateRangeEnd(s),this.factory.createArrowFunction(e,r,!n,Ge(t),s)}parseRegExpLiteral(){if(!this.scanner.scanRegExpPattern())throw new Error("Unterminated RegExp");return this.scanner.currentToken().getValue()}parseArrayLiteral(e){const t=this.consume(ye.LBRACK);let s=-1;const r=[];for(;!this.check(ye.RBRACK);){let t;const n=this.peek();if(n.isType(ye.COMMA))t=null;else if(this.check(ye.ELLIPSIS)){this.setAcceptIN(!0);const i=this.parsePossibleDestructuringSubPattern();if(this.restoreAcceptIN(),t=this.factory.createSpreadElement(i,this.createRange(n)),s<0&&(s=r.length),this.factory.isAssignmentExpression(i)&&e)throw new SyntaxError(this.errorMessage("Invalid Destructuring Target"));if(this.peek().isType(ye.COMMA))throw new SyntaxError(this.errorMessage("Element After Rest"))}else this.setAcceptIN(!0),t=this.parsePossibleDestructuringSubPattern(),this.restoreAcceptIN();r.push(t),this.peek().isNotType(ye.RBRACK)&&this.expect(ye.COMMA)}const n=this.createRange(t);return e?this.factory.createArrayBindingPattern(r,n):this.factory.createArrayLiteralExpression(r,n)}parsePossibleDestructuringSubPattern(){return this.parseAssignmentExpressionCoverGrammar()}parseObjectLiteral(e){const t=this.consume(ye.LBRACE),s=[];for(;!this.check(ye.RBRACE);){const t=this.parseObjectPropertyDefinition(e);s.push(t),this.peek().isNotType(ye.RBRACE)&&this.expect(ye.COMMA)}const r=this.createRange(t);return e?this.factory.createObjectBindingPattern(s,r):this.factory.createObjectLiteralExpression(s,r)}parseObjectPropertyDefinition(e){const t=new Ce,s=this.parseProperty(t);switch(t.kind){case we.Spread:let r=s;e&&(r=this.factory.createRestElement(r.getArgument(),r.range));const n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(r.getArgument(),r,"init",!1,!1,t.isComputedName,n);case we.Value:{this.consume(ye.COLON),this.setAcceptIN(!0);const e=this.parsePossibleDestructuringSubPattern();this.restoreAcceptIN();const r=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,e,"init",!1,!1,t.isComputedName,r)}case we.Assign:case we.ShorthandOrClassField:case we.Shorthand:{const e=this.factory.createIdentifier(t.name,this.createRange(t.rangeStart));if(!this.isAssignableIdentifier(e))throw new Error(this.errorMessage("Strict Eval Arguments"));let r;if(this.peek().isType(ye.ASSIGN)){this.consume(ye.ASSIGN),this.setAcceptIN(!0);const s=this.parseAssignmentExpression();this.restoreAcceptIN(),r=this.factory.createAssignment(ye.ASSIGN.getName(),e,s,this.createRange(t.rangeStart))}else r=e;const n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,r,"init",!1,t.kind!==we.Assign,t.isComputedName,n)}case we.Method:{const e=this.methodKindFor(t.isStatic,t.funcFlag),r=this.parseFunctionLiteral(e,Re.AccessorOrMethod,t.name?this.factory.createIdentifier(t.name):void 0,t.rangeStart),n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,r,"init",!0,!1,t.isComputedName,n)}case we.AccessorGetter:case we.AccessorSetter:{const e=t.kind==we.AccessorGetter,r=this.methodKindFor(t.isStatic,t.funcFlag),n=this.parseFunctionLiteral(r,Re.AccessorOrMethod,t.name?this.factory.createIdentifier(t.name,this.createRange(t.rangeStart)):void 0,t.rangeStart),i=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,n,e?"get":"set",!1,!1,t.isComputedName,i)}case we.ClassField:case we.NotSet:return this.factory.createNull(this.createRange(t.rangeStart))}}parseProperty(e){let t,s=this.peek();if(e.rangeStart=s,this.check(ye.ASYNC)){if(s=this.peek(),s.isNotType(ye.MUL)&&e.parsePropertyKindFromToken(s.token)||this.scanner.hasLineTerminatorBeforeNext())return this.factory.createIdentifier("async",this.createRange(e.rangeStart));e.kind=we.Method,e.funcFlag=Ne.IsAsync}if(s=this.peek(),this.check(ye.MUL)&&(e.kind=we.Method,e.funcFlag=Ne.IsGenerator),s=this.peek(),e.kind==we.NotSet&&s.isType(ye.GET)||s.isType(ye.SET)){const t=this.next();if(e.parsePropertyKindFromToken(this.peek().token))return this.factory.createIdentifier(s.isType(ye.GET)?"get":"set",this.createRange(e.rangeStart));t.isType(ye.GET)?e.kind=we.AccessorGetter:t.isType(ye.SET)&&(e.kind=we.AccessorSetter),s=this.peek()}switch(s.token){case ye.PRIVATE_NAME:if(e.isPrivate=!0,this.consume(ye.PRIVATE_NAME),e.kind==we.NotSet&&e.parsePropertyKindFromToken(this.peek().token),t=this.getIdentifier(),e.name=t.getName(),e.position==xe.ObjectLiteral)throw new TypeError(this.errorMessage("UnexpectedToken PRIVATE_NAME"));break;case ye.STRING:case ye.NUMBER:case ye.BIGINT:this.consume(s.token),t=s.getValue(),e.name=t.getValue();break;case ye.LBRACK:return this.consume(ye.LBRACK),this.setAcceptIN(!0),t=this.parseAssignmentExpression(),this.expect(ye.RBRACK),e.kind===we.NotSet&&e.parsePropertyKindFromToken(this.peek().token),e.name=t.toString(),this.restoreAcceptIN(),t;case ye.ELLIPSIS:if(e.kind==we.NotSet){if(this.consume(ye.ELLIPSIS),this.setAcceptIN(!0),t=this.parsePossibleDestructuringSubPattern(),e.kind=we.Spread,!this.isValidReferenceExpression(t))throw new Error(this.errorMessage("Invalid Rest Binding/Assignment Pattern"));if(this.peek().isNotType(ye.RBRACE))throw new Error(this.errorMessage("Element After Rest"));return e.name=t.toString(),this.restoreAcceptIN(),this.factory.createSpreadElement(t,this.createRange(s))}default:t=this.parsePropertyOrPrivatePropertyName(),e.name=t.toString()}return e.kind===we.NotSet&&e.parsePropertyKindFromToken(this.peek().token),t}parseMemberExpressionContinuation(e){return ye.isMember(this.peek().token)?this.doParseMemberExpressionContinuation(e):e}doParseMemberExpressionContinuation(e){if(!ye.isMember(this.peek().token))throw new Error(this.errorMessage("Parsing member expression"));do{switch(this.peek().token){case ye.LBRACK:{this.consume(ye.LBRACK),this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();e=this.factory.createPropertyAssignment(e,t,!0,!1,this.createRange(e)),this.expect(ye.RBRACK),this.restoreAcceptIN();break}case ye.PERIOD:{this.consume(ye.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,t,!1,!1,this.createRange(e));break}case ye.TEMPLATE_SPAN:case ye.TEMPLATE_TAIL:e=this.parseTemplateLiteral(e);break;default:throw new SyntaxError(this.errorMessage("unknown token position"))}}while(ye.isMember(this.peek().token));return e}parsePropertyOrPrivatePropertyName(){const e=this.next();if(e.isType(ye.IDENTIFIER)||e.isType(ye.PRIVATE_NAME))return e.getValue();if(ye.isPropertyName(e.token)&&e.isNotType(ye.EOS))return this.factory.createIdentifier(e.token.getName(),e.range);throw new SyntaxError(this.errorMessage("Parsing property expression: Unexpected Token"))}parsePipelineExpression(e){let t;for(;ye.isPipelineOperator(t=this.peek().token);)this.consume(t),e=this.parsePipelineBody(e);return e}parsePipelineBody(e){let t,s=this.peek();switch(s.token){case ye.FUNCTION:t=this.parseFunctionExpression();break;case ye.ASYNC:this.peekAhead().isType(ye.FUNCTION)&&!this.scanner.hasLineTerminatorAfterNext()&&(this.consume(ye.ASYNC),t=this.parseAsyncFunctionLiteral())}if(t)return this.factory.createPipelineExpression(e,t,void 0,this.createRange(e));if(s.isType(ye.LPAREN))return t=this.parsePrimaryExpression(),this.factory.createPipelineExpression(e,t,void 0,this.createRange(e));const r=this.parseMemberExpression();let n=[];switch(this.peek().token){case ye.COLON:do{this.consume(ye.COLON);const e=this.peek(),t=this.check(ye.ELLIPSIS);if(this.peek().isType(ye.CONDITIONAL))this.consume(ye.CONDITIONAL),t?n.push("...?"):n.push("?");else{const s=this.parseAssignmentExpressionCoverGrammar();t?n.push(this.factory.createSpreadElement(s,this.createRange(e))):n.push(s)}}while(this.peek().isType(ye.COLON));break;case ye.LPAREN:this.consume(ye.LPAREN);let s=!1;for(;this.peek().isNotType(ye.RPAREN);){const e=this.peek(),t=this.check(ye.ELLIPSIS);if(this.peek().isType(ye.CONDITIONAL))this.consume(ye.CONDITIONAL),s=!0,t?n.push("...?"):n.push("?");else{const s=this.parseAssignmentExpressionCoverGrammar();t?n.push(this.factory.createSpreadElement(s,this.createRange(e))):n.push(s)}this.check(ye.COMMA)}if(this.expect(ye.RPAREN),!s)return t=this.factory.createCallExpression(r,n,!1,this.createRange(r)),this.factory.createPipelineExpression(e,t,void 0,this.createRange(e))}return this.factory.createPipelineExpression(e,r,n,this.createRange(e))}parseConditionalExpression(){let e=this.parseLogicalExpression();return e=this.parsePipelineExpression(e),this.peek().isType(ye.CONDITIONAL)?this.parseConditionalContinuation(e):e}parseLogicalExpression(){let e=this.parseBinaryExpression(6);const t=this.peek();if(t.isType(ye.AND)||t.isType(ye.OR)){const s=ye.precedence(t.token,this.acceptIN);e=this.parseBinaryContinuation(e,4,s)}else t.isType(ye.NULLISH)&&(e=this.parseNullishExpression(e));return e}parseBinaryContinuation(e,t,s){do{for(;ye.precedence(this.peek().token,this.acceptIN)===s;){let t,r=this.next();const n=r.isType(ye.EXP)?s:s+1;if(t=this.parseBinaryExpression(n),ye.isCompare(r.token)){let s=r.token;switch(r.token){case ye.NE:s=ye.EQ;break;case ye.NE_STRICT:s=ye.EQ_STRICT}e=this.factory.createInfixExpression(s.getName(),e,t,this.createRange(e)),r.isNotType(s)&&(e=this.factory.createUnaryExpression(ye.NOT.getName(),e,this.createRange(r)))}else e=this.factory.createInfixExpression(r.token.getName(),e,t,this.createRange(e))}--s}while(s>=t);return e}parseBinaryExpression(e){if(this.peek().isType(ye.PRIVATE_NAME)){const t=this.parsePropertyOrPrivatePropertyName(),s=ye.precedence(this.peek().token,this.acceptIN);if(this.peek().isNotType(ye.IN)||s<e)throw new SyntaxError(this.errorMessage('Unexpected Token Token.PRIVATE_NAME "#name"'));return this.parseBinaryContinuation(t,e,s)}const t=this.parseUnaryExpression(),s=ye.precedence(this.peek().token,this.acceptIN);return s>=e?this.parseBinaryContinuation(t,e,s):t}parseUnaryExpression(){const e=this.peek();return ye.isUnaryOrCount(e.token)?this.parseUnaryOrPrefixExpression():e.isType(ye.AWAIT)&&this.isAwaitAllowed()?this.parseAwaitExpression():this.parsePostfixExpression()}parseUnaryOrPrefixExpression(){const e=this.next(),t=this.parseUnaryExpression();if(ye.isUnary(e.token)){if(e.isType(ye.DELETE)){if(this.factory.isIdentifier(t)&&I(this.languageMode))throw new Error(this.errorMessage('"delete identifier" is a syntax error in strict mode'));if(this.factory.isMemberExpression(t)&&t.getProperty().toString().startsWith("#"))throw new Error(this.errorMessage('"Delete Private Field" is a syntax error'))}if(this.peek().isType(ye.EXP))throw new Error(this.errorMessage("Unexpected Token Unary Exponentiation"))}if(ye.isCount(e.token)||ye.isUnary(e.token))return this.factory.createUnaryExpression(e.token.getName(),t,this.createRangeByStart(e));throw new Error(this.errorMessage("while rewrite unary operation"))}parsePostfixExpression(){const e=this.parseLeftHandSideExpression();return!ye.isCount(this.peek().token)||this.scanner.hasLineTerminatorBeforeNext()?e:this.parsePostfixContinuation(e)}parsePostfixContinuation(e){if(!this.isValidReferenceExpression(e))throw new Error(this.errorMessage("Invalid LHS In Postfix Op."));const t=this.next();return this.factory.createUpdateExpression(t.token.getName(),e,!1,this.createRange(e))}parseLeftHandSideExpression(){const e=this.parseMemberExpression();return ye.isPropertyOrCall(this.peek().token)?this.parseLeftHandSideContinuation(e):e}parseLeftHandSideContinuation(e){if(this.peek().isType(ye.LPAREN)&&this.factory.isIdentifier(e)&&this.scanner.currentToken().isType(ye.ASYNC)&&!this.scanner.hasLineTerminatorBeforeNext()){const t=this.parseArguments(Ee.AsyncArrowFunction);if(this.peek().isType(ye.ARROW))return t.length?this.expressionListToExpression(t):new We;if(e=this.factory.createCallExpression(e,t,!1,this.createRange(e)),!ye.isPropertyOrCall(this.peek().token))return e}let t=!1,s=!1;do{switch(this.peek().token){case ye.QUESTION_PERIOD:{if(s)throw new Error(this.errorMessage("Failure Expression"));if(this.consume(ye.QUESTION_PERIOD),s=!0,t=!0,ye.isPropertyOrCall(this.peek().token))continue;const r=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,r,!1,s,this.createRange(e));break}case ye.LBRACK:{this.consume(ye.LBRACK),this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();this.restoreAcceptIN(),e=this.factory.createPropertyAssignment(e,t,!0,s,this.createRange(e)),this.expect(ye.RBRACK);break}case ye.PERIOD:{if(s)throw new Error(this.errorMessage(`Unexpected Token:${this.position()}`));this.consume(ye.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,t,!1,s,this.createRange(e));break}case ye.LPAREN:{const t=this.parseArguments();e=this.factory.createCallExpression(e,t,s,this.createRange(e));break}case ye.BIND:{if(s)throw new Error(this.errorMessage(`Unexpected Token:${this.position()}`));this.consume(ye.BIND);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createBindExpression(e,t,!1,s,this.createRange(e));break}case ye.QUESTION_BIND:{if(s)throw new Error(this.errorMessage("Failure Expression"));this.consume(ye.QUESTION_BIND),s=!0,t=!0;const r=this.parsePropertyOrPrivatePropertyName();e=this.factory.createBindExpression(e,r,!0,s,this.createRange(e));break}default:if(t)throw new Error(this.errorMessage("Optional Chaining No Template support"));e=this.parseTemplateLiteral(e)}s&&(s=!1)}while(ye.isPropertyOrCall(this.peek().token));return t&&(e=this.factory.createChainExpression(e,this.createRange(e))),e}parseAwaitExpression(){const e=this.consume(ye.AWAIT),t=this.parseUnaryExpression();if(this.peek().isType(ye.EXP))throw new Error(this.scanner.createError("Unexpected Token Unary Exponentiation"));return this.factory.createAwaitExpression(t,this.createRange(e))}parseNullishExpression(e){const t=[];for(t.push(e);this.peek().isType(ye.NULLISH);)this.consume(ye.NULLISH),e=this.parseBinaryExpression(6),t.push(e);return e=t.pop(),t.reverse().reduce(((e,t)=>this.factory.createLogicalExpression(ye.NULLISH.getName(),t,e)),e)}parseConditionalContinuation(e){this.consume(ye.CONDITIONAL),this.setAcceptIN(!0);const t=this.parseAssignmentExpression();this.restoreAcceptIN(),this.expect(ye.COLON);const s=this.parseAssignmentExpression();return this.factory.createConditionalExpression(e,t,s)}parseYieldExpression(){this.consume(ye.YIELD);let e,t=!1;if(!this.scanner.hasLineTerminatorBeforeNext())switch(this.check(ye.MUL)&&(t=!0),this.peek().token){case ye.EOS:case ye.SEMICOLON:case ye.RBRACE:case ye.RBRACK:case ye.RPAREN:case ye.COLON:case ye.COMMA:case ye.IN:if(!t)break;throw new Error(this.errorMessage("Delegating yields require an RHS"));default:e=this.parseAssignmentExpressionCoverGrammar()}return this.factory.createYieldExpression(t,e)}parseNewTargetExpression(e){throw new Error(this.errorMessage("Expression (new.target) not supported."))}parseClassExpression(){throw new Error(this.errorMessage("Expression (class) not supported."))}parseClassDeclaration(e,t,s){throw new Error(this.errorMessage("Expression (class) not supported."))}parseClassLiteral(e,t){throw new Error(this.errorMessage("Expression (class) not supported."))}parseSuperExpression(){throw new Error(this.errorMessage("Expression (supper) not supported."))}parseImportExpressions(){throw new Error(this.errorMessage("Expression (import) not supported."))}parseWithStatement(){throw new Error(this.errorMessage("Expression (with) not supported."))}}class as extends is{static parse(e,{mode:t,factory:s,addLocation:r}={}){t??=g.Strict;const n="string"==typeof e||Array.isArray(e)?Qe.getTokenStream(e,t):e;if(null==s){const t=r&&"string"==typeof e?new ss(e):void 0;s=new rs(t)}return new as(n,s,!1).scan()}static parseScript(e,t){return is.parse(e,t)}scan(){const e=this.createStartPosition(),t=I(this.languageMode);t&&this.setFunctionKind(ve.Module);const s=t?this.parseModuleItemList():this.parseStatementList(ye.EOS);return this.updateRangeEnd(e),this.factory.createProgram(t?"module":"script",s,e)}parseNewTargetExpression(e){this.consume(ye.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();if("target"!==t.toString())throw new Error(this.errorMessage(`Expression (new.${t.toString()}) not supported.`));return this.factory.createMetaProperty(this.factory.createIdentifier("new",e?.range),this.factory.createIdentifier("target",t.range),this.createRange(e))}parseClassExpression(){let e;this.consume(ye.CLASS);let t=!1;this.peekAnyIdentifier()&&(e=this.parseAndClassifyIdentifier(this.next()),t=ye.isStrictReservedWord(this.current().token));const s=this.parseClassLiteral(e,t);return this.factory.createClassExpression(s.getBody(),s.getDecorators(),s.getId(),s.getSuperClass())}parseClassDeclaration(e,t,s){const r=this.peek().token,n=ye.isStrictReservedWord(r);let i,a;if(!t||r!=ye.EXTENDS&&r!=ye.LBRACE){const e=this.parseIdentifier();a=e.getName(),i=e}else i=new G("default"),a=".default";const o=this.parseClassLiteral(i,n),c=this.createRange(s);return this.factory.createClassDeclaration(o.getBody(),o.getDecorators(),o.getId(),o.getSuperClass(),c)}parseClassLiteral(e,t){const s=!e;if(!s){if(t)throw new Error(this.errorMessage("Unexpected Strict Reserved class name"));if(this.isEvalOrArguments(e))throw new Error(this.errorMessage("Strict Eval Arguments not allowed for class name"))}const r={publicMembers:[],privateMembers:[],staticElements:[],instanceFields:[],constructor:void 0,hasSeenConstructor:!1,hasStaticComputedNames:!1,hasStaticElements:!1,hasStaticPrivateMethods:!1,hasStaticBlocks:!1,hasInstanceMembers:!1,requiresBrand:!1,isAnonymous:!1,hasPrivateMethods:!1,computedFieldCount:0};r.isAnonymous=s,this.check(ye.EXTENDS)&&(r.extends=this.parseLeftHandSideExpression());const n=this.expect(ye.LBRACE),i=!!r.extends;for(;this.peek().isNotType(ye.RBRACE);){if(this.check(ye.SEMICOLON))continue;if(this.peek().isType(ye.STATIC)&&this.peekAhead().isType(ye.LBRACE)){const e=this.parseClassStaticBlock(r);r.staticElements.push(e),r.hasStaticBlocks=!0;continue}let t=!r.hasSeenConstructor;const s=new Ce;s.position=xe.ClassLiteral;const n=this.parseClassPropertyDefinition(r,s,i),a=Ue(s.kind);!r.hasStaticComputedNames&&s.isStatic&&s.isComputedName&&(r.hasStaticComputedNames=!0),t&&=r.hasSeenConstructor;const o=a==Fe.FIELD;if(s.isPrivate){if(t)throw new Error(this.errorMessage("private constructor is not allowed"));r.requiresBrand||=!o&&!s.isStatic;const e=a==Fe.METHOD;r.hasPrivateMethods||=e,r.hasStaticPrivateMethods||=e&&s.isStatic,this.declarePrivateClassMember(s.name,n,a,s.isStatic,r)}else o?(s.isComputedName&&r.computedFieldCount++,this.declarePublicClassField(n,s.isStatic,s.isComputedName,r)):this.declarePublicClassMethod(e,n,t,r)}const a=this.expect(ye.RBRACE),o=this.rewriteClassLiteral(r,e,[n.range[0],a.range[1]]);return new de(o,[],e,r.extends)}declarePublicClassMethod(e,t,s,r){if(s){if(r.constructor)throw new SyntaxError(this.errorMessage("A class may only have one constructor."));return r.constructor=t,void Reflect.set(r.constructor,"id",e)}r.publicMembers.push(t)}declarePublicClassField(e,t,s,r){t?r.staticElements.push(e):r.instanceFields.push(e)}declarePrivateClassMember(e,t,s,r,n){n.privateMembers.push(t)}parseClassPropertyDefinition(e,t,s){if(!e)throw new Error(this.errorMessage("class info is undefined"));if(t.position!==xe.ClassLiteral)throw new Error(this.errorMessage("expected property position ClassLiteral"));let r;switch(this.peek().isType(ye.STATIC)?(this.consume(ye.STATIC),this.peek().isType(ye.LPAREN)?(t.kind=we.Method,r=this.parseIdentifier(),t.name=r.getName()):this.peek().isType(ye.ASSIGN)||this.peek().isType(ye.SEMICOLON)||this.peek().isType(ye.RBRACK)?(r=this.parseIdentifier(),t.name=r.getName()):(t.isStatic=!0,r=this.parseProperty(t))):r=this.parseProperty(t),t.kind){case we.Assign:case we.ClassField:case we.ShorthandOrClassField:case we.NotSet:{t.kind=we.ClassField;const s=this.parseMemberInitializer(e,t.isStatic);this.expectSemicolon();const n=this.newClassLiteralProperty(r,s,Fe.FIELD,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart);return this.setFunctionNameFromPropertyName(n,t.name),n}case we.Method:{t.isComputedName||this.checkClassMethodName(t,e);let n=this.methodKindFor(t.isStatic,t.funcFlag);t.isStatic||"constructor"!==t.name.toString()||(e.hasSeenConstructor=!0,n=s?ve.DerivedConstructor:ve.BaseConstructor);const i=this.parseFunctionLiteral(n,Re.AccessorOrMethod,r,t.rangeStart),a=this.newClassLiteralProperty(r,i,Je.Kind.METHOD,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart);return this.setFunctionNameFromPropertyName(a,t.name),a}case we.AccessorGetter:case we.AccessorSetter:{if(t.funcFlag!==Ne.IsNormal)throw new Error(this.errorMessage("accessor is not normal function"));const s=t.kind==we.AccessorGetter;let n;t.isComputedName||(this.checkClassMethodName(t,e),r=new G(t.name)),n=t.isStatic?s?ve.StaticGetterFunction:ve.StaticSetterFunction:s?ve.GetterFunction:ve.SetterFunction;const i=this.parseFunctionLiteral(n,Re.AccessorOrMethod,r,t.rangeStart),a=s?Je.Kind.GETTER:Je.Kind.SETTER,o=this.newClassLiteralProperty(r,i,a,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart),c=s?"get ":"set ";return this.setFunctionNameFromPropertyName(o,t.name,c),o}case we.Value:case we.Shorthand:case we.Spread:return this.factory.createNull(t.rangeStart?.range)}throw new Error(this.errorMessage("UNREACHABLE"))}checkClassMethodName(e,t){if(e.kind!=we.Method&&!ke(e.kind))throw new Error(this.errorMessage("not kind of method or setter or getter"));if(e.isPrivate&&"constructor"===e.name.toString())throw new Error(this.errorMessage("constructor is private"));if(e.isStatic&&"prototype"===e.name.toString())throw new Error(this.errorMessage("static prototype"));if("constructor"===e.name.toString()){if(e.funcFlag!==Ne.IsNormal||ke(e.kind)){if(e.funcFlag===Ne.IsGenerator)throw new Error(this.errorMessage("constructor is generator"));if(e.funcFlag===Ne.IsAsync)throw new Error(this.errorMessage("constructor is async"));if(t.hasSeenConstructor)throw new Error(this.errorMessage("duplicate constructor"))}t.hasSeenConstructor=!0}}parseClassStaticBlock(e){this.consume(ye.STATIC),this.setStatue(!0,ve.ClassStaticInitializerFunction);const t=this.parseBlock();return this.restoreStatue(),e.hasStaticElements=!0,this.factory.createClassStaticBlockDeclaration(t.getBody(),t.range)}newClassLiteralProperty(e,t,s,r,n,i,a){const o=this.createRange(a);switch(s){case Fe.METHOD:return"constructor"===e.toString()?this.factory.createMethodSignature("constructor",e,t,[],n,r,o):this.factory.createMethodSignature("method",e,t,[],n,r,o);case Fe.GETTER:return this.factory.createMethodSignature("get",e,t,[],n,r,o);case Fe.SETTER:return this.factory.createMethodSignature("set",e,t,[],n,r,o);case Fe.FIELD:return this.factory.createPropertySignature(e,[],n,r,t,o)}throw new Error(this.errorMessage("UNREACHABLE"))}parseMemberInitializer(e,t){const s=t?ve.ClassStaticInitializerFunction:ve.ClassMembersInitializerFunction;let r;return this.check(ye.ASSIGN)&&(this.setStatue(!0,s),r=this.parseAssignmentExpression(),this.restoreStatue()),t?e.hasStaticElements=!0:e.hasInstanceMembers=!0,r}setFunctionNameFromPropertyName(e,t,s){}parseSuperExpression(){const e=this.consume(ye.SUPER);if(ye.isProperty(this.peek().token)){if(this.peek().isType(ye.PERIOD)&&this.peekAhead().isType(ye.PRIVATE_NAME))throw this.consume(ye.PERIOD),this.consume(ye.PRIVATE_NAME),new Error(this.errorMessage("Unexpected Private Field"));if(this.peek().isType(ye.QUESTION_PERIOD))throw this.consume(ye.QUESTION_PERIOD),new Error(this.errorMessage("Optional Chaining No Super"));return this.factory.createSuper(e.range)}throw new Error(this.errorMessage("Unexpected Super"))}rewriteClassLiteral(e,t,s){const r=[];return e.hasSeenConstructor&&r.push(e.constructor),r.push(...e.staticElements),r.push(...e.instanceFields),r.push(...e.publicMembers),r.push(...e.privateMembers),this.factory.createClassBody(r,s)}parseModuleItemList(){const e=[];for(;this.peek().isNotType(ye.EOS);){const t=this.parseModuleItem();if(!t)break;this.factory.isEmptyStatement(t)||e.push(t)}return e}parseModuleItem(){const e=this.peek();if(e.isType(ye.EXPORT))return this.parseExportDeclaration();if(e.isType(ye.IMPORT)){const e=this.peekAhead();if(e.isNotType(ye.LPAREN)&&e.isNotType(ye.PERIOD))return this.parseImportDeclaration()}return this.parseStatementListItem()}parseExportDeclaration(){const e=this.expect(ye.EXPORT);let t;const s=[];switch(this.peek().token){case ye.DEFAULT:return this.parseExportDefault(e);case ye.MUL:return this.parseExportStar(e);case ye.LBRACE:{const t=this.parseExportClause();let s,r;return this.checkContextualKeyword("from")?(s=this.parseModuleSpecifier(),r=this.parseImportAssertClause(),this.expectSemicolon()):this.expectSemicolon(),this.factory.createNamespaceExportDeclaration(t,void 0,s,r,this.createRange(e))}case ye.FUNCTION:{const s=this.parseFunctionDeclaration(),r=s.getId(),n=this.factory.createExportSpecifier(r,r,r.range);t=this.factory.createNamespaceExportDeclaration([n],s,void 0,void 0,this.createRange(e));break}case ye.CLASS:{const r=this.consume(ye.CLASS),n=this.parseClassDeclaration(s,!1,r),i=n.getId(),a=this.factory.createExportSpecifier(i,i,i.range);t=this.factory.createNamespaceExportDeclaration([a],n,void 0,void 0,this.createRange(e));break}case ye.VAR:case ye.LET:case ye.CONST:const r=this.parseVariableStatement(_e.StatementListItem,s),n=r.getDeclarations().map((e=>this.factory.createExportSpecifier(e.getId(),e.getId(),e.getId().range)));t=this.factory.createNamespaceExportDeclaration(n,r,void 0,void 0,this.createRange(e));break;case ye.ASYNC:const i=this.consume(ye.ASYNC);if(this.peek().isType(ye.FUNCTION)&&!this.scanner.hasLineTerminatorBeforeNext()){const r=this.parseAsyncFunctionDeclaration(s,!1,i),n=r.getId(),a=this.factory.createExportSpecifier(n,n,n.range);t=this.factory.createNamespaceExportDeclaration([a],r,void 0,void 0,this.createRange(e));break}default:throw new SyntaxError(this.errorMessage("Unexpected Token"))}return t}parseImportDeclaration(){const e=this.expect(ye.IMPORT),t=this.peek();if(t.isType(ye.STRING)){const t=this.parseModuleSpecifier(),s=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createImportDeclaration(t,void 0,s,this.createRange(e))}let s,r,n;if(t.isNotType(ye.MUL)&&t.isNotType(ye.LBRACE)&&(s=this.parseNonRestrictedIdentifier()),null==s||this.check(ye.COMMA))switch(this.peek().token){case ye.MUL:this.consume(ye.MUL),this.expectContextualKeyword("as"),r=this.parseNonRestrictedIdentifier();break;case ye.LBRACE:n=this.parseNamedImports();break;default:throw new SyntaxError(this.errorMessage("Unexpected Token"))}this.expectContextualKeyword("from");const i=this.parseModuleSpecifier(),a=this.parseImportAssertClause();this.expectSemicolon();const o=[];return r&&o.push(this.factory.createImportNamespaceSpecifier(r,r.range)),s&&o.push(this.factory.createImportDefaultSpecifier(s,s.range)),n?.length&&o.push(...n),this.factory.createImportDeclaration(i,o.length?o:void 0,a,this.createRange(e))}parseImportExpressions(){const e=this.consume(ye.IMPORT);if(this.check(ye.PERIOD)){const t=this.peek();return this.expectContextualKeyword("meta"),this.factory.createMetaProperty(this.factory.createIdentifier("import",e.range),this.factory.createIdentifier("meta",t.range),this.createRange(e))}if(this.peek().isNotType(ye.LPAREN))throw new SyntaxError(this.errorMessage("Unexpected Token"));if(this.consume(ye.LPAREN),this.peek().isType(ye.RPAREN))throw new SyntaxError(this.errorMessage("Import Missing Specifier"));this.setAcceptIN(!0);const t=this.parseAssignmentExpressionCoverGrammar();if(this.check(ye.COMMA)){if(this.check(ye.RPAREN))return this.factory.createImportExpression(t,void 0,this.createRange(e));{const s=this.parseAssignmentExpressionCoverGrammar();return this.check(ye.COMMA),this.expect(ye.RPAREN),this.factory.createImportExpression(t,s,this.createRange(e))}}return this.expect(ye.RPAREN),this.restoreAcceptIN(),this.factory.createImportExpression(t,void 0,this.createRange(e))}parseVariableStatement(e,t){const s=this.parseVariableDeclarations(e);return this.expectSemicolon(),t.push(...s.getDeclarations().map((e=>e.getId().toString()))),s}parseImportAssertClause(){if(this.scanner.hasLineTerminatorBeforeNext()||!this.checkContextualKeyword("assert"))return;this.expect(ye.LBRACE);const e={},t=[];for(;this.peek().isNotType(ye.RBRACE);){let s=this.checkAndGetValue(ye.STRING);s||(s=this.parsePropertyOrPrivatePropertyName()),this.expect(ye.COLON);const r=this.expectAndGetValue(ye.STRING);if(t.push(this.factory.createAssertEntry(s,r,this.createRange(s))),e[s.toString()]=(e[s.toString()]??0)+1,e[s.toString()]>1)throw new SyntaxError(this.errorMessage("Import Assertion  Duplicate Key"));if(this.peek().isType(ye.RBRACE))break;if(!this.check(ye.COMMA))throw new SyntaxError("Unexpected Token")}return this.expect(ye.RBRACE),t}parseModuleSpecifier(){return this.expectAndGetValue(ye.STRING)}parseExportClause(){this.expect(ye.LBRACE);const e=[];let t=this.peek();for(;t.isNotType(ye.RBRACE);){const t=this.parseExportSpecifierName();let s;if(s=this.checkContextualKeyword("as")?this.parseExportSpecifierName():t,e.push(this.factory.createExportSpecifier(s,t)),this.peek().isType(ye.RBRACE))break;if(!this.check(ye.COMMA))throw new SyntaxError("Unexpected Token")}return this.expect(ye.RBRACE),e}parseExportSpecifierName(){const e=this.next();if(e.isType(ye.IDENTIFIER)||ye.isPropertyName(e.token))return e.getValue();if(e.isType(ye.STRING))return e.getValue();throw new SyntaxError(this.errorMessage("Unexpected Token"))}parseNamedImports(){this.expect(ye.LBRACE);const e=[];for(;this.peek().isNotType(ye.RBRACE);){const t=this.parseExportSpecifierName();let s=t;if(this.checkContextualKeyword("as")&&(s=this.parsePropertyOrPrivatePropertyName()),!ye.isValidIdentifier(this.current().token,g.Strict,!1,I(this.languageMode)))throw new SyntaxError(this.errorMessage("Unexpected Reserved Keyword"));if(this.isEvalOrArguments(s))throw new SyntaxError(this.errorMessage("Strict Eval Arguments"));if(e.push(this.factory.createImportSpecifier(s,t,this.createRange(t))),this.peek().isType(ye.RBRACE))break;this.expect(ye.COMMA)}return this.expect(ye.RBRACE),e}parseExportDefault(e){this.expect(ye.DEFAULT);const t=[];let s;switch(this.peek().token){case ye.FUNCTION:s=this.parseHoistableDeclaration(t,!0,this.peek());break;case ye.CLASS:const e=this.consume(ye.CLASS);s=this.parseClassDeclaration(t,!0,e);break;case ye.ASYNC:if(this.peekAhead().isType(ye.FUNCTION)&&!this.scanner.hasLineTerminatorBeforeNext()){const e=this.consume(ye.ASYNC);s=this.parseHoistableDeclaration(t,!0,e);break}default:this.setAcceptIN(!0),s=this.parseAssignmentExpression(),this.expectSemicolon(),this.restoreAcceptIN()}return this.factory.createExportDefault(s,this.createRange(e))}parseExportStar(e){if(this.consume(ye.MUL),!this.peekContextualKeyword("as")){this.expectContextualKeyword("from");const t=this.parseModuleSpecifier(),s=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createExportAllDeclaration(t,void 0,s,this.createRange(e))}this.expectContextualKeyword("as");const t=this.parseExportSpecifierName();this.expectContextualKeyword("from");const s=this.parseModuleSpecifier(),r=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createExportAllDeclaration(s,t,r,this.createRange(e))}parseWithStatement(){const e=this.consume(ye.WITH);if(I(this.languageMode))throw new SyntaxError(this.errorMessage("With is not allowed in Strict mode."));this.expect(ye.LPAREN);const t=this.parseExpression();this.expect(ye.RPAREN);const s=this.parseStatement(),r=this.createRange(e);return this.factory.createWithStatement(t,s,r)}}const os=FinalizationRegistry?new FinalizationRegistry((e=>e.forEach((e=>{try{e()}catch(e){}})))):void 0;class cs{static for(...e){return 0===e.length?new cs:new cs(e.map((e=>new E(e))))}static forScopes(...e){return 0===e.length&&e.push(E.blockScope()),new cs(e)}static moduleScope(e,t,...s){return new cs(s,e,t)}awaitPromise=[];forAwaitAsyncIterable;stack;moduleScope;moduleSource;resolver;onDestroyActions=[];constructor(e,t,s){var r;Array.isArray(e)?this.stack=e.slice():this.stack=e instanceof cs?e.stack.slice():"object"==typeof e?[e]:[],t&&s?(this.resolver=t,this.moduleSource=s,this.moduleScope=new v(this.initModuleContext()),this.pushScope(this.moduleScope),this.pushReactiveScope()):0===this.stack.length&&this.pushBlockScope(),r=this.onDestroyActions,os?.register(this,r,this)}initModuleContext(){const e=e=>{const t=this.importModule(e);return t instanceof k?t.resolveImport():Promise.resolve(t.getContext())};var t;return e.meta={url:(t=this.moduleSource,new URL(t,hs)),resolve:(t,s)=>Promise.resolve(this.resolver.resolveURL(t,s??e.meta.url))},{import:e}}has(e){return!!this.stack.find((t=>t.has(e)))}get(e){return this.findScope(e).get(e)}set(e,t,s){return this.findScope(e).set(e,t,s)}declareVariable(e,t){return this.lastScope().set(e,t)}findScope(e){let t=this.stack.length;for(;t--;){const s=this.stack[t];if(s.has(e))return s}return this.lastScope()}resolveAwait(e){this.awaitPromise.push(e)}popScope(){return this.stack.pop()}removeScope(e){const t=this.stack.lastIndexOf(e);this.stack.splice(t,1)}pushScope(e){this.stack.push(e)}pushBlockScope(e){const t=E.blockScope(e);return this.stack.push(t),t}pushBlockScopeFor(e,t){const s=E.for(e,t);return this.stack.push(s),s}pushReactiveScope(e){const t=A.blockScope(e);return this.stack.push(t),t}pushReactiveScopeFor(e,t){const s=A.for(e,t);return this.stack.push(s),s}lastScope(){return this.stack[this.stack.length-1]}clearTo(e){const t=this.stack.lastIndexOf(e);return-1!==t&&(this.stack.splice(t),!0)}clearTill(e){const t=this.stack.lastIndexOf(e);return-1!==t&&(this.stack.splice(t+1),!0)}copyStack(){return new cs(this.stack.slice(),this.resolver,this.moduleSource)}detach(){this.getReactiveScopeControls().forEach((e=>e.detach()))}reattach(){this.getReactiveScopeControls().forEach((e=>e.reattach()))}detectChanges(){this.getReactiveScope().forEach((e=>e.detectChanges()))}getReactiveScopeControls(){return this.stack.filter((e=>e instanceof N))}getReactiveScope(){return this.stack.filter((e=>e instanceof A))}importModule(e,t){if(!this.resolver||!this.moduleScope)throw new Error("Module Resolver is undefined");return this.resolver.resolve(e,this.moduleScope,t)}getModule(){return this.moduleScope}onDestroy(e){this.onDestroyActions.push(e)}}const hs="https://root";function ls(e,t,s,r){e.forEach((e=>{if(e.startsWith(":"))return;r.push([e,s]);const n=Object.keys(t[e]);if(!n.length)return;const i=s.getInnerScope(e)??s.setInnerScope(e);ls(n,t[e],i,r)}))}function us(e,t){const s=[];return Object.keys(e).forEach((r=>{const n=t.findScope(r);s.push([r,n]);const i=Object.keys(e[r]);if(!i.length)return;const a=n.getInnerScope(r)??n.setInnerScope(r);ls(i,e[r],a,s)})),s}function ps(e,t){return us(e,t).filter((e=>e[1]instanceof A))}function ms(e){try{return e()}catch(e){return e}}class ds extends A{state=[];watch=!0;constructor(){super([])}createSignal(e){const t=new bs(this,this.getContext().length,e);return bs.bindNode(t),t}createSignalFn(e){const t=new bs(this,this.getContext().length,e);return bs.toReactiveSignal(t)}createLazy(e){const t=new Ss(this,this.getContext().length,e);return Ss.bindNode(t),t}createLazyFn(e){const t=new Ss(this,this.getContext().length,e);return Ss.toReactiveSignal(t)}createComputed(e){const t=this.getContext().length;this.watchState();const s=ms(e),r=new ys(this,t,s);ys.bindNode(r);const n=()=>{this.watchState();const s=ms(e),r=this.readState();this.restoreState(),Object.keys(i).filter((e=>!r.includes(+e))).forEach((e=>i[e].pause())),r.forEach((e=>{i[e]?.resume(),i[e]??=this.subscribe(e,n)})),this.set(t,s)},i=this.observeState(n);return this.restoreState(),r}createComputedFn(e){const t=this.createComputed(e);return ys.toReactiveSignal(t)}createEffect(e){let t,s=!1;const r=e=>{t=e,s=!0},n=()=>{s=!1;const n=ms((()=>e(r)));n instanceof Error&&console.error(n),s||(t=void 0)};this.watchState(),n();const i=()=>{t?.(),this.watchState(),n();const e=this.readState();this.restoreState(),Object.keys(a).filter((t=>!e.includes(+t))).forEach((e=>a[e].pause())),e.forEach((e=>{a[e]?.resume(),a[e]??=this.subscribe(e,i)}))},a=this.observeState(i);return this.restoreState(),{destroy:()=>{Object.values(a).forEach((e=>e.unsubscribe())),t?.()}}}watchState(){this.state.push([])}untrack(){this.watch=!1}observeIndex(e){this.watch&&this.state.at(-1)?.push(e)}track(){this.watch=!0}readState(){return this.state.at(-1)??[]}observeState(e){return Object.fromEntries(this.readState().map((t=>[t,this.subscribe(t,e)])))}restoreState(){this.state.pop()}}class fs{scope;index;static bindNode(e){e.get=e.get.bind(e)}static toReactiveSignal(e){const t=()=>e.get();return t[gs]=e,t}constructor(e,t){this.scope=e,this.index=t}get(){return this.scope.observeIndex(this.index),this.scope.get(this.index)}subscribe(e){return this.scope.subscribe(this.index,e)}}const gs=Symbol("Signal");class ys extends fs{constructor(e,t,s){super(e,t),e.set(t,s)}}class Ss extends fs{updateFn;constructor(e,t,s){super(e,t),this.updateFn=s,e.set(t,ms(s))}get(){const e=ms(this.updateFn);return this.scope.set(this.index,e),super.get()}}class bs extends fs{static bindNode(e){e.get=e.get.bind(e),e.set=e.set.bind(e),e.update=e.update.bind(e)}static toReactiveSignal(e){const t=()=>e.get();return t.set=t=>e.set(t),t.update=t=>e.update(t),t[gs]=e,t}constructor(e,t,s){super(e,t),e.set(t,s)}set(e){this.scope.set(this.index,e)}update(e){this.set(e(this.get()))}asReadonly(){return Es.toReactiveSignal(new Es(this.scope,this.index))}asReadonlyNode(){const e=new Es(this.scope,this.index);return Es.bindNode(e),e}}class Es extends fs{}(()=>{let e,t,s=[B("CommentExpression")],r=[],n=P;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}comment;static fromJSON(e){return new i(e.comment,e.range,e.loc)}constructor(e,t,s){super(t,s),this.comment=e}getComment(){return this.comment}set(e,...t){}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return this.comment}toJson(){return{comment:this.comment}}};i=t})();class ws extends Error{}const xs=new class{getType(e){return e.constructor.type}visit(e,t){const s={abort(){throw new ws("terminate")}},r=e=>{t(e,this.getType(e),s),this.visitExpressionNode(e,r)};try{t(e,this.getType(e),s),this.visitExpressionNode(e,r)}catch(e){if(!(e instanceof ws))throw e}}visitExpressionNode(e,t){const s=_.get(this.getType(e)).visit;s&&s(e,t)}};function Ts(e){return"onChanges"in e}function As(e){return"onInit"in e}function Ns(e){return"doCheck"in e}function vs(e){return"afterContentChecked"in e}function ks(e){return"afterViewChecked"in e}function Cs(e){return"onDestroy"in e}function Is(e){return Reflect.has(e,"_model")&&e instanceof HTMLElement}class Os{}class Ps extends w{constructor(){super({})}has(e){if(e in this._ctx)return!0;const t=f.getPipe(e);return void 0!==t&&!t.asynchronous}get(e){let t;if(t=this._ctx[e])return t;const s=f.getPipe(e);if(void 0!==s&&!s.asynchronous){const e=new s.modelClass;return t=(t,...s)=>e.transform(t,...s),this._ctx[s.name]=t,t}}getClass(){return Ps}}class Rs extends w{constructor(){super({})}has(e){const t=f.getPipe(e);return!!t?.asynchronous}get(e){const t=f.getPipe(e);if(t?.asynchronous)return t.modelClass}getClass(){return Rs}}class Ls extends N{static blockScope(){return new Ls}wrapper={};constructor(){super({})}set(e,t,s){const r=function(e,t){return{detach(){e.detach()},reattach(){e.reattach()},markForCheck(){e.emitChanges(t,e.get(t))},detectChanges(){e.detectChanges()},checkNoChanges(){e.checkNoChanges()}}}(this,e),n=new t(r),i=super.set(e,n,s);return i&&(this.wrapper[e]=(e,...t)=>n.transform(e,...t)),i}get(e){return Reflect.get(this.wrapper,e)}unsubscribe(e,t){super.unsubscribe(e,t),this._ctx[e].onDestroy()}getClass(){return Ls}}const Ms={Math:{E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clz32:Math.clz32,imul:Math.imul,sign:Math.sign,log10:Math.log10,log2:Math.log2,log1p:Math.log1p,expm1:Math.expm1,cosh:Math.cosh,sinh:Math.sinh,tanh:Math.tanh,acosh:Math.acosh,asinh:Math.asinh,atanh:Math.atanh,hypot:Math.hypot,trunc:Math.trunc,fround:Math.fround,cbrt:Math.cbrt},Object,parseFloat,parseInt,Infinity:1/0,NaN:NaN,isNaN,isFinite,Array:{isArray:Array.isArray},Symbol,String,Number},Fs=new w(Ms),Ds=new cs([Fs,new Ps,new Rs]);class _s{el;_zone;constructor(e,t){this.el=e,this._zone=t}}class Bs{directive;_zone;constructor(e,t){this.directive=e,this._zone=t}}class js extends Os{}class Hs extends js{}class Vs extends Hs{_scope;_rootNodes;_subscriptions;_destroyed=!1;_onDestroySubscribes=[];constructor(e,t,s){super(),this._scope=e,this._rootNodes=t,this._subscriptions=s}get context(){return this._scope.getContext()}get rootNodes(){return this._rootNodes}get first(){return this._rootNodes[0]}get last(){return this._rootNodes[this._rootNodes.length-1]}get destroyed(){return this._destroyed}destroy(){if(!this._destroyed){this._subscriptions?.forEach((e=>e.unsubscribe())),this._subscriptions?.splice(0,this._subscriptions.length);for(const e of this._rootNodes)e.remove();this._onDestroySubscribes.forEach((e=>{try{e()}catch(e){console.error(e)}})),this._destroyed=!0}}getAsANode(){if(1==this._rootNodes.length)return this._rootNodes[0];const e=document.createDocumentFragment();return this._rootNodes.forEach((t=>e.append(t))),e}after(e){e.after(this.getAsANode())}before(e){e.before(this.getAsANode())}detach(){for(const e of this._rootNodes)e.remove();this._scope.detach()}reattach(){this._scope.emitChanges()}markForCheck(){this._scope.emitChanges()}detectChanges(){this._scope.detectChanges()}checkNoChanges(){this._scope.checkNoChanges()}onDestroy(e){return this._onDestroySubscribes.push(e),{unsubscribe:()=>{const t=this._onDestroySubscribes.indexOf(e);t>-1&&this._onDestroySubscribes.splice(t,1)}}}}class Gs{}class $s extends Gs{_render;_node;_stack;_templateExpressions;_host;constructor(e,t,s,r){super(),this._render=e,this._node=t,this._stack=s,this._templateExpressions=r}get astNode(){return this._node}set host(e){this._host=e}createEmbeddedView(e={},t){const s=this._stack.copyStack(),r=N.blockScope();s.pushScope(r);const n=new cs,i=N.for(e);n.pushScope(i),n.pushScope(r);const a=[],o=[],c=new Vs(i,a,o),h=this.executeTemplateExpressions(n);h&&o.push(...h);const l=document.createDocumentFragment();return this._render.appendChildToParent(l,this._node,s,t,o,this._host),l.childNodes.forEach((e=>a.push(e))),c}executeTemplateExpressions(e){if(!this._templateExpressions?.length)return;this._templateExpressions.forEach((t=>{t.get(e)}));const t=[];return this._templateExpressions.forEach((s=>{ps(s.events(),e).forEach((r=>{const n=r[1].subscribe(r[0],(()=>s.get(e)));t.push(n)}))})),t}}function Js(e){return Reflect.has(e,"component")}class Us{}class Ws extends Us{_parent;_firstComment;_views=[];constructor(e,t){super(),this._parent=e,this._firstComment=t}get anchorElement(){return this._parent}get length(){return this._views.length}clear(){if(this._views.length>0){for(const e of this._views)e.destroy();this._views.splice(0)}}get(e){if(!(e>=this._views.length))return this._views[e]}detach(e){e??=this._views.length-1;const t=this._views[e];return t.detach(),this._views.splice(e,1),t}indexOf(e){return this._views.indexOf(e)}remove(e){e??=this._views.length-1,this._views[e].destroy(),this._views.splice(e,1)}insert(e,t){const s=0==(t=(t??=this._views.length)>this._views.length?this._views.length:t)?this._firstComment:this._views[t-1].last;return this._views.splice(t,0,e),e.after(s),e}move(e,t){const s=this.indexOf(e);return s>-1?this.detach(s):e.detach(),this.insert(e,t)}createEmbeddedView(e,t){const s=e.createEmbeddedView(t?.context||{},this._parent);return 0!=t?.insert&&this.insert(s,t?.index),s}createComponent(e,t){let s;if("string"==typeof e)s=customElements.get(e);else{if("function"!=typeof e)throw new Error(`Can't find View component for args, ${e}, ${t}`);if(Reflect.has(e,"observedAttributes"))s=e;else{const r=e,n=d.getMetaDate(r)?.selector,i=function(e,t){if(!Js(e))return;let s;if(t){if(s=e.component[t],!s)throw new Error(`${e.name} doesn't have ${t} as view`)}else s=Object.keys(e.component)[0];return e[s]}(r,t?.selector??n);if(!i)throw new Error(`Can't find View component for class ${r.name}`);s=i}}const r=new s,n=new Vs(r._modelScope,[r]);return 0!=t?.insert&&this.insert(n,t?.index),r}createElement(e,t){let s;if("string"==typeof e)s=document.createElement(e,{is:t?.is});else{if("function"!=typeof e)throw new Error(`Can't find View component for args, ${e}, ${t}`);s=new e}const r=N.for(s),n=new Vs(r,[s]);return 0!=t?.insert&&this.insert(n,t?.index),s}createTextNode(e,t){const s=document.createTextNode(e),r=N.for(s),n=new Vs(r,[s]);return 0!=t?.insert&&this.insert(n,t?.index),s}updateViews(e){for(let t=0;t<e.length;t++)this.move(e[t],t);for(;this.length>e.length;)this.remove()}}function zs(e,t,s){return{pause(){t?.()},resume(){s?.()},unsubscribe(){e()}}}class Ks{view;subscriptions;componentRef;template;contextStack;templateNameScope;exportAsScope;viewScope=new A({});constructor(e,t){this.view=e,this.subscriptions=t,this.componentRef=this.view.getComponentRef(),this.contextStack=Ds.copyStack(),this.contextStack.pushScope(this.view._modelScope),this.exportAsScope=this.contextStack.pushReactiveScope(),this.templateNameScope=this.contextStack.pushReactiveScope()}initView(){if(!this.componentRef.template)return;let e,t;"function"==typeof this.componentRef.template?this.template=this.componentRef.template(this.view._model):this.template=this.componentRef.template,this.componentRef.isShadowDom?(e=Reflect.get(this.view,"_shadowRoot"),Reflect.deleteProperty(this.view,"_shadowRoot")):e=this.view,this.initTemplateRefMap(this.template),this.template instanceof o.WS?t=this.createDocumentFragment(this.template,this.contextStack,e,this.subscriptions,this.view):(t=document.createDocumentFragment(),this.appendChildToParent(t,this.template,this.contextStack,e,this.subscriptions,this.view)),e.append(t)}isTemplateRefName(e){return!!(e instanceof o.V8&&"template"===e.tagName&&e.templateRefName)}initTemplateRefMap(e){if((e instanceof o.V8||e instanceof o.WS)&&e.children)for(let t=0;t<e.children.length;t++){const s=e.children[t];this.isTemplateRefName(s)?this.templateNameScope.set(s.templateRefName.name,void 0):this.initTemplateRefMap(s)}}initViewBinding(){this.componentRef.viewBindings&&this.initHtmlElement(this.view,this.componentRef.viewBindings,this.contextStack,this.subscriptions),this.componentRef.windowBindings&&this.subscriptions.push(...this.initAttribute(window,this.componentRef.windowBindings,this.contextStack))}getElementByName(e){return Reflect.get(this.view,e)}createStructuralDirective(e,t,s,r,n,i){const a=f.getDirectiveRef(e.name);if(!a)return;const o=s.copyStack(),c=new $s(this,e.node,o,e.templateExpressions??[]),h=this.view._zone.fork(a.zone),l=new Ws(n,t);h.onEmpty.subscribe((()=>{const e=l.length;for(let t=0;t<e;t++)l.get(t)?.detectChanges()}));const u=a.modelClass,p=h.run((()=>new u(c,l,i,h)));c.host=p;const m=A.readOnlyScopeForThis(p);m.getInnerScope("this").getContextProxy=()=>p,o.pushScope(m),a.exportAs&&o.pushBlockScopeFor({[a.exportAs]:p}),r.push(...this.initDirective(p,e,o)),As(p)&&h.run(p.onInit,p),e.attributeDirectives?.length&&this.initAttributeDirectives(e.attributeDirectives,p,o,r),Cs(p)&&r.push(zs((()=>p.onDestroy())))}createComment(e){return document.createComment(`${e.comment}`)}createText(e){return new Text(e.value)}createLiveText(e,t,s){const r=new Text("");(t=t.copyStack()).pushBlockScopeFor({this:r});const n=e.expression.subscribe(t,e.pipelineNames);return s.push(...n),e.expression.get(t),r}createDocumentFragment(e,t,s,r,n){const i=document.createDocumentFragment();return e.children?.forEach((e=>this.appendChildToParent(i,e,t,s,r,n))),i}appendChildToParent(e,t,s,r,n,i){if(t instanceof o.V8){if(this.isTemplateRefName(t)){const e=t.templateRefName,r=new $s(this,new o.WS(t.children),s.copyStack(),[]);return void this.templateNameScope.set(e.name,r)}e.append(this.createElement(t,s,n,i))}else if(t instanceof o.tS){const a=t.name+("string"==typeof t.value?" = "+t.value:""),o=document.createComment(`start ${a}`);e.append(o);const c=document.createComment(`end ${a}`);o.after(c),this.createStructuralDirective(t,o,s,n,r,i)}else(0,o.z$)(t)?e.append(this.createLiveText(t,s,n)):t instanceof o.D7?e.append(this.createText(t)):t instanceof o.eK?e.append(this.createComment(t)):t instanceof o.WS&&e.append(this.createDocumentFragment(t,s,r,n,i))}createElementByTagName(e){let t;if((0,o.rH)(e.tagName)){const s=customElements.get(e.tagName);s?t=new s:(t=document.createElement(e.tagName),"HTMLElement"===t.constructor.name&&customElements.whenDefined(e.tagName).then((()=>customElements.upgrade(t))))}else t=(0,o.af)(e.tagName)?document.createElement(e.tagName,e.is?{is:e.is}:void 0):document.createElement(e.tagName);return t}createElement(e,t,s,r){const n=this.createElementByTagName(e);return this.initHtmlElement(n,e,t,s,r),n}createReadOnlyWithReactiveInnerScope(e,t,s){if(!t)return A.readOnlyScopeForThis(e,s);const r=A.for(e,s),n={this:e,[t]:e},i=w.for(n,["this",t]);return i.setInnerScope("this",r),i.setInnerScope(t,r),i}initHtmlElement(e,t,s,r,n){const i=s.copyStack(),a=Is(e)?e._viewScope:this.createReadOnlyWithReactiveInnerScope(e,t.templateRefName?.name);i.pushScope(a);const c=this.initAttribute(e,t,i);r.push(...c);const h=function(e){switch(!0){case"input"===e:return"input";case"textarea"===e:case"select"===e:case(0,o.rz)(e):return"change";default:return}}(t.tagName);if(h){const t=a.getInnerScope("this"),s=s=>t.emit("value",e.value);e.addEventListener(h,s),r.push(zs((()=>e.removeEventListener(h,s))))}const l=t.templateRefName;if(l){Reflect.set(this.view,l.name,e),this.viewScope.set(l.name,e);const t=this.componentRef.viewChild.find((e=>e.selector===l.name));t&&Reflect.set(this.view._model,t.modelName,e)}if(t.children)for(const s of t.children)this.appendChildToParent(e,s,i,e,r,n);t.attributeDirectives?.length&&this.initAttributeDirectives(t.attributeDirectives,e,s,r)}initAttributeDirectives(e,t,s,r){e?.forEach((e=>{const n=f.getDirectiveRef(e.name);if(!n||!(n.modelClass.prototype instanceof _s||n.modelClass.prototype instanceof Bs))return;const i=this.view._zone.fork(n.zone),a=i.run((()=>new n.modelClass(t,i)));n.exportAs&&this.exportAsScope.set(n.exportAs,a);const o=s.copyStack(),c=A.readOnlyScopeForThis(a),h=c.getInnerScope("this");h.getContextProxy=()=>a,o.pushScope(c);const l=this.initDirective(a,e,o);if(r.push(...l),As(a)&&i.run(a.onInit,a),Cs(a)&&r.push(zs((()=>a.onDestroy()))),!(t instanceof HTMLElement))return;const u=n.selector.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));if(t.hasAttribute(u)||t.setAttribute(u,""),n.viewBindings){const e=o.copyStack();e.pushScope(h),this.initHtmlElement(t,n.viewBindings,e,r)}}))}initAttribute(e,t,s){const r=[];return t.attributes?.length&&t.attributes.forEach((t=>{!function(e,t){return(0,o.WY)(e,t)||function(e,t){return Reflect.has(e.constructor,"allAttributes")?Reflect.get(e.constructor,"allAttributes").some((e=>e===t)):!!Reflect.has(e.constructor,"observedAttributes")&&Reflect.get(e.constructor,"observedAttributes").some((e=>e===t))}(e,t)||function(e,t){return!!Is(e)&&e.getComponentRef().inputs.some((e=>e.viewAttribute===t))}(e,t)||function(e){return e.startsWith("data-")}(t)}(e,t.name)?Reflect.set(e,t.name,t.value):!1===t.value?e.removeAttribute(t.name):!0===t.value?e.setAttribute(t.name,""):e.setAttribute(t.name,t.value)})),t.twoWayBinding?.length&&t.twoWayBinding.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),t.inputs?.length&&t.inputs.forEach((e=>{const t=e.expression.subscribe(s,e.pipelineNames);r.push(...t),e.expression.get(s)})),t.outputs?.length&&t.outputs.forEach((t=>{let n;n="string"==typeof t.value?e=>{const r=s.copyStack();r.pushBlockScopeFor({$event:e}),this.view._zone.run(t.expression.get,t.expression,[r])}:t.value,e.addEventListener(t.name,n),r.push(zs((()=>e.removeEventListener(t.name,n))))})),t.templateAttrs?.length&&t.templateAttrs.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),r}initDirective(e,t,s){const r=[];return t.attributes?.length&&t.attributes.forEach((t=>Reflect.set(e,t.name,t.value))),t.twoWayBinding?.length&&t.twoWayBinding.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),t.inputs?.length&&t.inputs.forEach((e=>{const t=e.expression.subscribe(s,e.pipelineNames);r.push(...t),e.expression.get(s)})),t.outputs?.length&&t.outputs.forEach((t=>{const n=e[t.name].subscribe((e=>{const r=s.copyStack();r.pushBlockScopeFor({$event:e}),this.view._zone.run(t.expression.get,t.expression,[r])}));r.push(zs((()=>e[t.name].remove(n))))})),t.templateAttrs?.length&&t.templateAttrs.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),r}}class qs{eventEmitter;othersSubscription;constructor(e){this.eventEmitter=e}add(e){this.othersSubscription||(this.othersSubscription=[]),this.othersSubscription.push(e)}unsubscribe(){this.eventEmitter.remove(this),this.othersSubscription&&this.othersSubscription.forEach((e=>{e.unsubscribe()}))}}class Ys{subscribers=new Map;constructor(){}emit(e){this.subscribers.forEach((t=>{try{t.next(e)}catch(e){try{t.error?.(e)}catch(e){console.error("error: handling event",e)}}finally{try{t.complete?.()}catch(e){console.error("error: handling event",e)}}}))}subscribe(e,t,s){const r=new qs(this);return this.subscribers.set(r,{next:e,error:t,complete:s}),r}remove(e){this.subscribers.delete(e)}}const Zs=()=>{},Xs={};let Qs=0;class er{onTry=new Ys;onCatch=new Ys;onFinal=new Ys;onEmpty=new Ys;id;constructor(){this.id=++Qs}}class tr extends er{static isInAuroraZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("aurora-zone")}static assertInAuroraZone(){if(!tr.isInAuroraZone())throw new Error("Expected to be in Aurora Zone, but it is not!")}static assertNotInAuroraZone(){if(tr.isInAuroraZone())throw new Error("Expected to not be in Aurora Zone, but it is!")}constructor(e){if("undefined"==typeof Zone)throw new Error("In this configuration Zone.js is  required");Zone.assertZonePatched(),super();const t=this;t._nesting=0,t._outer=Zone.root,e?(t._parent=e,t._inner=e._inner):(t._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec))),t._inner=t._inner.fork({name:"aurora",properties:{"aurora-zone":!0,id:t.id},onInvoke:(e,s,r,n,i,a,o)=>{try{return sr(t),e.invoke(r,n,i,a,o)}finally{rr(t)}},onInvokeTask:(e,s,r,n,i,a)=>{try{return sr(t),e.invokeTask(r,n,i,a)}finally{rr(t)}},onHandleError:(e,s,r,n)=>(e.handleError(r,n),t.runOutsideAurora((()=>t.onCatch.emit(n))),!1)})}fork(e){return"manual"===e?new nr(this):"proxy"===e?new ir(this):new tr(this)}run(e,t,s){return this._inner.run(e,t,s)}runTask(e,t,s,r){const n=this._inner,i=n.scheduleEventTask("AuroraZoneEvent: "+r??"",e,Xs,Zs,Zs);try{return n.runTask(i,t,s)}finally{n.cancelTask(i)}}runGuarded(e,t,s){return this._inner.runGuarded(e,t,s)}runOutsideAurora(e){return this._outer.run(e)}}function sr(e){e.onTry.emit(),e._nesting++}function rr(e){e._nesting--,e.onFinal.emit(),0===e._nesting&&e.onEmpty.emit()}class nr extends er{constructor(e){if(super(),e){const t=this;t._nesting=0,t._parent=e}}fork(e){return"proxy"===e?new ir(this):"aurora"===e?new tr(this):new nr(this)}runCallback(e,t,s){try{return sr(this),e.apply(t,s)}catch(e){throw this.onCatch.emit(),e}finally{rr(this)}}run(e,t,s){return this.runCallback(e,t,s)}runTask(e,t,s,r){return this.runCallback(e,t,s)}runGuarded(e,t,s){return this.runCallback(e,t,s)}runOutsideAurora(e){return e()}}class ir extends er{_cdPromise;constructor(e){if(super(),e){const t=this;t._nesting=0,t._parent=e}}fork(e){return"manual"===e?new nr(this):"aurora"===e?new tr(this):new ir(this)}runCallback(e,t,s){try{return sr(this),e.apply(t,s)}catch(e){throw this.onCatch.emit(),e}finally{rr(this)}}run(e,t,s){return this.runCallback(e,t,s)}runTask(e,t,s,r){return this.runCallback(e,t,s)}runGuarded(e,t,s){return this.runCallback(e,t,s)}runOutsideAurora(e){return e()}scheduleChangesDetection(){this._cdPromise??=Promise.resolve().then((()=>{this.runCallback(Zs),this._cdPromise=void 0}))}}const ar=new nr;let or;const cr=new WeakMap;class hr{_zone;static of(e){return new hr(e)}constructor(e){this._zone=e}defineProperty(e,t,s){return this._zone.scheduleChangesDetection(),Reflect.defineProperty(e,t,s)}deleteProperty(e,t){return this._zone.scheduleChangesDetection(),Reflect.deleteProperty(e,t)}get(e,t,s){const r=Reflect.get(e,t,s);if(cr.has(r))return cr.get(r);if(!r||"object"!=typeof r||function(e){switch(!0){case e instanceof Map:case e instanceof Set:case e instanceof Date:case e instanceof WeakMap:case e instanceof WeakSet:case e instanceof Promise:case HTMLElement&&e instanceof HTMLElement:return!0;default:return!1}}(r))return r;const n=lr(r,this._zone);return cr.set(r,n),n}set(e,t,s,r){return this._zone.scheduleChangesDetection(),Reflect.set(e,t,s,r)}}function lr(e,t){return new Proxy(e,new hr(t))}let ur;function pr(e){return class extends e{_model;_signalScope;_render;_shadowRoot;_componentRef;_modelScope;_viewScope;_zone;subscriptions=[];onDestroyCalls=[];needRendering=!0;constructor(e,t){var s;super(),this._componentRef=e,e.isShadowDom&&(this._shadowRoot=this.attachShadow(e.shadowRootInit)),this._signalScope=new ds,s=this._signalScope,ur=s;const r=[],n=(i=()=>this._modelScope,{detach(){i().detach()},reattach(){i().reattach()},markForCheck(){i().detectChanges()},detectChanges(){i().detectChanges()},checkNoChanges(){i().checkNoChanges()}});var i;r.push(n),this._zone=(or??ar).fork(e.zone),r.push(this._zone);const a=new t(...r);this._model=a,ur=void 0;const o=N.for(a),c=this._zone instanceof ir?lr(a,this._zone):a;o.getContextProxy=()=>c,this._modelScope=o,Object.keys(this._model).forEach((e=>{const t=(s=this._model[e])instanceof fs?s:function(e){const t=e?.[gs];return void 0!==t&&t instanceof fs}(s)?s[gs]:void 0;var s;t&&t.subscribe(((t,s)=>this._modelScope.emit(e,t,s)))})),this._viewScope=A.for({this:this});const h=this._viewScope.getInnerScope("this");e.inputs.forEach((e=>{h.subscribe(e.viewAttribute,((t,s)=>{t!==s&&this._modelScope.set(e.modelProperty,t)})),this._modelScope.subscribe(e.modelProperty,((t,s)=>{t!==s&&h.emit(e.viewAttribute,t,s)}))})),e.outputs.forEach((e=>a[e.modelProperty].subscribe((t=>{const s=new CustomEvent(e.viewAttribute,{detail:t,cancelable:!1,bubbles:e.options?.bubbles,composed:e.options?.bubbles});this.dispatchEvent(s)})))),this._componentRef.view&&Reflect.set(this._model,this._componentRef.view,this),this._render=new Ks(this,this.subscriptions),this.attributes.length>0&&Array.prototype.slice.call(this.attributes).forEach((e=>this.initOuterAttribute(e))),"shadow-slot"===this._componentRef.encapsulation&&this.initView()}detectChanges(){this._modelScope.detectChanges()}doBlockCallback=()=>{Ns(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy())};getComponentRef(){return this._componentRef}hasInputStartWith(e){let t=e.indexOf(".");return t>0&&(e=e.substring(0,t)),this.hasInput(e)}getInputStartWith(e){let t=e.indexOf(".");return t>0&&(e=e.substring(0,t)),t=e.indexOf("["),t>0&&(e=e.substring(0,t)),this.getInput(e)}hasInput(e){return this._componentRef.inputs.some((t=>t.viewAttribute===e))}getInput(e){return this._componentRef.inputs.find((t=>t.viewAttribute===e))}getInputValue(e){const t=this.getInput(e);if(t)return this._model[t.modelProperty]}setInputValue(e,t){const s=this.getInput(e);s&&this._modelScope.set(s.modelProperty,t)}hasOutput(e){return this._componentRef.outputs.some((t=>t.viewAttribute===e))}getOutput(e){return this._componentRef.outputs.find((t=>t.viewAttribute===e))}getEventEmitter(e){const t=this.getOutput(e);if(t)return this._model[t.modelProperty]}hasProp(e){return Reflect.has(this._model,e)}setAttributeHelper(e,t){null==t?this.removeAttribute(e):"boolean"==typeof t?t?super.setAttribute(e,""):this.removeAttribute(e):super.setAttribute(e,t)}setAttribute(e,t){this.setInputValue(e,t),this.setAttributeHelper(e,t)}getAttribute(e){return this.getInputValue(e)??super.getAttribute(e)}attributeChangedCallback(e,t,s){s!==t&&(Ts(this._model)&&this._zone.run(this._model.onChanges,this._modelScope.getContextProxy()),this.doBlockCallback())}initView(){this._render.initView(),this._render.initViewBinding(),this.needRendering=!1}connectedCallback(){this.subscriptions.length&&this.subscriptions.forEach((e=>e.unsubscribe())),this.subscriptions.splice(0,this.subscriptions.length);const e=this._zone.onEmpty.subscribe((()=>this._modelScope.detectChanges()));this.onDestroy((()=>e.unsubscribe())),this._componentRef.inputs.forEach((e=>{const t=this._model[e.modelProperty];null!=t&&this.setAttributeHelper(e.viewAttribute,t)})),Ts(this._model)&&this._zone.run(this._model.onChanges,this._modelScope.getContextProxy()),As(this._model)&&this._zone.run(this._model.onInit,this._modelScope.getContextProxy()),Ns(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy()),"afterContentInit"in this._model&&this._zone.run(this._model.afterContentInit,this._modelScope.getContextProxy()),vs(this._model)&&this._zone.run(this._model.afterContentChecked,this._modelScope.getContextProxy()),this.needRendering&&this.initView(),"afterViewInit"in this._model&&this._zone.run(this._model.afterViewInit,this._modelScope.getContextProxy()),ks(this._model)&&this._zone.run(this._model.afterViewChecked,this._modelScope.getContextProxy()),this.doBlockCallback=()=>{Ns(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy()),vs(this._model)&&this._zone.run(this._model.afterContentChecked,this._modelScope.getContextProxy()),ks(this._model)&&this._zone.run(this._model.afterViewChecked,this._modelScope.getContextProxy())};const t=new CustomEvent("connected",{cancelable:!0,bubbles:!1,composed:!1});this.dispatchEvent(t)}initOuterAttribute(e){let t=e.name,s=e.value;if(t.startsWith("["))t=t.substring(1,t.length-1),Reflect.has(window,s)&&this.setInputValue(t,Reflect.get(window,s));else if(t.startsWith("(")){t=t.substring(1,t.length-1),s=s.endsWith("()")?s.substring(0,s.length-2):s;let e=Reflect.get(window,s);this.addEventListener(t,(t=>{e(t)}))}else if(t.startsWith("on")){const e=this.getEventEmitter(t.substring(2));if(e){s=s.endsWith("()")?s.substring(0,s.length-2):s;let t=Reflect.get(window,s);e.subscribe((e=>{t(e)}))}}else this.setInputValue(e.name,e.value)}onDestroy(e){this.onDestroyCalls.push(e)}adoptedCallback(){this.innerHTML="",this.connectedCallback()}disconnectedCallback(){Cs(this._model)&&this._zone.run(this._model.onDestroy,this._modelScope.getContextProxy()),this.subscriptions.forEach((e=>e.unsubscribe())),this.subscriptions.splice(0,this.subscriptions.length),this.onDestroyCalls.forEach((e=>{try{e()}catch(e){console.error(e)}})),this.onDestroyCalls.splice(0,this.onDestroyCalls.length);const e=new CustomEvent("disconnected",{cancelable:!0,bubbles:!1,composed:!1});this.dispatchEvent(e)}triggerOutput(e,t){const s=this.getEventEmitter(e);s&&s.emit(t)}}}const mr=()=>{};class dr{el;constructor(e){this.el=e}get form(){return this.el.form}get labels(){return this.el.labels}get shadowRoot(){return this.el.shadowRoot}get willValidate(){return this.el.willValidate}setFormValue(e,t){this.el.value=e}}o.It.forEach((e=>{Object.defineProperty(dr.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.el[e]},set:function(t){return this.el[e]=t}})}));const fr=new WeakMap;s(643);var gr=s(8079);s(5459),s(5935);let yr=(()=>{let e,t,s=[B("OneWayAssignment")],r=[],n=R;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.left),t(e.right))}static visit(e,t){t(e.left),t(e.right)}rightEvents=this.right.events();constructor(e,t){super("=:",e,t)}set(e,t){return this.left.set(e,t)}get(e){const t=this.right.get(e);return this.set(e,t),t}subscribe(e,t){const s=[];if(t?.length){const r=E.blockScope(),n=Ls.blockScope();let i=!1,a=!1;t.forEach((t=>{const o=e.findScope(t),c=o.get(t);o instanceof Rs?(i=!0,n.set(t,c),Cs(c.prototype)&&s.push(zs((()=>n.unsubscribe(t))))):o instanceof Ps&&(a=!0,r.set(t,c))})),a&&e.pushScope(r),i&&e.pushScope(n)}const r=ps(this.rightEvents,e),n=()=>this.get(e);return r.forEach((e=>{const t=e[1].subscribe(e[0],n);s.push(t)})),s}};return i=t})(),Sr=(()=>{let e,t,s=[B("TwoWayAssignment")],r=[],n=R;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,S.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,S.Co)(t,r)}static fromJSON(e,t){return new i(t(e.left),t(e.right))}static visit(e,t){t(e.left),t(e.right)}rightEvents;leftEvents;constructor(e,t){super("=::",e,t),this.rightEvents=this.right.events(),this.leftEvents=this.left.events()}set(e,t){return this.setRTL(e,t)}get(e){return this.getRTL(e)}setRTL(e,t){return this.left.set(e,t)}getRTL(e){const t=this.right.get(e);return this.setRTL(e,t),t}actionRTL(e){return()=>this.getRTL(e)}setLTR(e,t){return this.right.set(e,t)}getLTR(e){const t=this.left.get(e);return this.setLTR(e,t),t}actionLTR(e){return()=>this.getLTR(e)}subscribeToEvents(e,t,s){const r=[];return t.forEach((e=>{const t=e[1].subscribe(e[0],s);r.push(t)})),r}subscribe(e){const t=ps(this.rightEvents,e),s=this.actionRTL(e),r=this.subscribeToEvents(e,t,s),n=ps(this.leftEvents,e),i=this.actionLTR(e),a=this.subscribeToEvents(e,n,i);return r.concat(a)}};return i=t})();class br{static LET=new Se(ye.LET,[-1,-1]);static COMMA=new Se(ye.COMMA,[-1,-1]);static ASSIGN=new Se(ye.ASSIGN,[-1,-1]);static IMPLICIT=new Se(ye.IDENTIFIER,[-1,-1],new H("$implicit"));static EOS=new Se(ye.EOS,[-1,-1])}class Er{directiveName;stream;static parse(e,t){const s=Qe.getTokenStream(t),r=new Er(e,s);try{r.scan()}catch(e){console.error("error parsing template expression",t,r,e)}return r.getDirectiveExpressionType()}templateExpressions=new Array;directiveInputs=new Map;constructor(e,t){this.directiveName=e,this.stream=t}getDirectiveExpressionType(){return{templateExpressions:this.templateExpressions,directiveInputs:this.directiveInputs}}scan(){if(this.isDeclareKeyword()?this.parseTemplateInput():this.parseExpression(this.directiveName),!this.stream.peek().isType(ye.EOS))for(this.consumeSemicolonOrComma();this.stream.peek().isNotType(ye.EOS);)this.parseTemplateInput()||this.parseDirectiveAndTemplateInputs(),this.consumeSemicolonOrComma()}consume(e){if(this.stream.next().isNotType(e))throw new Error(this.stream.createError(`Parsing ${JSON.stringify(e)}`))}check(e){return!!this.stream.peek().isType(e)&&(this.stream.next(),!0)}consumeToList(e,t){const s=this.stream.next();if(s.isNotType(e))throw new Error(this.stream.createError(`Parsing ${JSON.stringify(e)}`));t.push(s)}consumeIfToken(e,t){const s=this.stream.peek();return!s.isNotType(e)&&(t.push(s),this.stream.next(),!0)}isDeclareKeyword(){const e=this.stream.peek();return e.isType(ye.LET)||e.isType(ye.CONST)||e.isType(ye.VAR)}isIdentifier(){return this.stream.peek().isType(ye.IDENTIFIER)}isAsKeyword(){const e=this.stream.peek();return e.isType(ye.IDENTIFIER)&&"as"==e.getValue().getName()}consumeAsKeyword(){this.consume(ye.IDENTIFIER)}isSemicolon(){return this.stream.peek().isType(ye.SEMICOLON)}isComma(){return this.stream.peek().isType(ye.COMMA)}consumeSemicolonOrComma(){let e=this.stream.peek();(e.isType(ye.SEMICOLON)||e.isType(ye.COMMA))&&this.stream.next()}parseTemplateInput(){if(this.isDeclareKeyword()){let e=this.stream.peek();const t=[e];if(this.consume(e.token),e=this.stream.peek(),ye.isOpenPair(e.token)&&e.isNotType(ye.LPAREN))this.stream.readTill(ye.closeOf(e.token),t);else{if(!e.isType(ye.IDENTIFIER))throw new Error(this.stream.createError("Can't parse let/const/var {IDENTIFIER/ObjectPattern}"));this.consumeToList(ye.IDENTIFIER,t)}return this.consumeIfToken(ye.ASSIGN,t)?this.stream.readTokensConsiderPair(t,ye.SEMICOLON,ye.COMMA,ye.LET,ye.CONST,ye.VAR,ye.EOS):t.push(br.ASSIGN,br.IMPLICIT),this.templateExpressions.push(t),!0}return!1}parseExpression(e){const t=[];this.stream.readTokensConsiderPair(t,ye.SEMICOLON,ye.COMMA,ye.LET,ye.EOS),this.directiveInputs.set(e,t.map(this.mapTokenToString).join(" "))}parseDirectiveAndTemplateInputs(){if(this.stream.peek().isType(ye.EOS))return;let e;if(this.isIdentifier())e=this.stream.next();else{e=this.stream.next();const t=e.token.getName();e=new Se(ye.IDENTIFIER,[-1,-1],new H(t))}if(this.isAsKeyword()){this.consumeAsKeyword();const t=this.stream.next(),s=[];return s.push(t,br.ASSIGN,e,br.EOS),void this.templateExpressions.push(s)}this.check(ye.ASSIGN)||this.check(ye.COLON);const t=[];if(this.stream.readTokensConsiderPair(t,ye.SEMICOLON,ye.COMMA,ye.LET,ye.CONST,ye.VAR,ye.EOS),this.isAsKeyword()){this.consumeAsKeyword();const t=this.stream.next(),s=[];s.push(br.LET,t,br.ASSIGN,e,br.EOS),this.templateExpressions.push(s)}const s=e.getValue().getName();this.directiveInputs.set(s,t.map(this.mapTokenToString).join(" "))}mapTokenToString(e){return e.value?e.value.toString():e.token.getName()}}const wr=as.parseScript("this.textContent");function xr(e){const t=Array.isArray(e)?e:e.split("-");return 1===t.length?e:t[0]+t.splice(1).map((e=>e[0].toUpperCase()+e.substring(1))).join("")}function Tr(e){return(Array.isArray(e)?e:e.split(".")).flatMap((e=>function(e){return e.includes("-")?["['",e,"']"]:Number.isInteger(e.at(0))?["[",e,"]"]:[".",e]}(e))).join("")}function Ar(e){return e.startsWith("{")?`(${e})`:e}function Nr(e){const t=`this${Tr(e.name)}`,s=as.parseScript(t),r=as.parseScript(Ar(e.value));s instanceof te&&(r instanceof te||r instanceof H)?e.expression=new Sr(s,r):console.error(`${e.name}="${e.value}"" is not a valid MemberExpression or Identifier 'x.y.z'`)}function vr(e){const t=[];return xs.visit(e,((e,s,r)=>{if("PipelineExpression"===s){const s=e.getRight();s instanceof H&&t.push(s.getName())}})),t.length?t:void 0}function kr(e){const t=e.name.startsWith("data-")?`this.dataset.${xr(e.name.substring(5))}`:`this${Tr(e.name)}`,s=as.parseScript(t),r=as.parseScript(Ar(e.value));s instanceof te?e.expression=new yr(s,r):console.error(`${e.name} is not a valid MemberExpression 'x.y.z'`),e.pipelineNames=vr(r)}function Cr(e){e.expression=as.parseScript(e.value)}function Ir(e){e.inputs?.forEach(kr),e.outputs?.forEach(Cr),e.twoWayBinding?.forEach(Nr),e.templateAttrs?.forEach(kr)}function Or(e){e.inputs?.forEach(kr),e.outputs?.forEach(Cr),e.twoWayBinding?.forEach(Nr),e.templateAttrs?.forEach(kr),e.attributeDirectives?.forEach(Ir)}function Pr(e){if(e instanceof gr.V8)Or(e),Lr(e);else if(e instanceof gr.tS){let t=[];if(e.templateExpressions=t,e.value){const s=Er.parse(e.name.substring(1),e.value);if(t.push(...s.templateExpressions.map((e=>as.parseScript(e)))),Rr(e,t),s.directiveInputs.size>0){const t=f.getDirectiveRef(e.name);if(!t?.inputs?.length)return;e.inputs??=[],s.directiveInputs.forEach(((s,r)=>{const n=t?.inputs.find((e=>e.viewAttribute===r))?.modelProperty??r,i=(0,gr.rC)(n,s);(e.inputs??=[]).push(i)}))}}else Rr(e,t);Pr(e.node),Or(e)}else(0,gr.z$)(e)?function(e){const t=as.parseScript(e.value);e.expression=new yr(wr,t),e.pipelineNames=vr(t)}(e):e instanceof gr.WS&&Lr(e)}function Rr(e,t){const s=e.attributes?.filter((e=>e.name.startsWith("let-")));s?.forEach((s=>{e.attributes.splice(e.attributes.indexOf(s),1);const r=`let ${xr(s.name.split("-").slice(1))} = ${"string"==typeof s.value?s.value:"$implicit"}`;t.push(as.parseScript(r))}))}function Lr(e){e.children?.forEach(Pr)}function Mr(e){e instanceof gr.WS?Lr(e):Pr(e)}function Fr(e){e.expression&&(e.expression=j(e.expression))}function Dr(e){e.expression&&(e.expression=j(e.expression),e.pipelineNames=vr(e.expression.getRight()))}function _r(e){e.expression&&(e.expression=j(e.expression))}function Br(e){e.inputs?.forEach(Dr),e.outputs?.forEach(_r),e.twoWayBinding?.forEach(Fr),e.templateAttrs?.forEach(Dr)}function jr(e){e.inputs?.forEach(Dr),e.outputs?.forEach(_r),e.twoWayBinding?.forEach(Fr),e.templateAttrs?.forEach(Dr),e.attributeDirectives?.forEach(Br)}function Hr(e){var t;e instanceof o.V8?(jr(e),Vr(e)):e instanceof o.tS?(e.templateExpressions=e.templateExpressions.map(j),Hr(e.node),jr(e)):(0,o.z$)(e)?(t=e).expression&&(t.expression=j(t.expression),t.pipelineNames=vr(t.expression.getRight())):e instanceof o.WS&&Vr(e)}function Vr(e){e.children?.forEach(Hr)}const Gr={mode:"open",delegatesFocus:!1,slotAssignment:"named"};class $r{static EMPTY_LIST=Object.freeze([]);static emptyList(){return $r.EMPTY_LIST}static patchTemplate(e,t){if(e instanceof o.V8&&e.templateRefName?.name){const s=t.find((t=>e.templateRefName?.name===t.templateRefName?.name));s?.outputs&&(e.outputs??=[]).push(...s.outputs)}e instanceof o.pm&&e.children?.forEach((e=>$r.patchTemplate(e,t)))}static createOutputs(e){return e?.map((e=>`(${e.eventName})="${e.modelCallbackName}(${e.args.join(", ")})"`)).join(" ")??""}static parseHostNode(e){const t=e.hostBindings?.map((t=>{const s=Object.getOwnPropertyDescriptor(e.prototype,t.modelPropertyName);return"function"==typeof s?.value?`[${t.hostPropertyName}]="${t.modelPropertyName}()"`:`[${t.hostPropertyName}]="${t.modelPropertyName}"`})).join(" ")??"",s=[],r=[],n={};e.hostListeners?.forEach((e=>{const[t,i]=e.eventName.split(":",2);void 0===i?s.push(e):"window"===t.toLowerCase()?r.push(new p(i,e.args,e.modelCallbackName)):(n[t]??=[]).push(new p(i,e.args,e.modelCallbackName))}));const i={};if(s.length){const r=$r.createOutputs(s),n=e.selector??"div",a=`<${n} ${t} ${r}></${n}>`;i.host=o.gb.toDomRootNode(a),Mr(i.host)}if(r.length){const e=`<window ${$r.createOutputs(r)}></window>`;i.window=o.gb.toDomRootNode(e),Mr(i.window)}const a=Object.keys(n);if(a.length){const e=a.map((e=>`<template #${e} ${$r.createOutputs(n[e])}></template>`)).join(""),t=o.gb.toDomRootNode(e);Mr(t),i.template=t instanceof o.WS?t.children?.filter((e=>e instanceof o.V8))??[]:[t]}return i}static defineDirective(e,t,s){if(Object.assign(s,t),s.hostListeners?.length||s.hostBindings?.length){const t=$r.parseHostNode({prototype:e.prototype,hostBindings:s.hostBindings,hostListeners:s.hostListeners});s.viewBindings=t.host}s.modelClass=e,f.registerDirective(e),o.y$.register(t.selector,{inputs:s.inputs?.map((e=>e.viewAttribute)),outputs:s.outputs?.map((e=>e.viewAttribute))})}static definePipe(e,t,s){Object.assign(s,t),s.modelClass=e,f.registerPipe(e)}static defineService(e,t,s){Object.assign(s,t),s.modelClass=e,s.name=e.name,f.registerService(e)}static defineComponent(e,t,s){const r=Object.assign(s,t);if(r.extend=(0,o.ZZ)(t.extend),r.extendCustomElement=!!t.extend&&(0,o.rH)(t.extend),"string"==typeof r.template){if(r.styles){const e=`<style>${r.styles}</style>${r.template}`;r.template=o.gb.toDomRootNode(e)}else r.template=o.gb.toDomRootNode(r.template);Mr(r.template)}else"object"==typeof r.template?Mr(r.template):"object"==typeof r.compiledTemplate&&(o.gb.deserializeNode(r.compiledTemplate),(n=r.compiledTemplate)instanceof o.WS?Vr(n):Hr(n),r.template=r.compiledTemplate,r.compiledTemplate=void 0);var n;if(!r.template&&/template/g.test(r.encapsulation)){const e=document.querySelector("#"+r.selector);e&&e instanceof HTMLTemplateElement&&(r.template=o.$h.parse(e),Mr(r.template))}if(r.inputs||=$r.emptyList(),r.outputs||=$r.emptyList(),r.viewChild||=$r.emptyList(),r.ViewChildren||=$r.emptyList(),r.hostBindings||=$r.emptyList(),r.hostListeners||=$r.emptyList(),r.encapsulation||="custom",r.isShadowDom=/shadow/g.test(r.encapsulation),r.isShadowDom&&(r.shadowRootInit=Object.assign({},Gr,r.shadowRootInit??{})),r.hostListeners.length||r.hostBindings.length){const t=$r.parseHostNode({prototype:e.prototype,selector:r.selector,hostBindings:r.hostBindings,hostListeners:r.hostListeners});if(r.viewBindings=t.host,r.windowBindings=t.window,"function"==typeof r.template){const e=r.template;r.template=s=>{const r=e(s);return t.template&&$r.patchTemplate(r,t.template),r}}else t.template&&$r.patchTemplate(r.template,t.template)}!0!==r.formAssociated&&"function"!=typeof r.formAssociated&&(r.formAssociated=!1),r.isShadowDom&&r.extend.name&&(r.isShadowDom=(0,o.ZP)(r.extend.name)),r.modelClass=e,r.viewClass=function(e,t){var s;const r=t.extend.classRef;let n;const i=`HTML${t.selector.split("-").map((e=>e.replace(/^\w/,(e=>e.toUpperCase())))).join("")}Element`;let c;t.extendCustomElement?c=t.extend.classRef:fr.has(r)?c=fr.get(r):(c=t.formAssociated?function(e){const t=pr(e);return class extends t{static formAssociated=!0;value;_internals;_form;_valueControl;constructor(e,t){let s;if(super(e,t),e.extend.name&&(0,o.J2)(e.extend.name)?this._internals=new dr(this):this._internals=this.attachInternals(),"function"==typeof e.formAssociated)if(this._model instanceof e.formAssociated)this._model;else{const t=[this];s=new e.formAssociated(t)}else!0===e.formAssociated&&(r=this._model)&&"object"==typeof r&&"function"==typeof r.writeValue&&"function"==typeof r.registerOnChange&&(s=this._model);var r;s&&this.registerValueControl(s);const n=e.inputs.filter((e=>"value"===e.viewAttribute)).at(0);n&&this._modelScope.subscribe(n.modelProperty,((e,t)=>{e!==t&&this.onValueControlChange(e)}))}get internals(){return this._internals}get form(){return this._form}get valueControl(){return this._valueControl}registerValueControl(e){this.valueControl&&this.valueControl.registerOnChange(mr),this._valueControl=e,this._valueControl?.registerOnChange((e=>this.onValueControlChange(e)))}onValueControlChange(e){this._internals.setFormValue(e),this.value=e,this.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0,composed:!0}))}formAssociatedCallback(e){this._form=e}formDisabledCallback(e){this._valueControl?.setDisabledState?.(e)}formResetCallback(){this._valueControl?.writeValue({mode:"reset"})}formStateRestoreCallback(e,t){this._valueControl?.writeValue({value:e,mode:t})}}}(r):pr(r),fr.set(r,c)),n={[s=(0,S.Yc)(i)]:(()=>{let r,n,i=[a()],o=[],h=c;return class extends h{static{n=this}static{(0,S.Ho)(n,s)}static{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;(0,S.xE)(null,r={value:n},i,{kind:"class",name:n.name,metadata:e},null,o),n=r.value,e&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e}),(0,S.Co)(n,o)}constructor(s,r){super(s??t,r??e)}},n})()}[i],t.inputs.forEach((e=>{Object.defineProperty(n.prototype,e.viewAttribute,{get(){return this._modelScope.get(e.modelProperty)},set(t){this._modelScope.set(e.modelProperty,t)},enumerable:!0})})),t.outputs.forEach((e=>{let t,s;Object.defineProperty(n.prototype,e.viewAttribute,{get(){return this._model[e.modelProperty]},enumerable:!0}),Object.defineProperty(n.prototype,"on"+b(e.viewAttribute),{get:()=>t,set(r){r||s&&(s.unsubscribe(),t=void 0),"string"==typeof r&&(r.endsWith("()")&&(r=r.substring(0,r.length-2)),r=Reflect.get(window,r)),t=r,s=this._model[e.modelProperty].subscribe(r)},enumerable:!0})})),t.inputs.map((e=>e.modelProperty)).concat(t.outputs.map((e=>e.modelProperty))).concat(t.hostBindings.map((e=>e.hostPropertyName))).concat(t.viewChild.map((e=>e.modelName))).filter((t=>!(t in e.prototype))).forEach((t=>e.prototype[t]=void 0));const h=(0,o.GD)(t.extend.name),l=t.inputs.map((e=>e.viewAttribute)).concat(t.outputs.map((e=>"on"+b(e.viewAttribute))));return t.formAssociated&&!l.includes("value")&&l.push("value"),Reflect.set(n,"observedAttributes",l),Reflect.set(n,"allAttributes",h.concat(l)),function(e,t,s,r){Object.defineProperty(e,r,{value:s}),Js(e)||Reflect.set(e,"component",{}),Js(e)&&(e.component[t]=r)}(e,t.selector,n,i),Reflect.has(window,i)||Reflect.set(window,i,n),n}(e,r),f.registerComponent(e),f.registerView(r.viewClass);const i={},c=r.extend?.name;c&&"!"!==c&&-1===c.indexOf("-")&&(i.extends=c),customElements.define(r.selector,r.viewClass,i)}static defineView(e,t){f.registerView(e);const{selector:s,...r}=t;customElements.define(s,e,r)}}async function Jr(e){return fetch(e,{cache:"force-cache"}).then((t=>{if(!t.ok)throw new Error(`fetch ${e}, ${t}`);return t.text()}))}function Ur(e){return e.match(/^https?:\/\//g)?Jr(e):Jr(window.location.href+e)}function Wr(e,t,s){t.templateUrl?function(e){if("string"==typeof e)return Ur(e);if("object"==typeof e&&e.meta)return function(e){var t,s;return Jr((t=e.meta?.url,(s=e.filename)?t.substring(0,t.lastIndexOf("/")+1)+s:t.replace(".js",".html")))}(e);if("object"==typeof e&&e.filename)return Ur(e.filename);throw new Error("no url provided")}(t.templateUrl).then((r=>{r&&(t.template=r,$r.defineComponent(e,t,s))})).catch((s=>{console.error(`Error @URL: ${t.templateUrl}, for model Class: ${e.name},\n Reason: ${s}.`)})):$r.defineComponent(e,t,s)}i(((e,t,s,r)=>{$r.definePipe(t,e,r)})),i(((e,t,s,r)=>{$r.defineDirective(t,e,r)})),i(((e,t,s,r)=>{if(Array.isArray(e))for(const s of e)Wr(t,s,r);else"object"==typeof e&&Wr(t,e,r)})),i(((e,t,s)=>{$r.defineView(t,e)}))},8079:(e,t,s)=>{s.d(t,{D7:()=>o,JF:()=>n,Rg:()=>i,V8:()=>f,WS:()=>d,YI:()=>y,ah:()=>r,eK:()=>l,kS:()=>c,kz:()=>p,pm:()=>m,rC:()=>a,tS:()=>g,z$:()=>h});class r{name;value;constructor(e,t){this.name=e,this.value=t}toJSON(){return Object.assign({},this,{type:"Attribute"})}}class n extends r{toJSON(){return Object.assign({},this,{type:"ElementAttribute"})}}class i extends r{toJSON(){return Object.assign({},this,{type:"LiveAttribute"})}}function a(e,t){return new i(e,t)}class o extends r{static propName="textContent";constructor(e){super(o.propName,e)}toJSON(){return Object.assign({},this,{type:"TextContent"})}}class c extends o{toJSON(){return Object.assign({},this,{type:"LiveTextContent"})}}function h(e){return e instanceof c}class l{comment;constructor(e){this.comment=e}toJSON(){return Object.assign({},this,{type:"CommentNode"})}}class u{attributes;inputs;outputs;twoWayBinding;templateAttrs;attributeDirectives;addAttribute(e,t){this.attributes?this.attributes.push(new n(e,t??!0)):this.attributes=[new n(e,t??!0)]}addInput(e,t){this.inputs?this.inputs.push(new i(e,t)):this.inputs=[new i(e,t)]}addOutput(e,t){this.outputs?this.outputs.push(new i(e,t)):this.outputs=[new i(e,t)]}addTwoWayBinding(e,t){this.twoWayBinding?this.twoWayBinding.push(new i(e,t)):this.twoWayBinding=[new i(e,t)]}addTemplateAttr(e,t){if(t=t.trim(),/^\{\{(.+)\}\}$/g.test(t)){const s=t.substring(2,t.length-2);if(!/\{\{(.+)\}\}/g.test(s))return void this.addInput(e,s)}t="`"+y(t).map((e=>e instanceof c?"${"+e.value+"}":e.value)).join("")+"`",this.templateAttrs?this.templateAttrs.push(new i(e,t)):this.templateAttrs=[new i(e,t)]}toJSON(){return Object.assign({},this,{type:"BaseNode"})}}class p extends u{name;constructor(e){super(),this.name=e}toJSON(){return Object.assign({},this,{type:"DomAttributeDirectiveNode"})}}class m extends u{children;addChild(e){this.children?this.children.push(e):this.children=[e]}addTextChild(e){const t=this.children??=[];y(e).forEach((e=>t.push(e)))}toJSON(){return Object.assign({},this,{type:"DomParentNode"})}}class d extends m{constructor(e){super(),e&&(this.children=e)}toJSON(){return Object.assign({},this,{type:"DomFragmentNode"})}}class f extends m{tagName;is;templateRefName;constructor(e,t){super(),this.tagName=e,t&&(this.is=t)}setTagName(e){this.tagName=e}setTemplateRefName(e,t){this.templateRefName=new r(e,t)}toJSON(){return Object.assign({},this,{type:"DomElementNode"})}}class g extends u{name;value;node;constructor(e,t,s){super(),this.name=e,this.node=t,this.value=s}toJSON(){return Object.assign({},this,{type:"DomStructuralDirectiveNode"})}}function y(e){let t,s=[],r=e,n=r.lastIndexOf("}}");for(;n>-1&&(t=e.lastIndexOf("{{",n),t>-1);){let e=r.substring(n+2);e&&s.push(new o(e));const i=new c(r.substring(t+2,n));s.push(i),r=r.substring(0,t),n=r.lastIndexOf("}}")}return r&&s.push(new o(r)),s.reverse()}},643:(e,t,s)=>{s.d(t,{V2:()=>n,rH:()=>a});const r=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function n(e){return r.includes(e)}const i=/^[a-z](?:[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-(?:[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;function a(e){return i.test(e)}},5935:(e,t,s)=>{s.d(t,{y:()=>n});class r{inputs;outputs;constructor(e,t){this.inputs=e,this.outputs=t}hasAttributes(){return this.hasInputs()||this.hasOutputs()}hasInputs(){return(this.inputs?.length??0)>0}hasOutputs(){return(this.outputs?.length??0)>0}getAttributes(){return this.inputs&&this.outputs?this.inputs.concat(this.outputs):this.inputs?this.inputs:this.outputs?this.outputs:void 0}getInputs(){return this.inputs}getOutputs(){return this.outputs}hasAttribute(e){return this.hasInput(e)||this.hasOutput(e)}hasInput(e){return this.inputs?.includes(e)||!1}hasOutput(e){return this.outputs?.includes(e)||!1}}const n=new class{directives=new Map;register(e,t){if(!this.directives.has(e)){const s=new r(t?.inputs,t?.outputs);this.directives.set(e,s)}}replace(e,t){if(this.directives.has(e)){const s=new r(t?.inputs,t?.outputs);this.directives.set(e,s)}}has(e){return this.directives.has(e)}get(e){return this.directives.get(e)}hasAttributes(e){return this.hasInputs(e)||this.hasOutputs(e)}hasInputs(e){return this.directives.get(e)?.hasInputs()||!1}hasOutputs(e){return this.directives.get(e)?.hasOutputs()||!1}getAttributes(e){return this.directives.get(e)?.getAttributes()}getInputs(e){return this.directives.get(e)?.getInputs()}getOutputs(e){return this.directives.get(e)?.getOutputs()}hasAttribute(e,t){return this.directives.get(e)?.hasAttribute(t)||!1}hasInput(e,t){return this.directives.get(e)?.hasInput(t)||!1}hasOutput(e,t){return this.directives.get(e)?.hasOutput(t)||!1}filterDirectives(e){return e.filter((e=>this.has(e)))}}},867:(e,t,s)=>{s.d(t,{It:()=>T,eK:()=>S.eK,kz:()=>S.kz,V8:()=>S.V8,WS:()=>S.WS,pm:()=>S.pm,tS:()=>S.tS,Rg:()=>S.Rg,kS:()=>S.kS,Cl:()=>b.Cl,D7:()=>S.D7,ZP:()=>f,y$:()=>E.y,ZZ:()=>c,GD:()=>m,WY:()=>p,gb:()=>b.gb,rz:()=>g,J2:()=>y,z$:()=>S.z$,af:()=>h,rH:()=>r.rH,$h:()=>x});var r=s(643);const n=Object.freeze({classRef:HTMLElement}),i=[{name:"a",classRef:HTMLAnchorElement},{name:"abbr",classRef:HTMLElement},{name:"address",classRef:HTMLElement},{name:"area",classRef:HTMLAreaElement},{name:"article",classRef:HTMLElement},{name:"aside",classRef:HTMLElement},{name:"audio",classRef:HTMLAudioElement},{name:"b",classRef:HTMLElement},{name:"base",classRef:HTMLBaseElement},{name:"bdi",classRef:HTMLElement},{name:"bdo",classRef:HTMLElement},{name:"blockquote",classRef:HTMLQuoteElement},{name:"body",classRef:HTMLBodyElement},{name:"br",classRef:HTMLBRElement},{name:"button",classRef:HTMLButtonElement},{name:"canvas",classRef:HTMLCanvasElement},{name:"caption",classRef:HTMLTableCaptionElement},{name:"cite",classRef:HTMLElement},{name:"code",classRef:HTMLElement},{name:"col",classRef:HTMLTableColElement},{name:"colgroup",classRef:HTMLTableColElement},{name:"data",classRef:HTMLDataElement},{name:"datalist",classRef:HTMLDataListElement},{name:"dd",classRef:HTMLElement},{name:"del",classRef:HTMLModElement},{name:"details",classRef:HTMLDetailsElement},{name:"dfn",classRef:HTMLElement},{name:"div",classRef:HTMLDivElement},{name:"dl",classRef:HTMLDListElement},{name:"dt",classRef:HTMLElement},{name:"em",classRef:HTMLElement},{name:"embed",classRef:HTMLEmbedElement},{name:"fieldset",classRef:HTMLFieldSetElement},{name:"figcaption",classRef:HTMLElement},{name:"figure",classRef:HTMLElement},{name:"footer",classRef:HTMLElement},{name:"form",classRef:HTMLFormElement},{name:"h1",classRef:HTMLHeadingElement},{name:"h2",classRef:HTMLHeadingElement},{name:"h3",classRef:HTMLHeadingElement},{name:"h4",classRef:HTMLHeadingElement},{name:"h5",classRef:HTMLHeadingElement},{name:"h6",classRef:HTMLHeadingElement},{name:"head",classRef:HTMLHeadElement},{name:"header",classRef:HTMLElement},{name:"hgroup",classRef:HTMLElement},{name:"hr",classRef:HTMLHRElement},{name:"html",classRef:HTMLHtmlElement},{name:"i",classRef:HTMLElement},{name:"iframe",classRef:HTMLIFrameElement},{name:"img",classRef:HTMLImageElement},{name:"input",classRef:HTMLInputElement},{name:"ins",classRef:HTMLModElement},{name:"kbd",classRef:HTMLElement},{name:"label",classRef:HTMLLabelElement},{name:"legend",classRef:HTMLLegendElement},{name:"li",classRef:HTMLLIElement},{name:"link",classRef:HTMLLinkElement},{name:"main",classRef:HTMLElement},{name:"map",classRef:HTMLMapElement},{name:"mark",classRef:HTMLElement},{name:"menu",classRef:HTMLMenuElement},{name:"meta",classRef:HTMLMetaElement},{name:"meter",classRef:HTMLMeterElement},{name:"nav",classRef:HTMLElement},{name:"noscript",classRef:HTMLElement},{name:"object",classRef:HTMLObjectElement},{name:"ol",classRef:HTMLOListElement},{name:"optgroup",classRef:HTMLOptGroupElement},{name:"option",classRef:HTMLOptionElement},{name:"output",classRef:HTMLOutputElement},{name:"p",classRef:HTMLParagraphElement},{name:"param",classRef:HTMLParamElement},{name:"picture",classRef:HTMLPictureElement},{name:"pre",classRef:HTMLPreElement},{name:"progress",classRef:HTMLProgressElement},{name:"q",classRef:HTMLQuoteElement},{name:"rp",classRef:HTMLElement},{name:"rt",classRef:HTMLElement},{name:"ruby",classRef:HTMLElement},{name:"s",classRef:HTMLElement},{name:"samp",classRef:HTMLElement},{name:"script",classRef:HTMLScriptElement},{name:"section",classRef:HTMLElement},{name:"select",classRef:HTMLSelectElement},{name:"slot",classRef:HTMLSlotElement},{name:"small",classRef:HTMLElement},{name:"source",classRef:HTMLSourceElement},{name:"span",classRef:HTMLSpanElement},{name:"strong",classRef:HTMLElement},{name:"style",classRef:HTMLStyleElement},{name:"sub",classRef:HTMLElement},{name:"summary",classRef:HTMLElement},{name:"sup",classRef:HTMLElement},{name:"table",classRef:HTMLTableElement},{name:"tbody",classRef:HTMLTableSectionElement},{name:"td",classRef:HTMLTableCellElement},{name:"template",classRef:HTMLTemplateElement},{name:"textarea",classRef:HTMLTextAreaElement},{name:"tfoot",classRef:HTMLTableSectionElement},{name:"th",classRef:HTMLTableCellElement},{name:"thead",classRef:HTMLTableSectionElement},{name:"time",classRef:HTMLTimeElement},{name:"title",classRef:HTMLTitleElement},{name:"tr",classRef:HTMLTableRowElement},{name:"track",classRef:HTMLTrackElement},{name:"u",classRef:HTMLElement},{name:"ul",classRef:HTMLUListElement},{name:"var",classRef:HTMLElement},{name:"video",classRef:HTMLVideoElement},{name:"wbr",classRef:HTMLElement}],a={a:HTMLAnchorElement,abbr:HTMLElement,address:HTMLElement,area:HTMLAreaElement,article:HTMLElement,aside:HTMLElement,audio:HTMLAudioElement,b:HTMLElement,base:HTMLBaseElement,bdi:HTMLElement,bdo:HTMLElement,blockquote:HTMLQuoteElement,body:HTMLBodyElement,br:HTMLBRElement,button:HTMLButtonElement,canvas:HTMLCanvasElement,caption:HTMLTableCaptionElement,cite:HTMLElement,code:HTMLElement,col:HTMLTableColElement,colgroup:HTMLTableColElement,data:HTMLDataElement,datalist:HTMLDataListElement,dd:HTMLElement,del:HTMLModElement,details:HTMLDetailsElement,dfn:HTMLElement,div:HTMLDivElement,dl:HTMLDListElement,dt:HTMLElement,em:HTMLElement,embed:HTMLEmbedElement,fieldset:HTMLFieldSetElement,figcaption:HTMLElement,figure:HTMLElement,footer:HTMLElement,form:HTMLFormElement,h1:HTMLHeadingElement,h2:HTMLHeadingElement,h3:HTMLHeadingElement,h4:HTMLHeadingElement,h5:HTMLHeadingElement,h6:HTMLHeadingElement,head:HTMLHeadElement,header:HTMLElement,hgroup:HTMLElement,hr:HTMLHRElement,html:HTMLHtmlElement,i:HTMLElement,iframe:HTMLIFrameElement,img:HTMLImageElement,input:HTMLInputElement,ins:HTMLModElement,kbd:HTMLElement,label:HTMLLabelElement,legend:HTMLLegendElement,li:HTMLLIElement,link:HTMLLinkElement,main:HTMLElement,map:HTMLMapElement,mark:HTMLElement,menu:HTMLMenuElement,meta:HTMLMetaElement,meter:HTMLMeterElement,nav:HTMLElement,noscript:HTMLElement,object:HTMLObjectElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,option:HTMLOptionElement,output:HTMLOutputElement,p:HTMLParagraphElement,param:HTMLParamElement,picture:HTMLPictureElement,pre:HTMLPreElement,progress:HTMLProgressElement,q:HTMLQuoteElement,rp:HTMLElement,rt:HTMLElement,ruby:HTMLElement,s:HTMLElement,samp:HTMLElement,script:HTMLScriptElement,section:HTMLElement,select:HTMLSelectElement,slot:HTMLSlotElement,small:HTMLElement,source:HTMLSourceElement,span:HTMLSpanElement,strong:HTMLElement,style:HTMLStyleElement,sub:HTMLElement,summary:HTMLElement,sup:HTMLElement,table:HTMLTableElement,tbody:HTMLTableSectionElement,td:HTMLTableCellElement,template:HTMLTemplateElement,textarea:HTMLTextAreaElement,tfoot:HTMLTableSectionElement,th:HTMLTableCellElement,thead:HTMLTableSectionElement,time:HTMLTimeElement,title:HTMLTitleElement,tr:HTMLTableRowElement,track:HTMLTrackElement,u:HTMLElement,ul:HTMLUListElement,var:HTMLElement,video:HTMLVideoElement,wbr:HTMLElement},o={a:SVGAElement,animate:SVGAnimateElement,animateMotion:SVGAnimateMotionElement,animateTransform:SVGAnimateTransformElement,circle:SVGCircleElement,clipPath:SVGClipPathElement,defs:SVGDefsElement,desc:SVGDescElement,ellipse:SVGEllipseElement,feBlend:SVGFEBlendElement,feColorMatrix:SVGFEColorMatrixElement,feComponentTransfer:SVGFEComponentTransferElement,feComposite:SVGFECompositeElement,feConvolveMatrix:SVGFEConvolveMatrixElement,feDiffuseLighting:SVGFEDiffuseLightingElement,feDisplacementMap:SVGFEDisplacementMapElement,feDistantLight:SVGFEDistantLightElement,feDropShadow:SVGFEDropShadowElement,feFlood:SVGFEFloodElement,feFuncA:SVGFEFuncAElement,feFuncB:SVGFEFuncBElement,feFuncG:SVGFEFuncGElement,feFuncR:SVGFEFuncRElement,feGaussianBlur:SVGFEGaussianBlurElement,feImage:SVGFEImageElement,feMerge:SVGFEMergeElement,feMergeNode:SVGFEMergeNodeElement,feMorphology:SVGFEMorphologyElement,feOffset:SVGFEOffsetElement,fePointLight:SVGFEPointLightElement,feSpecularLighting:SVGFESpecularLightingElement,feSpotLight:SVGFESpotLightElement,feTile:SVGFETileElement,feTurbulence:SVGFETurbulenceElement,filter:SVGFilterElement,foreignObject:SVGForeignObjectElement,g:SVGGElement,image:SVGImageElement,line:SVGLineElement,linearGradient:SVGLinearGradientElement,marker:SVGMarkerElement,mask:SVGMaskElement,metadata:SVGMetadataElement,mpath:SVGMPathElement,path:SVGPathElement,pattern:SVGPatternElement,polygon:SVGPolygonElement,polyline:SVGPolylineElement,radialGradient:SVGRadialGradientElement,rect:SVGRectElement,script:SVGScriptElement,set:SVGSetElement,stop:SVGStopElement,style:SVGStyleElement,svg:SVGSVGElement,switch:SVGSwitchElement,symbol:SVGSymbolElement,text:SVGTextElement,textPath:SVGTextPathElement,title:SVGTitleElement,tspan:SVGTSpanElement,use:SVGUseElement,view:SVGViewElement};function c(e){if(!e||""===e||"none"===e||"child"===e)return n;if((0,r.rH)(e)){const t=customElements.get(e);if(t)return{classRef:t};throw new Error("Custom Element is not defined yet")}for(const t of i)if(t.name===e)return t;return n}function h(e){return e in a||e in o}const l=["class","id","slot","accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","spellcheck","style","tabindex","title","translate"],u={a:[...l,"href","target","download","ping","rel","hreflang","type","referrerpolicy"],abbr:l,address:l,area:[...l,"alt","coords","shape","href","target","download","ping","rel","referrerpolicy"],article:l,aside:l,audio:[...l,"src","crossorigin","preload","autoplay","loop","muted","controls"],b:l,base:[...l,"href","targetreferrerpolicy"],bdi:l,bdo:l,blockquote:[...l,"cite"],body:[...l,"onafterprint; onbeforeprint; onbeforeunload; onhashchange; onlanguagechange; onmessage; onmessageerror; onoffline; ononline; onpagehide; onpageshow; onpopstate; onrejectionhandled; onstorage; onunhandledrejection; onunload"],br:l,button:[...l,"disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"],canvas:[...l,"width","height"],caption:l,cite:l,code:l,col:[...l,"span"],colgroup:[...l,"span"],data:[...l,"value"],datalist:l,dd:l,del:[...l,"cite","datetime"],details:[...l,"open"],dfn:l,dialog:[...l,"open"],div:l,dl:l,dt:l,em:l,embed:[...l,"src","type","width","height","any*"],fieldset:[...l,"disabled","form","name"],figcaption:l,figure:l,footer:l,form:[...l,"accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],h1:l,h2:l,h3:l,h4:l,h5:l,h6:l,head:l,header:l,hgroup:l,hr:l,html:[...l,"manifest"],i:l,iframe:[...l,"src","srcdoc","name","sandbox","allow","allowfullscreen","allowpaymentrequest","width","height","referrerpolicy","loading"],img:[...l,"alt","src","srcset","sizes","crossorigin","usemap","ismap","width","height","referrerpolicy","decoding","loading"],input:[...l,"accept","alt","autocomplete","checked","dirname","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","size","src","step","type","value","width"],ins:[...l,"cite","datetime"],kbd:l,label:[...l,"for"],legend:l,li:[...l,"value"],link:[...l,"href","crossorigin","rel","as","media","hreflang","type","sizes","imagesrcset","imagesizes","referrerpolicy","integrity","color","disabled"],main:l,map:[...l,"name"],mark:l,menu:l,meta:[...l,"name","http-equiv","content","charset"],meter:[...l,"value","min","max","low","high","optimum"],nav:l,noscript:l,object:[...l,"data","type","name","usemap","form","width","height"],ol:[...l,"reversed","start","type"],optgroup:[...l,"disabled","label"],option:[...l,"disabled","label","selected","value"],output:[...l,"for","form","name"],p:l,param:[...l,"name","value"],picture:l,pre:l,progress:[...l,"value","max"],q:[...l,"cite"],rp:l,rt:l,ruby:l,s:l,samp:l,script:[...l,"src","type","async","defer","crossorigin","integrity","referrerpolicy"],section:l,select:[...l,"autocomplete","disabled","form","multiple","name","required","size"],slot:[...l,"name"],small:l,source:[...l,"src","type","srcset","sizes","media"],span:l,strong:l,style:[...l,"media"],sub:l,summary:l,sup:l,table:l,tbody:l,td:[...l,"colspan","rowspan","headers"],template:l,textarea:[...l,"cols","dirname","disabled","form","maxlength","minlength","name","placeholder","readonly","required","rows","wrap"],tfoot:l,th:[...l,"colspan","rowspan","headers","scope","abbr"],thead:l,time:[...l,"datetime"],title:l,tr:l,track:[...l,"default","kind","label","src","srclang"],u:l,ul:l,var:l,video:[...l,"src","crossorigin","poster","preload","autoplay","playsinline","loop","muted","controls","width","height"],wbr:l};function p(e,t){if("string"==typeof e)return u[e.toLowerCase()]?.includes(t);if(e instanceof HTMLElement){const s=e.tagName.toLowerCase();return u[s]?.includes(t)}return!1}function m(e){return e?u[e]:l.slice()}const d=["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"];function f(e){return!!(0,r.rH)(e)||d.includes(e)}function g(e){return(0,r.rH)(e)&&!!customElements.get(e)?.formAssociated}function y(e){switch(e){case"button":case"datalist":case"fieldset":case"input":case"label":case"legend":case"meter":case"optgroup":case"option":case"output":case"progress":case"select":case"textarea":return!0}return!!(0,r.rH)(e)&&g(e)}var S=s(8079),b=s(5459),E=s(5935);class w{static Fragment="fragment";static CommentTag="comment";static DirectiveTag="directive";static createElement(e,t,...s){if(w.Fragment===e.toLowerCase())return w.createFragmentNode(...s);if(E.y.has(e))return w.createStructuralDirectiveNode(e,"",t,...s);if(w.DirectiveTag===e.toLocaleLowerCase()&&t){if(t){let r,n=Object.keys(t).find((e=>e.startsWith("*")));if(n)return r=t[n],delete t.directiveName,w.createStructuralDirectiveNode(n,r,t,...s);let i=new S.V8(e,t?.is);return w.initElementAttrs(i,t),s?.forEach((e=>{"string"==typeof e?i.addTextChild(e):i.addChild(e)})),i}return w.createFragmentNode(...s)}if(t){let r=w.createElementNode(e,t,...s),n=Object.keys(t).find((e=>e.startsWith("*")));if(n){let e=t[n];return w.createStructuralDirectiveNode(n,e,t,r)}return r}return w.createElementNode(e,t,...s)}static createElementNode(e,t,...s){let r=new S.V8(e,t?.is);return w.initElementAttrs(r,t),s?.forEach((e=>{"string"==typeof e?r.addTextChild(e):r.addChild(e)})),r}static createFragmentNode(...e){let t=e.flatMap((e=>"string"==typeof e?(0,S.YI)(e):[e]));return new S.WS(t)}static createStructuralDirectiveNode(e,t,s,...r){const n=new S.WS;r?.forEach((e=>"string"==typeof e?n.addTextChild(e):n.addChild(e))),!e.startsWith("*")&&(e="*"+e);const i=new S.tS(e,n,t);return s&&Object.keys(s).forEach((e=>i.addAttribute(e,s[e]))),i}static createAttributeDirectiveNode(e,t){const s=new S.kz(e);return t&&Object.keys(t).forEach((e=>s.addAttribute(e,t[e]))),s}static initElementAttrs(e,t){if(t){Object.keys(t).forEach((s=>{w.handelAttribute(e,s,t[s])}));const s=[];Object.keys(t).forEach((e=>{if(E.y.has(e)){Reflect.deleteProperty(t,e);const r=new S.kz(e),n=E.y.get(e);Object.keys(t).forEach((e=>{n.hasAttribute(e)&&(r.addAttribute(e,t[e]),Reflect.deleteProperty(t,e))})),s.push(r)}})),s.length&&(e.attributeDirectives=s)}}static handelAttribute(e,t,s){if(t.startsWith("#")&&e instanceof S.V8)t=t.substring(1),e.setTemplateRefName(t,s);else{if("is"===t&&e instanceof S.V8)return void(e.is=s);if(t.startsWith("[("))t=t.substring(2,t.length-2),e.addTwoWayBinding(t,s);else if(t.startsWith("$")&&"string"==typeof s&&s.startsWith("$"))t=t.substring(1),s=s.substring(1),e.addTwoWayBinding(t,s);else if(t.startsWith("["))t=t.substring(1,t.length-1),e.addInput(t,s);else if(t.startsWith("$")&&"string"==typeof s)t=t.substring(1),e.addInput(t,s);else if(t.startsWith("$")&&"object"==typeof s)t=t.substring(1),e.addAttribute(t,s);else{if("string"==typeof s&&s.startsWith("$"))return;"string"==typeof s&&/^\{\{(.+\w*)*\}\}/g.test(s)?(s=s.substring(2,s.length-2),e.addInput(t,s)):"string"==typeof s&&/\{\{(.+)\}\}/g.test(s)?e.addTemplateAttr(t,s):t.startsWith("(")?(t=t.substring(1,t.length-1),e.addOutput(t,s)):t.startsWith("on")?e.addOutput(t.substring(2),s):e.addAttribute(t,s)}}}}const x=new class{parse(e){if(0==e.content.childNodes.length)return new S.WS([new S.D7("")]);if(1===e.content.childNodes.length){let t=this.createComponent(e.content.firstChild);return Array.isArray(t)?new S.WS(t):t}{const t=Array.prototype.slice.call(e.content.childNodes).map((e=>this.createComponent(e))).flatMap((function(e){return Array.isArray(e)?e:[e]}));return new S.WS(t)}}createComponent(e){if(e instanceof Text)return(0,S.YI)(e.textContent||"");if(e instanceof Comment)return new S.eK(e.textContent||"");{const t=e,s=new S.V8(t.tagName.toLowerCase(),t.attributes.getNamedItem("is")?.value);for(let e=0;e<t.attributes.length;e++){const r=t.attributes.item(e);w.handelAttribute(s,r.name,r.value)}return Array.prototype.slice.call(t.childNodes).map((e=>this.createComponent(e))).forEach((e=>{Array.isArray(e)?e.forEach((e=>s.addChild(e))):s.addChild(e)})),s}}toDomRenderRootNode(e){if("string"==typeof e){let t=document.createElement("template");t.innerHTML=e,e=t}else e instanceof HTMLTemplateElement&&(e=this.parse(e));return t=>e}},T=["ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"]},5459:(e,t,s)=>{s.d(t,{Cl:()=>o,gb:()=>u});var r=s(643),n=s(8079),i=s(5935);class a{static ESCAPE_MAP={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"};test;replace;constructor(){const e="(?:"+Object.keys(a.ESCAPE_MAP).join("|")+")";this.test=new RegExp(e),this.replace=new RegExp(e,"g")}escaper(e){return a.ESCAPE_MAP[e]}unescape(e){return e&&this.test.test(e)?e.replace(this.replace,this.escaper):e}}class o{checkNode(e){const t=e.attributes;if(t){let s;s=t.find((e=>"is"===e.name)),s&&(t.splice(t.indexOf(s),1),e.is=s.value),s=t.filter((e=>"string"==typeof e.value&&/\{\{(.+)\}\}/g.test(e.value))),s?.length&&s.forEach((s=>{t.splice(t.indexOf(s),1),e.addTemplateAttr(s.name,s.value)})),s=t.filter((e=>e.name.startsWith("on"))),s?.length&&s.forEach((s=>{t.splice(t.indexOf(s),1),e.addOutput(s.name.substring(2),s.value)}))}const s=this.extractDirectiveNames(e);let r;if(s.length){const t=[];s.forEach((s=>{if(s.startsWith("*"))return r?void console.error(`Only one Structural Directive is allowed on an element [${r}, ${s}]`):void(r=s);const a=new n.kz(s);i.y.get(s).hasAttributes()&&this.extractDirectiveAttributesFromNode(s,a,e),t.push(a)})),t.length&&(e.attributeDirectives=t)}if(r){const t=e.attributes.filter((e=>e.name==r))[0];e.attributes.splice(e.attributes.indexOf(t),1);const s="template"===e.tagName,a=s?new n.WS(e.children):e,o="boolean"==typeof t?.value?new n.tS(t.name,a):new n.tS(t.name,a,String(t.value)),c=t.name.substring(1);return s?(o.inputs=e.inputs,o.outputs=e.outputs,o.attributes=e.attributes,o.templateAttrs=e.templateAttrs,o.attributeDirectives=e.attributeDirectives):i.y.hasAttributes(c)&&(this.extractDirectiveAttributesFromNode(c,o,e),o.attributeDirectives=e.attributeDirectives),s&&e.templateRefName?(e.children=[o],e):o}if(i.y.has("*"+e.tagName)){const t=new n.WS(e.children),s=new n.tS("*"+e.tagName,t);return s.inputs=e.inputs,s.outputs=e.outputs,s.attributes=e.attributes,s.templateAttrs=e.templateAttrs,s.attributeDirectives=e.attributeDirectives,s}return e}extractDirectiveAttributesFromNode(e,t,s){const r=i.y.getAttributes(e);if(!r)return;const n=function(e){return t=>e.includes(t.name.split(".")[0])}(r);t.attributes=s.attributes?.filter(n),t.inputs=s.inputs?.filter(n),t.outputs=s.outputs?.filter(n),t.twoWayBinding=s.twoWayBinding?.filter(n),t.templateAttrs=s.templateAttrs?.filter(n),s.inputs&&t.inputs?.forEach(h(s.inputs)),s.outputs&&t.outputs?.forEach(h(s.outputs)),s.twoWayBinding&&t.twoWayBinding?.forEach(h(s.twoWayBinding)),s.attributes&&t.attributes?.forEach(h(s.attributes)),s.templateAttrs&&t.templateAttrs?.forEach(h(s.templateAttrs))}extractDirectiveNames(e){const t=[];return e.attributes?.length&&t.push(...this.getAttributeDirectives(e.attributes).filter((e=>e.startsWith("*")))),e.inputs?.length&&t.push(...this.getAttributeDirectives(e.inputs)),e.twoWayBinding?.length&&t.push(...this.getAttributeDirectives(e.twoWayBinding)),e.templateAttrs?.length&&t.push(...this.getAttributeDirectives(e.templateAttrs)),e.outputs?.length&&t.push(...this.getAttributeDirectives(e.outputs)),[...new Set(t)]}getAttributeDirectives(e){return i.y.filterDirectives(e.map((e=>e.name.split(".")[0])))}}class c extends o{index;stateFn;tagNameRegExp=/[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]/;childStack;stackTrace;get currentNode(){return this.stackTrace[this.stackTrace.length-1]}commentOpenCount=0;commentCloseCount=0;tempText;propertyName;propertyValue;propType;escaper=new a;parse(e){for(this.reset();this.index<e.length;this.index++)this.stateFn=this.stateFn(e[this.index]);if(this.tempText&&this.stateFn===this.parseText&&this.stateFn("<"),this.stackTrace.length>0)throw console.error(this.stackTrace),new Error(`error parsing html, had ${this.stackTrace.length} element, [${this.stackTrace.map((e=>e.tagName)).join(", ")}], with no closing tag`);let t=this.childStack;return this.reset(),t}reset(){this.index=0,this.childStack=[],this.stackTrace=[],this.propType="attr",this.commentOpenCount=0,this.commentCloseCount=0,this.stateFn=this.parseText,this.propertyName=this.propertyValue=this.tempText=""}parseText(e){return"<"===e?(this.tempText&&(this.tempText=this.escaper.unescape(this.tempText),this.stackTrace.push(this.tempText),this.popElement(),this.tempText=""),this.parseTag):(this.tempText+=e,this.parseText)}parseTag(e){return"/"===e?this.parseCloseTag:"!"===e?(this.commentOpenCount=0,this.commentCloseCount=0,this.parseComment):(this.index--,this.parseOpenTag)}parseComment(e){if("-"===e)return this.commentOpenCount<2?this.commentOpenCount++:this.commentCloseCount++,this.parseComment;if(">"===e&&2===this.commentCloseCount)return this.tempText=this.escaper.unescape(this.tempText),this.stackTrace.push(new n.eK(this.tempText.trim())),this.popElement(),this.tempText="",this.commentOpenCount=0,this.commentCloseCount=0,this.parseText;if(">"===e&&0===this.commentCloseCount&&"doctype html"===this.tempText.toLowerCase())return this.tempText="",this.parseText;if(this.commentCloseCount>0){for(let e=0;e<this.commentCloseCount;e++)this.tempText+="-";this.commentCloseCount=0}return this.tempText+=e,this.parseComment}parseCloseTag(e){if(">"===e){if(!(0,r.V2)(this.currentNode.tagName)&&this.currentNode.tagName.trim().toLowerCase()!==this.tempText.trim().toLowerCase())throw new Error(`Wrong closed tag at char ${this.index}, tag name: ${this.currentNode.tagName}`);return this.popElement(),this.tempText="",this.parseText}return this.tempText+=e,this.parseCloseTag}parseOpenTag(e){if(">"===e)return this.stackTrace.push(new n.V8(this.tempText)),(0,r.V2)(this.tempText)&&this.popElement(),this.tempText="",this.parseText;if(this.tagNameRegExp.test(e))return this.tempText+=e,this.parseOpenTag;if(/\s/.test(e))return this.stackTrace.push(new n.V8(this.tempText)),this.tempText="",this.propType="attr",this.parsePropertyName;throw new SyntaxError("Error while parsing open tag")}parsePropertyName(e){return">"===e?(this.tempText.trim()&&(this.propertyName=this.tempText,this.currentNode.addAttribute(this.propertyName,!0),this.propertyName,this.propertyValue=this.tempText=""),(0,r.V2)(this.currentNode.tagName)&&this.popElement(),this.tempText="",this.parseText):"/"===e?this.parsePropertyName:/\[/.test(e)?(this.propType="input",this.parseInputOutput):/\(|@/.test(e)?(this.propType="output",this.parseInputOutput):/#/.test(e)?(this.propType="ref-name",this.parseRefName):/=/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyName):/"/.test(e)?this.parsePropertyValue:/\d/.test(e)?(this.tempText+=e,this.parsePropertyValue):/\s/.test(e)?(this.tempText.trim()&&(this.propertyName=this.tempText,this.currentNode.addAttribute(this.propertyName,!0),this.propertyName,this.propertyValue=this.tempText=""),this.parsePropertyName):(this.tempText+=e,this.parsePropertyName)}parseRefName(e){return/=/.test(e)?this.parseRefName:/"/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyValue):/\s/.test(e)?(this.currentNode.setTemplateRefName(this.tempText,""),this.propertyName=this.tempText="",this.propType="attr",this.parsePropertyName):/>/.test(e)?(this.currentNode.setTemplateRefName(this.tempText,""),this.propertyName=this.tempText="",this.propType="attr",this.parseText):(this.tempText+=e,this.parseRefName)}parseInputOutput(e){return/\(/.test(e)?(this.propType="two-way",this.parseInputOutput):/\)|\]|=/.test(e)?this.parseInputOutput:/"/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyValue):(this.tempText+=e,this.parseInputOutput)}parsePropertyValue(e){if(/"/.test(e)){switch(this.propertyValue=this.tempText,this.propType){case"input":this.currentNode.addInput(this.propertyName,this.propertyValue);break;case"output":this.currentNode.addOutput(this.propertyName,this.propertyValue);break;case"two-way":this.currentNode.addTwoWayBinding(this.propertyName,this.propertyValue);break;case"ref-name":this.currentNode.setTemplateRefName(this.propertyName,this.propertyValue);break;default:/^([-+]?\d*\.?\d+)(?:[eE]([-+]?\d+))?$/.test(this.propertyValue.trim())?this.currentNode.addAttribute(this.propertyName,+this.propertyValue.trim()):/^(true|false)$/.test(this.propertyValue.trim().toLowerCase())?"true"===this.propertyValue.trim().toLowerCase()?this.currentNode.addAttribute(this.propertyName,!0):this.currentNode.addAttribute(this.propertyName,!1):this.currentNode.addAttribute(this.propertyName,this.propertyValue)}return this.propertyName,this.propertyValue=this.tempText="",this.propType="attr",this.parsePropertyName}return this.tempText+=e,this.parsePropertyValue}popElement(){const e=this.stackTrace.pop();if(e){const t=this.stackTrace.pop();t&&t instanceof n.V8?("string"==typeof e?t.addTextChild(e):e instanceof n.V8?t.addChild(this.checkNode(e)):t.addChild(e),this.stackTrace.push(t)):"string"==typeof e?(0,n.YI)(e).forEach((e=>this.childStack.push(e))):e instanceof n.V8?this.childStack.push(this.checkNode(e)):this.childStack.push(e)}}}function h(e){return t=>e.splice(e.indexOf(t),1)}function l(e,t){e.__proto__=t.prototype}const u=new class{nodeParser=new c;parse(e){return this.nodeParser.parse(e)}toDomRootNode(e){let t=this.nodeParser.parse(e);return t&&0!==t.length?1===t?.length?t[0]:new n.WS(t):new n.WS([new n.D7("")])}stringify(e){let t="";return e?.forEach((e=>{if(e instanceof n.D7)t+=e.value;else if(e instanceof n.kS)t+=`{{${e.value}}}`;else if(e instanceof n.eK)t+=`\x3c!-- ${e.comment} --\x3e`;else if(e instanceof n.V8){let s="";if(e.attributes&&(s+=e.attributes.map((e=>`${e.name}="${e.value}"`)).join(" ")+" "),e.twoWayBinding&&(s+=e.twoWayBinding.map((e=>`[(${e.name})]="${e.value}"`)).join(" ").concat(" ")),e.inputs&&(s+=e.inputs.map((e=>`[${e.name}]="${e.value}"`)).join(" ").concat(" ")),e.outputs&&(s+=e.outputs.map((e=>`(${e.name})="${e.value}"`)).join(" ").concat(" ")),e.templateAttrs&&(s+=e.templateAttrs.map((e=>`${e.name}="${e.value}"`)).join(" ").concat(" ")),(0,r.V2)(e.tagName))t+=s?`<${e.tagName} ${s}/>`:`<${e.tagName} />`;else{let r=this.stringify(e.children);t+=s&&r?`<${e.tagName} ${s}>${r}</${e.tagName}>`:s?`<${e.tagName} ${s}></${e.tagName}>`:r?`<${e.tagName}>${r}<</${e.tagName}>`:`<${e.tagName}></${e.tagName}>`}}})),t}deserializeAttributes(e){switch(e.type){case"Attribute":l(e,n.ah);break;case"ElementAttribute":l(e,n.JF);break;case"LiveAttribute":l(e,n.Rg);break;case"TextContent":l(e,n.D7);break;case"LiveTextContent":l(e,n.kS)}}deserializeBaseNode(e){e.attributes?.forEach((e=>this.deserializeAttributes(e))),e.inputs?.forEach((e=>this.deserializeAttributes(e))),e.outputs?.forEach((e=>this.deserializeAttributes(e))),e.templateAttrs?.forEach((e=>this.deserializeAttributes(e))),e.attributeDirectives?.forEach((e=>this.deserializeNode(e)))}deserializeNode(e){switch(e.type){case"TextContent":l(e,n.D7);break;case"LiveTextContent":l(e,n.kS);break;case"CommentNode":l(e,n.eK);break;case"DomFragmentNode":l(e,n.WS),e.children?.forEach((e=>this.deserializeNode(e)));break;case"DomElementNode":l(e,n.V8),e.templateRefName&&this.deserializeAttributes(e.templateRefName),this.deserializeBaseNode(e),e.children?.forEach((e=>this.deserializeNode(e)));break;case"DomStructuralDirectiveNode":l(e,n.tS),this.deserializeNode(e.node);break;case"DomAttributeDirectiveNode":l(e,n.kz),this.deserializeBaseNode(e)}return e}}}}]);