/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,s={38:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=38,e.exports=t},1017:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=1017,e.exports=t},9092:(e,t,s)=>{"use strict";!function(e){const t=e.performance;function s(e){t&&t.mark&&t.mark(e)}function r(e,s){t&&t.measure&&t.measure(e,s)}s("Zone");const n=e.__Zone_symbol_prefix||"__zone_symbol__";function i(e){return n+e}const a=!0===e[i("forceDuplicateZoneCheck")];if(e.Zone){if(a||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}class o{constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new l(this,this._parent&&this._parent._zoneDelegate,t)}static assertZonePatched(){if(e.Promise!==_.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=o.current;for(;e.parent;)e=e.parent;return e}static get current(){return P.zone}static get currentTask(){return R}static __load_patch(t,n,i=!1){if(_.hasOwnProperty(t)){if(!i&&a)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const i="Zone:"+t;s(i),_[t]=n(e,o,I),r(i,i)}}get parent(){return this._parent}get name(){return this._name}get(e){const t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const s=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(s,this,arguments,t)}}run(e,t,s,r){P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,e,t,s,r)}finally{P=P.parent}}runGuarded(e,t=null,s,r){P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,s,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{P=P.parent}}runTask(e,t,s){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||E).name+"; Execution: "+this.name+")");if(e.state===w&&(e.type===O||e.type===N))return;const r=e.state!=x;r&&e._transitionTo(x,A),e.runCount++;const n=R;R=e,P={parent:P,zone:this};try{e.type==N&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,s)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==w&&e.state!==k&&(e.type==O||e.data&&e.data.isPeriodic?r&&e._transitionTo(A,x):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(w,x,w))),P=P.parent,R=n}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(v,w);const t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(k,v,w),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==v&&e._transitionTo(A,v),e}scheduleMicroTask(e,t,s,r){return this.scheduleTask(new h(C,e,t,s,r,void 0))}scheduleMacroTask(e,t,s,r,n){return this.scheduleTask(new h(N,e,t,s,r,n))}scheduleEventTask(e,t,s,r,n){return this.scheduleTask(new h(O,e,t,s,r,n))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||E).name+"; Execution: "+this.name+")");if(e.state===A||e.state===x){e._transitionTo(T,A,x);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(k,T),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(w,T),e.runCount=0,e}}_updateTaskCount(e,t){const s=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let r=0;r<s.length;r++)s[r]._updateTaskCount(e.type,t)}}o.__symbol__=i;const c={name:"",onHasTask:(e,t,s,r)=>e.hasTask(s,r),onScheduleTask:(e,t,s,r)=>e.scheduleTask(s,r),onInvokeTask:(e,t,s,r,n,i)=>e.invokeTask(s,r,n,i),onCancelTask:(e,t,s,r)=>e.cancelTask(s,r)};class l{constructor(e,t,s){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=s&&(s&&s.onFork?s:t._forkZS),this._forkDlgt=s&&(s.onFork?t:t._forkDlgt),this._forkCurrZone=s&&(s.onFork?this.zone:t._forkCurrZone),this._interceptZS=s&&(s.onIntercept?s:t._interceptZS),this._interceptDlgt=s&&(s.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=s&&(s.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=s&&(s.onInvoke?s:t._invokeZS),this._invokeDlgt=s&&(s.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=s&&(s.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=s&&(s.onHandleError?s:t._handleErrorZS),this._handleErrorDlgt=s&&(s.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=s&&(s.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=s&&(s.onScheduleTask?s:t._scheduleTaskZS),this._scheduleTaskDlgt=s&&(s.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=s&&(s.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=s&&(s.onInvokeTask?s:t._invokeTaskZS),this._invokeTaskDlgt=s&&(s.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=s&&(s.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=s&&(s.onCancelTask?s:t._cancelTaskZS),this._cancelTaskDlgt=s&&(s.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=s&&(s.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=s&&s.onHasTask,n=t&&t._hasTaskZS;(r||n)&&(this._hasTaskZS=r?s:c,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,s.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),s.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),s.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new o(e,t)}intercept(e,t,s){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,s):t}invoke(e,t,s,r,n){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,s,r,n):t.apply(s,r)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let s=t;if(this._scheduleTaskZS)this._hasTaskZS&&s._zoneDelegates.push(this._hasTaskDlgtOwner),s=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),s||(s=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=C)throw new Error("Task is missing scheduleFn.");b(t)}return s}invokeTask(e,t,s,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,s,r):t.callback.apply(s,r)}cancelTask(e,t){let s;if(this._cancelTaskZS)s=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");s=t.cancelFn(t)}return s}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){const s=this._taskCounts,r=s[e],n=s[e]=r+t;if(n<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==n){const t={microTask:s.microTask>0,macroTask:s.macroTask>0,eventTask:s.eventTask>0,change:e};this.hasTask(this.zone,t)}}}class h{constructor(t,s,r,n,i,a){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=s,this.data=n,this.scheduleFn=i,this.cancelFn=a,!r)throw new Error("callback is not defined");this.callback=r;const o=this;t===O&&n&&n.useG?this.invoke=h.invokeTask:this.invoke=function(){return h.invokeTask.call(e,o,this,arguments)}}static invokeTask(e,t,s){e||(e=this),L++;try{return e.runCount++,e.zone.runTask(e,t,s)}finally{1==L&&S(),L--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(w,v)}_transitionTo(e,t,s){if(this._state!==t&&this._state!==s)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${s?" or '"+s+"'":""}, was '${this._state}'.`);this._state=e,e==w&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const u=i("setTimeout"),p=i("Promise"),d=i("then");let m,f=[],g=!1;function y(t){if(m||e[p]&&(m=e[p].resolve(0)),m){let e=m[d];e||(e=m.then),e.call(m,t)}else e[u](t,0)}function b(e){0===L&&0===f.length&&y(S),e&&f.push(e)}function S(){if(!g){for(g=!0;f.length;){const e=f;f=[];for(let t=0;t<e.length;t++){const s=e[t];try{s.zone.runTask(s,null,null)}catch(e){I.onUnhandledError(e)}}}I.microtaskDrainDone(),g=!1}}const E={name:"NO ZONE"},w="notScheduled",v="scheduling",A="scheduled",x="running",T="canceling",k="unknown",C="microTask",N="macroTask",O="eventTask",_={},I={symbol:i,currentZoneFrame:()=>P,onUnhandledError:D,microtaskDrainDone:D,scheduleMicroTask:b,showUncaughtError:()=>!o[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:D,patchMethod:()=>D,bindArguments:()=>[],patchThen:()=>D,patchMacroTask:()=>D,patchEventPrototype:()=>D,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>D,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>D,wrapWithCurrentZone:()=>D,filterProperties:()=>[],attachOriginToPatched:()=>D,_redefineProperty:()=>D,patchCallbacks:()=>D,nativeScheduleMicroTask:y};let P={parent:null,zone:new o(null,null)},R=null,L=0;function D(){}r("Zone","Zone"),e.Zone=o}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||s.g);const r=Object.getOwnPropertyDescriptor,n=Object.defineProperty,i=Object.getPrototypeOf,a=Object.create,o=Array.prototype.slice,c="addEventListener",l="removeEventListener",h=Zone.__symbol__(c),u=Zone.__symbol__(l),p="true",d="false",m=Zone.__symbol__("");function f(e,t){return Zone.current.wrap(e,t)}function g(e,t,s,r,n){return Zone.current.scheduleMacroTask(e,t,s,r,n)}const y=Zone.__symbol__,b="undefined"!=typeof window,S=b?window:void 0,E=b&&S||"object"==typeof self&&self||s.g,w="removeAttribute";function v(e,t){for(let s=e.length-1;s>=0;s--)"function"==typeof e[s]&&(e[s]=f(e[s],t+"_"+s));return e}function A(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const x="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,T=!("nw"in E)&&void 0!==E.process&&"[object process]"==={}.toString.call(E.process),k=!T&&!x&&!(!b||!S.HTMLElement),C=void 0!==E.process&&"[object process]"==={}.toString.call(E.process)&&!x&&!(!b||!S.HTMLElement),N={},O=function(e){if(!(e=e||E.event))return;let t=N[e.type];t||(t=N[e.type]=y("ON_PROPERTY"+e.type));const s=this||e.target||E,r=s[t];let n;if(k&&s===S&&"error"===e.type){const t=e;n=r&&r.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===n&&e.preventDefault()}else n=r&&r.apply(this,arguments),null==n||n||e.preventDefault();return n};function _(e,t,s){let i=r(e,t);if(!i&&s&&r(s,t)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const a=y("on"+t+"patched");if(e.hasOwnProperty(a)&&e[a])return;delete i.writable,delete i.value;const o=i.get,c=i.set,l=t.slice(2);let h=N[l];h||(h=N[l]=y("ON_PROPERTY"+l)),i.set=function(t){let s=this;s||e!==E||(s=E),s&&("function"==typeof s[h]&&s.removeEventListener(l,O),c&&c.call(s,null),s[h]=t,"function"==typeof t&&s.addEventListener(l,O,!1))},i.get=function(){let s=this;if(s||e!==E||(s=E),!s)return null;const r=s[h];if(r)return r;if(o){let e=o.call(this);if(e)return i.set.call(this,e),"function"==typeof s[w]&&s.removeAttribute(t),e}return null},n(e,t,i),e[a]=!0}function I(e,t,s){if(t)for(let r=0;r<t.length;r++)_(e,"on"+t[r],s);else{const t=[];for(const s in e)"on"==s.slice(0,2)&&t.push(s);for(let r=0;r<t.length;r++)_(e,t[r],s)}}const P=y("originalInstance");function R(e){const t=E[e];if(!t)return;E[y(e)]=t,E[e]=function(){const s=v(arguments,e);switch(s.length){case 0:this[P]=new t;break;case 1:this[P]=new t(s[0]);break;case 2:this[P]=new t(s[0],s[1]);break;case 3:this[P]=new t(s[0],s[1],s[2]);break;case 4:this[P]=new t(s[0],s[1],s[2],s[3]);break;default:throw new Error("Arg list too long.")}},M(E[e],t);const s=new t((function(){}));let r;for(r in s)"XMLHttpRequest"===e&&"responseBlob"===r||function(t){"function"==typeof s[t]?E[e].prototype[t]=function(){return this[P][t].apply(this[P],arguments)}:n(E[e].prototype,t,{set:function(s){"function"==typeof s?(this[P][t]=f(s,e+"."+t),M(this[P][t],s)):this[P][t]=s},get:function(){return this[P][t]}})}(r);for(r in t)"prototype"!==r&&t.hasOwnProperty(r)&&(E[e][r]=t[r])}function L(e,t,s){let n=e;for(;n&&!n.hasOwnProperty(t);)n=i(n);!n&&e[t]&&(n=e);const a=y(t);let o=null;if(n&&(!(o=n[a])||!n.hasOwnProperty(a))&&(o=n[a]=n[t],A(n&&r(n,t)))){const e=s(o,a,t);n[t]=function(){return e(this,arguments)},M(n[t],o)}return o}function D(e,t,s){let r=null;function n(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},r.apply(t.target,t.args),e}r=L(e,t,(e=>function(t,r){const i=s(t,r);return i.cbIdx>=0&&"function"==typeof r[i.cbIdx]?g(i.name,r[i.cbIdx],i,n):e.apply(t,r)}))}function M(e,t){e[y("OriginalDelegate")]=t}let F=!1,B=!1;function j(){try{const e=S.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function H(){if(F)return B;F=!0;try{const e=S.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(B=!0)}catch(e){}return B}Zone.__load_patch("ZoneAwarePromise",((e,t,s)=>{const r=Object.getOwnPropertyDescriptor,n=Object.defineProperty,i=s.symbol,a=[],o=!0===e[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=i("Promise"),l=i("then"),h="__creationTrace__";s.onUnhandledError=e=>{if(s.showUncaughtError()){const t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},s.microtaskDrainDone=()=>{for(;a.length;){const e=a.shift();try{e.zone.runGuarded((()=>{if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){p(e)}}};const u=i("unhandledPromiseRejectionHandler");function p(e){s.onUnhandledError(e);try{const s=t[u];"function"==typeof s&&s.call(this,e)}catch(e){}}function d(e){return e&&e.then}function m(e){return e}function f(e){return F.reject(e)}const g=i("state"),y=i("value"),b=i("finally"),S=i("parentPromiseValue"),E=i("parentPromiseState"),w="Promise.then",v=null,A=!0,x=!1,T=0;function k(e,t){return s=>{try{_(e,t,s)}catch(t){_(e,!1,t)}}}const C=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},N="Promise resolved with itself",O=i("currentTaskTrace");function _(e,r,i){const c=C();if(e===i)throw new TypeError(N);if(e[g]===v){let u=null;try{"object"!=typeof i&&"function"!=typeof i||(u=i&&i.then)}catch(t){return c((()=>{_(e,!1,t)}))(),e}if(r!==x&&i instanceof F&&i.hasOwnProperty(g)&&i.hasOwnProperty(y)&&i[g]!==v)P(i),_(e,i[g],i[y]);else if(r!==x&&"function"==typeof u)try{u.call(i,c(k(e,r)),c(k(e,!1)))}catch(t){c((()=>{_(e,!1,t)}))()}else{e[g]=r;const c=e[y];if(e[y]=i,e[b]===b&&r===A&&(e[g]=e[E],e[y]=e[S]),r===x&&i instanceof Error){const e=t.currentTask&&t.currentTask.data&&t.currentTask.data[h];e&&n(i,O,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<c.length;)R(e,c[t++],c[t++],c[t++],c[t++]);if(0==c.length&&r==x){e[g]=T;let r=i;try{throw new Error("Uncaught (in promise): "+((l=i)&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l))+(i&&i.stack?"\n"+i.stack:""))}catch(e){r=e}o&&(r.throwOriginal=!0),r.rejection=i,r.promise=e,r.zone=t.current,r.task=t.currentTask,a.push(r),s.scheduleMicroTask()}}}var l;return e}const I=i("rejectionHandledHandler");function P(e){if(e[g]===T){try{const s=t[I];s&&"function"==typeof s&&s.call(this,{rejection:e[y],promise:e})}catch(e){}e[g]=x;for(let t=0;t<a.length;t++)e===a[t].promise&&a.splice(t,1)}}function R(e,t,s,r,n){P(e);const i=e[g],a=i?"function"==typeof r?r:m:"function"==typeof n?n:f;t.scheduleMicroTask(w,(()=>{try{const r=e[y],n=!!s&&b===s[b];n&&(s[S]=r,s[E]=i);const o=t.run(a,void 0,n&&a!==f&&a!==m?[]:[r]);_(s,!0,o)}catch(e){_(s,!1,e)}}),s)}const D=function(){},M=e.AggregateError;class F{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return _(new this(null),A,e)}static reject(e){return _(new this(null),x,e)}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new M([],"All promises were rejected"));const t=[];let s=0;try{for(let r of e)s++,t.push(F.resolve(r))}catch(e){return Promise.reject(new M([],"All promises were rejected"))}if(0===s)return Promise.reject(new M([],"All promises were rejected"));let r=!1;const n=[];return new F(((e,i)=>{for(let a=0;a<t.length;a++)t[a].then((t=>{r||(r=!0,e(t))}),(e=>{n.push(e),s--,0===s&&(r=!0,i(new M(n,"All promises were rejected")))}))}))}static race(e){let t,s,r=new this(((e,r)=>{t=e,s=r}));function n(e){t(e)}function i(e){s(e)}for(let t of e)d(t)||(t=this.resolve(t)),t.then(n,i);return r}static all(e){return F.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof F?this:F).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let s,r,n=new this(((e,t)=>{s=e,r=t})),i=2,a=0;const o=[];for(let n of e){d(n)||(n=this.resolve(n));const e=a;try{n.then((r=>{o[e]=t?t.thenCallback(r):r,i--,0===i&&s(o)}),(n=>{t?(o[e]=t.errorCallback(n),i--,0===i&&s(o)):r(n)}))}catch(e){r(e)}i++,a++}return i-=2,0===i&&s(o),n}constructor(e){const t=this;if(!(t instanceof F))throw new Error("Must be an instanceof Promise.");t[g]=v,t[y]=[];try{const s=C();e&&e(s(k(t,A)),s(k(t,x)))}catch(e){_(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return F}then(e,s){var r;let n=null===(r=this.constructor)||void 0===r?void 0:r[Symbol.species];n&&"function"==typeof n||(n=this.constructor||F);const i=new n(D),a=t.current;return this[g]==v?this[y].push(a,i,e,s):R(this,a,i,e,s),i}catch(e){return this.then(null,e)}finally(e){var s;let r=null===(s=this.constructor)||void 0===s?void 0:s[Symbol.species];r&&"function"==typeof r||(r=F);const n=new r(D);n[b]=b;const i=t.current;return this[g]==v?this[y].push(i,n,e,e):R(this,i,n,e,e),n}}F.resolve=F.resolve,F.reject=F.reject,F.race=F.race,F.all=F.all;const B=e[c]=e.Promise;e.Promise=F;const j=i("thenPatched");function H(e){const t=e.prototype,s=r(t,"then");if(s&&(!1===s.writable||!s.configurable))return;const n=t.then;t[l]=n,e.prototype.then=function(e,t){return new F(((e,t)=>{n.call(this,e,t)})).then(e,t)},e[j]=!0}return s.patchThen=H,B&&(H(B),L(e,"fetch",(e=>{return t=e,function(e,s){let r=t.apply(e,s);if(r instanceof F)return r;let n=r.constructor;return n[j]||H(n),r};var t}))),Promise[t.__symbol__("uncaughtPromiseErrors")]=a,F})),Zone.__load_patch("toString",(e=>{const t=Function.prototype.toString,s=y("OriginalDelegate"),r=y("Promise"),n=y("Error"),i=function(){if("function"==typeof this){const i=this[s];if(i)return"function"==typeof i?t.call(i):Object.prototype.toString.call(i);if(this===Promise){const s=e[r];if(s)return t.call(s)}if(this===Error){const s=e[n];if(s)return t.call(s)}}return t.call(this)};i[s]=t,Function.prototype.toString=i;const a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}}));let $=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){$=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){$=!1}const V={useG:!0},G={},J={},U=new RegExp("^"+m+"(\\w+)(true|false)$"),z=y("propagationStopped");function W(e,t){const s=(t?t(e):e)+d,r=(t?t(e):e)+p,n=m+s,i=m+r;G[e]={},G[e][d]=n,G[e][p]=i}function K(e,t,s,r){const n=r&&r.add||c,a=r&&r.rm||l,o=r&&r.listeners||"eventListeners",h=r&&r.rmAll||"removeAllListeners",u=y(n),f="."+n+":",g="prependListener",b="."+g+":",S=function(e,t,s){if(e.isRemoved)return;const r=e.callback;let n;"object"==typeof r&&r.handleEvent&&(e.callback=e=>r.handleEvent(e),e.originalDelegate=r);try{e.invoke(e,t,[s])}catch(e){n=e}const i=e.options;if(i&&"object"==typeof i&&i.once){const r=e.originalDelegate?e.originalDelegate:e.callback;t[a].call(t,s.type,r,i)}return n};function E(s,r,n){if(!(r=r||e.event))return;const i=s||r.target||e,a=i[G[r.type][n?p:d]];if(a){const e=[];if(1===a.length){const t=S(a[0],i,r);t&&e.push(t)}else{const t=a.slice();for(let s=0;s<t.length&&(!r||!0!==r[z]);s++){const n=S(t[s],i,r);n&&e.push(n)}}if(1===e.length)throw e[0];for(let s=0;s<e.length;s++){const r=e[s];t.nativeScheduleMicroTask((()=>{throw r}))}}}const w=function(e){return E(this,e,!1)},v=function(e){return E(this,e,!0)};function A(t,s){if(!t)return!1;let r=!0;s&&void 0!==s.useG&&(r=s.useG);const c=s&&s.vh;let l=!0;s&&void 0!==s.chkDup&&(l=s.chkDup);let S=!1;s&&void 0!==s.rt&&(S=s.rt);let E=t;for(;E&&!E.hasOwnProperty(n);)E=i(E);if(!E&&t[n]&&(E=t),!E)return!1;if(E[u])return!1;const A=s&&s.eventNameToString,x={},k=E[u]=E[n],C=E[y(a)]=E[a],N=E[y(o)]=E[o],O=E[y(h)]=E[h];let _;s&&s.prepend&&(_=E[y(s.prepend)]=E[s.prepend]);const I=r?function(e){if(!x.isExisting)return k.call(x.target,x.eventName,x.capture?v:w,x.options)}:function(e){return k.call(x.target,x.eventName,e.invoke,x.options)},P=r?function(e){if(!e.isRemoved){const t=G[e.eventName];let s;t&&(s=t[e.capture?p:d]);const r=s&&e.target[s];if(r)for(let t=0;t<r.length;t++)if(r[t]===e){r.splice(t,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[s]=null);break}}if(e.allRemoved)return C.call(e.target,e.eventName,e.capture?v:w,e.options)}:function(e){return C.call(e.target,e.eventName,e.invoke,e.options)},R=s&&s.diff?s.diff:function(e,t){const s=typeof t;return"function"===s&&e.callback===t||"object"===s&&e.originalDelegate===t},L=Zone[y("UNPATCHED_EVENTS")],D=e[y("PASSIVE_EVENTS")],F=function(t,n,i,a,o=!1,h=!1){return function(){const u=this||e;let m=arguments[0];s&&s.transferEventName&&(m=s.transferEventName(m));let f=arguments[1];if(!f)return t.apply(this,arguments);if(T&&"uncaughtException"===m)return t.apply(this,arguments);let g=!1;if("function"!=typeof f){if(!f.handleEvent)return t.apply(this,arguments);g=!0}if(c&&!c(t,f,u,arguments))return;const y=$&&!!D&&-1!==D.indexOf(m),b=function(e,t){return!$&&"object"==typeof e&&e?!!e.capture:$&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}(arguments[2],y);if(L)for(let e=0;e<L.length;e++)if(m===L[e])return y?t.call(u,m,f,b):t.apply(this,arguments);const S=!!b&&("boolean"==typeof b||b.capture),E=!(!b||"object"!=typeof b)&&b.once,w=Zone.current;let v=G[m];v||(W(m,A),v=G[m]);const k=v[S?p:d];let C,N=u[k],O=!1;if(N){if(O=!0,l)for(let e=0;e<N.length;e++)if(R(N[e],f))return}else N=u[k]=[];const _=u.constructor.name,I=J[_];I&&(C=I[m]),C||(C=_+n+(A?A(m):m)),x.options=b,E&&(x.options.once=!1),x.target=u,x.capture=S,x.eventName=m,x.isExisting=O;const P=r?V:void 0;P&&(P.taskData=x);const M=w.scheduleEventTask(C,f,P,i,a);return x.target=null,P&&(P.taskData=null),E&&(b.once=!0),($||"boolean"!=typeof M.options)&&(M.options=b),M.target=u,M.capture=S,M.eventName=m,g&&(M.originalDelegate=f),h?N.unshift(M):N.push(M),o?u:void 0}};return E[n]=F(k,f,I,P,S),_&&(E[g]=F(_,b,(function(e){return _.call(x.target,x.eventName,e.invoke,x.options)}),P,S,!0)),E[a]=function(){const t=this||e;let r=arguments[0];s&&s.transferEventName&&(r=s.transferEventName(r));const n=arguments[2],i=!!n&&("boolean"==typeof n||n.capture),a=arguments[1];if(!a)return C.apply(this,arguments);if(c&&!c(C,a,t,arguments))return;const o=G[r];let l;o&&(l=o[i?p:d]);const h=l&&t[l];if(h)for(let e=0;e<h.length;e++){const s=h[e];if(R(s,a))return h.splice(e,1),s.isRemoved=!0,0===h.length&&(s.allRemoved=!0,t[l]=null,"string"==typeof r)&&(t[m+"ON_PROPERTY"+r]=null),s.zone.cancelTask(s),S?t:void 0}return C.apply(this,arguments)},E[o]=function(){const t=this||e;let r=arguments[0];s&&s.transferEventName&&(r=s.transferEventName(r));const n=[],i=q(t,A?A(r):r);for(let e=0;e<i.length;e++){const t=i[e];let s=t.originalDelegate?t.originalDelegate:t.callback;n.push(s)}return n},E[h]=function(){const t=this||e;let r=arguments[0];if(r){s&&s.transferEventName&&(r=s.transferEventName(r));const e=G[r];if(e){const s=e[d],n=e[p],i=t[s],o=t[n];if(i){const e=i.slice();for(let t=0;t<e.length;t++){const s=e[t];let n=s.originalDelegate?s.originalDelegate:s.callback;this[a].call(this,r,n,s.options)}}if(o){const e=o.slice();for(let t=0;t<e.length;t++){const s=e[t];let n=s.originalDelegate?s.originalDelegate:s.callback;this[a].call(this,r,n,s.options)}}}}else{const e=Object.keys(t);for(let t=0;t<e.length;t++){const s=e[t],r=U.exec(s);let n=r&&r[1];n&&"removeListener"!==n&&this[h].call(this,n)}this[h].call(this,"removeListener")}if(S)return this},M(E[n],k),M(E[a],C),O&&M(E[h],O),N&&M(E[o],N),!0}let x=[];for(let e=0;e<s.length;e++)x[e]=A(s[e],r);return x}function q(e,t){if(!t){const s=[];for(let r in e){const n=U.exec(r);let i=n&&n[1];if(i&&(!t||i===t)){const t=e[r];if(t)for(let e=0;e<t.length;e++)s.push(t[e])}}return s}let s=G[t];s||(W(t),s=G[t]);const r=e[s[d]],n=e[s[p]];return r?n?r.concat(n):r.slice():n?n.slice():[]}function Z(e,t){const s=e.Event;s&&s.prototype&&t.patchMethod(s.prototype,"stopImmediatePropagation",(e=>function(t,s){t[z]=!0,e&&e.apply(t,s)}))}function Y(e,t,s,r,n){const i=Zone.__symbol__(r);if(t[i])return;const a=t[i]=t[r];t[r]=function(i,o,c){return o&&o.prototype&&n.forEach((function(t){const n=`${s}.${r}::`+t,i=o.prototype;try{if(i.hasOwnProperty(t)){const s=e.ObjectGetOwnPropertyDescriptor(i,t);s&&s.value?(s.value=e.wrapWithCurrentZone(s.value,n),e._redefineProperty(o.prototype,t,s)):i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],n))}else i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],n))}catch(e){}})),a.call(t,i,o,c)},e.attachOriginToPatched(t[r],a)}function X(e,t,s){if(!s||0===s.length)return t;const r=s.filter((t=>t.target===e));if(!r||0===r.length)return t;const n=r[0].ignoreProperties;return t.filter((e=>-1===n.indexOf(e)))}function Q(e,t,s,r){e&&I(e,X(e,t,s),r)}function ee(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}function te(e,t){if(T&&!C)return;if(Zone[e.symbol("patchEvents")])return;const s=t.__Zone_ignore_on_properties;let r=[];if(k){const e=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const t=j()?[{target:e,ignoreProperties:["error"]}]:[];Q(e,ee(e),s?s.concat(t):s,i(e))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<r.length;e++){const n=t[r[e]];n&&n.prototype&&Q(n.prototype,ee(n.prototype),s)}}Zone.__load_patch("util",((e,t,s)=>{const i=ee(e);s.patchOnProperties=I,s.patchMethod=L,s.bindArguments=v,s.patchMacroTask=D;const h=t.__symbol__("BLACK_LISTED_EVENTS"),u=t.__symbol__("UNPATCHED_EVENTS");e[u]&&(e[h]=e[u]),e[h]&&(t[h]=t[u]=e[h]),s.patchEventPrototype=Z,s.patchEventTarget=K,s.isIEOrEdge=H,s.ObjectDefineProperty=n,s.ObjectGetOwnPropertyDescriptor=r,s.ObjectCreate=a,s.ArraySlice=o,s.patchClass=R,s.wrapWithCurrentZone=f,s.filterProperties=X,s.attachOriginToPatched=M,s._redefineProperty=Object.defineProperty,s.patchCallbacks=Y,s.getGlobalObjects=()=>({globalSources:J,zoneSymbolEventNames:G,eventNames:i,isBrowser:k,isMix:C,isNode:T,TRUE_STR:p,FALSE_STR:d,ZONE_SYMBOL_PREFIX:m,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:l})}));const se=y("zoneTask");function re(e,t,s,r){let n=null,i=null;s+=r;const a={};function o(t){const s=t.data;return s.args[0]=function(){return t.invoke.apply(this,arguments)},s.handleId=n.apply(e,s.args),t}function c(t){return i.call(e,t.data.handleId)}n=L(e,t+=r,(s=>function(n,i){if("function"==typeof i[0]){const e={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:void 0,args:i},s=i[0];i[0]=function(){try{return s.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete a[e.handleId]:e.handleId&&(e.handleId[se]=null))}};const n=g(t,i[0],e,o,c);if(!n)return n;const l=n.data.handleId;return"number"==typeof l?a[l]=n:l&&(l[se]=n),l&&l.ref&&l.unref&&"function"==typeof l.ref&&"function"==typeof l.unref&&(n.ref=l.ref.bind(l),n.unref=l.unref.bind(l)),"number"==typeof l||l?l:n}return s.apply(e,i)})),i=L(e,s,(t=>function(s,r){const n=r[0];let i;"number"==typeof n?i=a[n]:(i=n&&n[se],i||(i=n)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof n?delete a[n]:n&&(n[se]=null),i.zone.cancelTask(i)):t.apply(e,r)}))}function ne(e,t){if(Zone[t.symbol("patchEventTarget")])return;const{eventNames:s,zoneSymbolEventNames:r,TRUE_STR:n,FALSE_STR:i,ZONE_SYMBOL_PREFIX:a}=t.getGlobalObjects();for(let e=0;e<s.length;e++){const t=s[e],o=a+(t+i),c=a+(t+n);r[t]={},r[t][i]=o,r[t][n]=c}const o=e.EventTarget;return o&&o.prototype?(t.patchEventTarget(e,t,[o&&o.prototype]),!0):void 0}Zone.__load_patch("legacy",(e=>{const t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("queueMicrotask",((e,t,s)=>{s.patchMethod(e,"queueMicrotask",(e=>function(e,s){t.current.scheduleMicroTask("queueMicrotask",s[0])}))})),Zone.__load_patch("timers",(e=>{const t="set",s="clear";re(e,t,s,"Timeout"),re(e,t,s,"Interval"),re(e,t,s,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(e=>{re(e,"request","cancel","AnimationFrame"),re(e,"mozRequest","mozCancel","AnimationFrame"),re(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((e,t)=>{const s=["alert","prompt","confirm"];for(let r=0;r<s.length;r++)L(e,s[r],((s,r,n)=>function(r,i){return t.current.run(s,e,i,n)}))})),Zone.__load_patch("EventTarget",((e,t,s)=>{!function(e,t){t.patchEventPrototype(e,t)}(e,s),ne(e,s);const r=e.XMLHttpRequestEventTarget;r&&r.prototype&&s.patchEventTarget(e,s,[r.prototype])})),Zone.__load_patch("MutationObserver",((e,t,s)=>{R("MutationObserver"),R("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((e,t,s)=>{R("IntersectionObserver")})),Zone.__load_patch("FileReader",((e,t,s)=>{R("FileReader")})),Zone.__load_patch("on_property",((e,t,s)=>{te(s,e)})),Zone.__load_patch("customElements",((e,t,s)=>{!function(e,t){const{isBrowser:s,isMix:r}=t.getGlobalObjects();(s||r)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,s)})),Zone.__load_patch("XHR",((e,t)=>{!function(e){const c=e.XMLHttpRequest;if(!c)return;const l=c.prototype;let p=l[h],d=l[u];if(!p){const t=e.XMLHttpRequestEventTarget;if(t){const e=t.prototype;p=e[h],d=e[u]}}const m="readystatechange",f="scheduled";function b(e){const r=e.data,a=r.target;a[i]=!1,a[o]=!1;const c=a[n];p||(p=a[h],d=a[u]),c&&d.call(a,m,c);const l=a[n]=()=>{if(a.readyState===a.DONE)if(!r.aborted&&a[i]&&e.state===f){const s=a[t.__symbol__("loadfalse")];if(0!==a.status&&s&&s.length>0){const n=e.invoke;e.invoke=function(){const s=a[t.__symbol__("loadfalse")];for(let t=0;t<s.length;t++)s[t]===e&&s.splice(t,1);r.aborted||e.state!==f||n.call(e)},s.push(e)}else e.invoke()}else r.aborted||!1!==a[i]||(a[o]=!0)};return p.call(a,m,l),a[s]||(a[s]=e),x.apply(a,r.args),a[i]=!0,e}function S(){}function E(e){const t=e.data;return t.aborted=!0,T.apply(t.target,t.args)}const w=L(l,"open",(()=>function(e,t){return e[r]=0==t[2],e[a]=t[1],w.apply(e,t)})),v=y("fetchTaskAborting"),A=y("fetchTaskScheduling"),x=L(l,"send",(()=>function(e,s){if(!0===t.current[A])return x.apply(e,s);if(e[r])return x.apply(e,s);{const t={target:e,url:e[a],isPeriodic:!1,args:s,aborted:!1},r=g("XMLHttpRequest.send",S,t,b,E);e&&!0===e[o]&&!t.aborted&&r.state===f&&r.invoke()}})),T=L(l,"abort",(()=>function(e,r){const n=e[s];if(n&&"string"==typeof n.type){if(null==n.cancelFn||n.data&&n.data.aborted)return;n.zone.cancelTask(n)}else if(!0===t.current[v])return T.apply(e,r)}))}(e);const s=y("xhrTask"),r=y("xhrSync"),n=y("xhrListener"),i=y("xhrScheduled"),a=y("xhrURL"),o=y("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){const s=e.constructor.name;for(let n=0;n<t.length;n++){const i=t[n],a=e[i];if(a){if(!A(r(e,i)))continue;e[i]=(e=>{const t=function(){return e.apply(this,v(arguments,s+"."+i))};return M(t,e),t})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((e,t)=>{function s(t){return function(s){q(e,t).forEach((r=>{const n=e.PromiseRejectionEvent;if(n){const e=new n(t,{promise:s.promise,reason:s.rejection});r.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[y("unhandledPromiseRejectionHandler")]=s("unhandledrejection"),t[y("rejectionHandledHandler")]=s("rejectionhandled"))}))},8558:(e,t,s)=>{"use strict";s.d(t,{bfl:()=>de,wA2:()=>Vt,Xek:()=>Ht,vpe:()=>ke,Ksm:()=>Pt,pfw:()=>Bt,L6J:()=>Ft,IIB:()=>It,SjL:()=>H.Sj,CDg:()=>H.CD,iqo:()=>H.iq,r_U:()=>Rt,E6H:()=>jt,sXi:()=>H.sX,Kqy:()=>H.Kq,J$d:()=>pe,G7x:()=>Lt,i9L:()=>Dt,vR:()=>Mt,cIr:()=>je,Flj:()=>ze,cEC:()=>qe,Voz:()=>We,I63:()=>r.I6,tdS:()=>Ue,rg0:()=>Ze});var r=s(5274);const n=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function i(e){return n.includes(e)}const a=/^[a-z](?:[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-(?:[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;function o(e){return a.test(e)}const c=Object.freeze({classRef:HTMLElement}),l=[{name:"a",classRef:HTMLAnchorElement},{name:"abbr",classRef:HTMLElement},{name:"address",classRef:HTMLElement},{name:"area",classRef:HTMLAreaElement},{name:"article",classRef:HTMLElement},{name:"aside",classRef:HTMLElement},{name:"audio",classRef:HTMLAudioElement},{name:"b",classRef:HTMLElement},{name:"base",classRef:HTMLBaseElement},{name:"bdi",classRef:HTMLElement},{name:"bdo",classRef:HTMLElement},{name:"blockquote",classRef:HTMLQuoteElement},{name:"body",classRef:HTMLBodyElement},{name:"br",classRef:HTMLBRElement},{name:"button",classRef:HTMLButtonElement},{name:"canvas",classRef:HTMLCanvasElement},{name:"caption",classRef:HTMLTableCaptionElement},{name:"cite",classRef:HTMLElement},{name:"code",classRef:HTMLElement},{name:"col",classRef:HTMLTableColElement},{name:"colgroup",classRef:HTMLTableColElement},{name:"data",classRef:HTMLDataElement},{name:"datalist",classRef:HTMLDataListElement},{name:"dd",classRef:HTMLElement},{name:"del",classRef:HTMLModElement},{name:"details",classRef:HTMLDetailsElement},{name:"dfn",classRef:HTMLElement},{name:"div",classRef:HTMLDivElement},{name:"dl",classRef:HTMLDListElement},{name:"dt",classRef:HTMLElement},{name:"em",classRef:HTMLElement},{name:"embed",classRef:HTMLEmbedElement},{name:"fieldset",classRef:HTMLFieldSetElement},{name:"figcaption",classRef:HTMLElement},{name:"figure",classRef:HTMLElement},{name:"footer",classRef:HTMLElement},{name:"form",classRef:HTMLFormElement},{name:"h1",classRef:HTMLHeadingElement},{name:"h2",classRef:HTMLHeadingElement},{name:"h3",classRef:HTMLHeadingElement},{name:"h4",classRef:HTMLHeadingElement},{name:"h5",classRef:HTMLHeadingElement},{name:"h6",classRef:HTMLHeadingElement},{name:"head",classRef:HTMLHeadElement},{name:"header",classRef:HTMLElement},{name:"hgroup",classRef:HTMLElement},{name:"hr",classRef:HTMLHRElement},{name:"html",classRef:HTMLHtmlElement},{name:"i",classRef:HTMLElement},{name:"iframe",classRef:HTMLIFrameElement},{name:"img",classRef:HTMLImageElement},{name:"input",classRef:HTMLInputElement},{name:"ins",classRef:HTMLModElement},{name:"kbd",classRef:HTMLElement},{name:"label",classRef:HTMLLabelElement},{name:"legend",classRef:HTMLLegendElement},{name:"li",classRef:HTMLLIElement},{name:"link",classRef:HTMLLinkElement},{name:"main",classRef:HTMLElement},{name:"map",classRef:HTMLMapElement},{name:"mark",classRef:HTMLElement},{name:"menu",classRef:HTMLMenuElement},{name:"meta",classRef:HTMLMetaElement},{name:"meter",classRef:HTMLMeterElement},{name:"nav",classRef:HTMLElement},{name:"noscript",classRef:HTMLElement},{name:"object",classRef:HTMLObjectElement},{name:"ol",classRef:HTMLOListElement},{name:"optgroup",classRef:HTMLOptGroupElement},{name:"option",classRef:HTMLOptionElement},{name:"output",classRef:HTMLOutputElement},{name:"p",classRef:HTMLParagraphElement},{name:"param",classRef:HTMLParamElement},{name:"picture",classRef:HTMLPictureElement},{name:"pre",classRef:HTMLPreElement},{name:"progress",classRef:HTMLProgressElement},{name:"q",classRef:HTMLQuoteElement},{name:"rp",classRef:HTMLElement},{name:"rt",classRef:HTMLElement},{name:"ruby",classRef:HTMLElement},{name:"s",classRef:HTMLElement},{name:"samp",classRef:HTMLElement},{name:"script",classRef:HTMLScriptElement},{name:"section",classRef:HTMLElement},{name:"select",classRef:HTMLSelectElement},{name:"slot",classRef:HTMLSlotElement},{name:"small",classRef:HTMLElement},{name:"source",classRef:HTMLSourceElement},{name:"span",classRef:HTMLSpanElement},{name:"strong",classRef:HTMLElement},{name:"style",classRef:HTMLStyleElement},{name:"sub",classRef:HTMLElement},{name:"summary",classRef:HTMLElement},{name:"sup",classRef:HTMLElement},{name:"table",classRef:HTMLTableElement},{name:"tbody",classRef:HTMLTableSectionElement},{name:"td",classRef:HTMLTableCellElement},{name:"template",classRef:HTMLTemplateElement},{name:"textarea",classRef:HTMLTextAreaElement},{name:"tfoot",classRef:HTMLTableSectionElement},{name:"th",classRef:HTMLTableCellElement},{name:"thead",classRef:HTMLTableSectionElement},{name:"time",classRef:HTMLTimeElement},{name:"title",classRef:HTMLTitleElement},{name:"tr",classRef:HTMLTableRowElement},{name:"track",classRef:HTMLTrackElement},{name:"u",classRef:HTMLElement},{name:"ul",classRef:HTMLUListElement},{name:"var",classRef:HTMLElement},{name:"video",classRef:HTMLVideoElement},{name:"wbr",classRef:HTMLElement}],h={a:HTMLAnchorElement,abbr:HTMLElement,address:HTMLElement,area:HTMLAreaElement,article:HTMLElement,aside:HTMLElement,audio:HTMLAudioElement,b:HTMLElement,base:HTMLBaseElement,bdi:HTMLElement,bdo:HTMLElement,blockquote:HTMLQuoteElement,body:HTMLBodyElement,br:HTMLBRElement,button:HTMLButtonElement,canvas:HTMLCanvasElement,caption:HTMLTableCaptionElement,cite:HTMLElement,code:HTMLElement,col:HTMLTableColElement,colgroup:HTMLTableColElement,data:HTMLDataElement,datalist:HTMLDataListElement,dd:HTMLElement,del:HTMLModElement,details:HTMLDetailsElement,dfn:HTMLElement,div:HTMLDivElement,dl:HTMLDListElement,dt:HTMLElement,em:HTMLElement,embed:HTMLEmbedElement,fieldset:HTMLFieldSetElement,figcaption:HTMLElement,figure:HTMLElement,footer:HTMLElement,form:HTMLFormElement,h1:HTMLHeadingElement,h2:HTMLHeadingElement,h3:HTMLHeadingElement,h4:HTMLHeadingElement,h5:HTMLHeadingElement,h6:HTMLHeadingElement,head:HTMLHeadElement,header:HTMLElement,hgroup:HTMLElement,hr:HTMLHRElement,html:HTMLHtmlElement,i:HTMLElement,iframe:HTMLIFrameElement,img:HTMLImageElement,input:HTMLInputElement,ins:HTMLModElement,kbd:HTMLElement,label:HTMLLabelElement,legend:HTMLLegendElement,li:HTMLLIElement,link:HTMLLinkElement,main:HTMLElement,map:HTMLMapElement,mark:HTMLElement,menu:HTMLMenuElement,meta:HTMLMetaElement,meter:HTMLMeterElement,nav:HTMLElement,noscript:HTMLElement,object:HTMLObjectElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,option:HTMLOptionElement,output:HTMLOutputElement,p:HTMLParagraphElement,param:HTMLParamElement,picture:HTMLPictureElement,pre:HTMLPreElement,progress:HTMLProgressElement,q:HTMLQuoteElement,rp:HTMLElement,rt:HTMLElement,ruby:HTMLElement,s:HTMLElement,samp:HTMLElement,script:HTMLScriptElement,section:HTMLElement,select:HTMLSelectElement,slot:HTMLSlotElement,small:HTMLElement,source:HTMLSourceElement,span:HTMLSpanElement,strong:HTMLElement,style:HTMLStyleElement,sub:HTMLElement,summary:HTMLElement,sup:HTMLElement,table:HTMLTableElement,tbody:HTMLTableSectionElement,td:HTMLTableCellElement,template:HTMLTemplateElement,textarea:HTMLTextAreaElement,tfoot:HTMLTableSectionElement,th:HTMLTableCellElement,thead:HTMLTableSectionElement,time:HTMLTimeElement,title:HTMLTitleElement,tr:HTMLTableRowElement,track:HTMLTrackElement,u:HTMLElement,ul:HTMLUListElement,var:HTMLElement,video:HTMLVideoElement,wbr:HTMLElement},u={a:SVGAElement,animate:SVGAnimateElement,animateMotion:SVGAnimateMotionElement,animateTransform:SVGAnimateTransformElement,circle:SVGCircleElement,clipPath:SVGClipPathElement,defs:SVGDefsElement,desc:SVGDescElement,ellipse:SVGEllipseElement,feBlend:SVGFEBlendElement,feColorMatrix:SVGFEColorMatrixElement,feComponentTransfer:SVGFEComponentTransferElement,feComposite:SVGFECompositeElement,feConvolveMatrix:SVGFEConvolveMatrixElement,feDiffuseLighting:SVGFEDiffuseLightingElement,feDisplacementMap:SVGFEDisplacementMapElement,feDistantLight:SVGFEDistantLightElement,feDropShadow:SVGFEDropShadowElement,feFlood:SVGFEFloodElement,feFuncA:SVGFEFuncAElement,feFuncB:SVGFEFuncBElement,feFuncG:SVGFEFuncGElement,feFuncR:SVGFEFuncRElement,feGaussianBlur:SVGFEGaussianBlurElement,feImage:SVGFEImageElement,feMerge:SVGFEMergeElement,feMergeNode:SVGFEMergeNodeElement,feMorphology:SVGFEMorphologyElement,feOffset:SVGFEOffsetElement,fePointLight:SVGFEPointLightElement,feSpecularLighting:SVGFESpecularLightingElement,feSpotLight:SVGFESpotLightElement,feTile:SVGFETileElement,feTurbulence:SVGFETurbulenceElement,filter:SVGFilterElement,foreignObject:SVGForeignObjectElement,g:SVGGElement,image:SVGImageElement,line:SVGLineElement,linearGradient:SVGLinearGradientElement,marker:SVGMarkerElement,mask:SVGMaskElement,metadata:SVGMetadataElement,mpath:SVGMPathElement,path:SVGPathElement,pattern:SVGPatternElement,polygon:SVGPolygonElement,polyline:SVGPolylineElement,radialGradient:SVGRadialGradientElement,rect:SVGRectElement,script:SVGScriptElement,set:SVGSetElement,stop:SVGStopElement,style:SVGStyleElement,svg:SVGSVGElement,switch:SVGSwitchElement,symbol:SVGSymbolElement,text:SVGTextElement,textPath:SVGTextPathElement,title:SVGTitleElement,tspan:SVGTSpanElement,use:SVGUseElement,view:SVGViewElement},p=["class","id","slot","accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","spellcheck","style","tabindex","title","translate"],d={a:[...p,"href","target","download","ping","rel","hreflang","type","referrerpolicy"],abbr:p,address:p,area:[...p,"alt","coords","shape","href","target","download","ping","rel","referrerpolicy"],article:p,aside:p,audio:[...p,"src","crossorigin","preload","autoplay","loop","muted","controls"],b:p,base:[...p,"href","targetreferrerpolicy"],bdi:p,bdo:p,blockquote:[...p,"cite"],body:[...p,"onafterprint; onbeforeprint; onbeforeunload; onhashchange; onlanguagechange; onmessage; onmessageerror; onoffline; ononline; onpagehide; onpageshow; onpopstate; onrejectionhandled; onstorage; onunhandledrejection; onunload"],br:p,button:[...p,"disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"],canvas:[...p,"width","height"],caption:p,cite:p,code:p,col:[...p,"span"],colgroup:[...p,"span"],data:[...p,"value"],datalist:p,dd:p,del:[...p,"cite","datetime"],details:[...p,"open"],dfn:p,dialog:[...p,"open"],div:p,dl:p,dt:p,em:p,embed:[...p,"src","type","width","height","any*"],fieldset:[...p,"disabled","form","name"],figcaption:p,figure:p,footer:p,form:[...p,"accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],h1:p,h2:p,h3:p,h4:p,h5:p,h6:p,head:p,header:p,hgroup:p,hr:p,html:[...p,"manifest"],i:p,iframe:[...p,"src","srcdoc","name","sandbox","allow","allowfullscreen","allowpaymentrequest","width","height","referrerpolicy","loading"],img:[...p,"alt","src","srcset","sizes","crossorigin","usemap","ismap","width","height","referrerpolicy","decoding","loading"],input:[...p,"accept","alt","autocomplete","checked","dirname","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","size","src","step","type","value","width"],ins:[...p,"cite","datetime"],kbd:p,label:[...p,"for"],legend:p,li:[...p,"value"],link:[...p,"href","crossorigin","rel","as","media","hreflang","type","sizes","imagesrcset","imagesizes","referrerpolicy","integrity","color","disabled"],main:p,map:[...p,"name"],mark:p,menu:p,meta:[...p,"name","http-equiv","content","charset"],meter:[...p,"value","min","max","low","high","optimum"],nav:p,noscript:p,object:[...p,"data","type","name","usemap","form","width","height"],ol:[...p,"reversed","start","type"],optgroup:[...p,"disabled","label"],option:[...p,"disabled","label","selected","value"],output:[...p,"for","form","name"],p,param:[...p,"name","value"],picture:p,pre:p,progress:[...p,"value","max"],q:[...p,"cite"],rp:p,rt:p,ruby:p,s:p,samp:p,script:[...p,"src","type","async","defer","crossorigin","integrity","referrerpolicy"],section:p,select:[...p,"autocomplete","disabled","form","multiple","name","required","size"],slot:[...p,"name"],small:p,source:[...p,"src","type","srcset","sizes","media"],span:p,strong:p,style:[...p,"media"],sub:p,summary:p,sup:p,table:p,tbody:p,td:[...p,"colspan","rowspan","headers"],template:p,textarea:[...p,"cols","dirname","disabled","form","maxlength","minlength","name","placeholder","readonly","required","rows","wrap"],tfoot:p,th:[...p,"colspan","rowspan","headers","scope","abbr"],thead:p,time:[...p,"datetime"],title:p,tr:p,track:[...p,"default","kind","label","src","srclang"],u:p,ul:p,var:p,video:[...p,"src","crossorigin","poster","preload","autoplay","playsinline","loop","muted","controls","width","height"],wbr:p},m=["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"];function f(e){return o(e)&&!!customElements.get(e)?.formAssociated}class g{name;value;constructor(e,t){this.name=e,this.value=t}toJSON(){return Object.assign({},this,{type:"Attribute"})}}class y extends g{toJSON(){return Object.assign({},this,{type:"ElementAttribute"})}}class b extends g{toJSON(){return Object.assign({},this,{type:"LiveAttribute"})}}class S extends g{static propName="textContent";constructor(e){super(S.propName,e)}toJSON(){return Object.assign({},this,{type:"TextContent"})}}class E extends S{toJSON(){return Object.assign({},this,{type:"LiveTextContent"})}}function w(e){return e instanceof E}class v{comment;constructor(e){this.comment=e}toJSON(){return Object.assign({},this,{type:"CommentNode"})}}class A{attributes;inputs;outputs;twoWayBinding;templateAttrs;attributeDirectives;addAttribute(e,t){this.attributes?this.attributes.push(new y(e,t??!0)):this.attributes=[new y(e,t??!0)]}addInput(e,t){this.inputs?this.inputs.push(new b(e,t)):this.inputs=[new b(e,t)]}addOutput(e,t){this.outputs?this.outputs.push(new b(e,t)):this.outputs=[new b(e,t)]}addTwoWayBinding(e,t){this.twoWayBinding?this.twoWayBinding.push(new b(e,t)):this.twoWayBinding=[new b(e,t)]}addTemplateAttr(e,t){if(t=t.trim(),/^\{\{(.+)\}\}$/g.test(t)){const s=t.substring(2,t.length-2);if(!/\{\{(.+)\}\}/g.test(s))return void this.addInput(e,s)}t="`"+O(t).map((e=>e instanceof E?"${"+e.value+"}":e.value)).join("")+"`",this.templateAttrs?this.templateAttrs.push(new b(e,t)):this.templateAttrs=[new b(e,t)]}toJSON(){return Object.assign({},this,{type:"BaseNode"})}}class x extends A{name;constructor(e){super(),this.name=e}toJSON(){return Object.assign({},this,{type:"DomAttributeDirectiveNode"})}}class T extends A{children;addChild(e){this.children?this.children.push(e):this.children=[e]}addTextChild(e){const t=this.children??=[];O(e).forEach((e=>t.push(e)))}toJSON(){return Object.assign({},this,{type:"DomParentNode"})}}class k extends T{constructor(e){super(),e&&(this.children=e)}toJSON(){return Object.assign({},this,{type:"DomFragmentNode"})}}class C extends T{tagName;is;templateRefName;constructor(e,t){super(),this.tagName=e,t&&(this.is=t)}setTagName(e){this.tagName=e}setTemplateRefName(e,t){this.templateRefName=new g(e,t)}toJSON(){return Object.assign({},this,{type:"DomElementNode"})}}class N extends A{name;value;node;constructor(e,t,s){super(),this.name=e,this.node=t,this.value=s}toJSON(){return Object.assign({},this,{type:"DomStructuralDirectiveNode"})}}function O(e){let t,s=[],r=e,n=r.lastIndexOf("}}");for(;n>-1&&(t=e.lastIndexOf("{{",n),t>-1);){let e=r.substring(n+2);e&&s.push(new S(e));const i=new E(r.substring(t+2,n));s.push(i),r=r.substring(0,t),n=r.lastIndexOf("}}")}return r&&s.push(new S(r)),s.reverse()}class _{inputs;outputs;constructor(e,t){this.inputs=e,this.outputs=t}hasAttributes(){return this.hasInputs()||this.hasOutputs()}hasInputs(){return(this.inputs?.length??0)>0}hasOutputs(){return(this.outputs?.length??0)>0}getAttributes(){return this.inputs&&this.outputs?this.inputs.concat(this.outputs):this.inputs?this.inputs:this.outputs?this.outputs:void 0}getInputs(){return this.inputs}getOutputs(){return this.outputs}hasAttribute(e){return this.hasInput(e)||this.hasOutput(e)}hasInput(e){return this.inputs?.includes(e)||!1}hasOutput(e){return this.outputs?.includes(e)||!1}}const I=new class{directives=new Map;register(e,t){if(!this.directives.has(e)){const s=new _(t?.inputs,t?.outputs);this.directives.set(e,s)}}replace(e,t){if(this.directives.has(e)){const s=new _(t?.inputs,t?.outputs);this.directives.set(e,s)}}has(e){return this.directives.has(e)}get(e){return this.directives.get(e)}hasAttributes(e){return this.hasInputs(e)||this.hasOutputs(e)}hasInputs(e){return this.directives.get(e)?.hasInputs()||!1}hasOutputs(e){return this.directives.get(e)?.hasOutputs()||!1}getAttributes(e){return this.directives.get(e)?.getAttributes()}getInputs(e){return this.directives.get(e)?.getInputs()}getOutputs(e){return this.directives.get(e)?.getOutputs()}hasAttribute(e,t){return this.directives.get(e)?.hasAttribute(t)||!1}hasInput(e,t){return this.directives.get(e)?.hasInput(t)||!1}hasOutput(e,t){return this.directives.get(e)?.hasOutput(t)||!1}filterDirectives(e){return e.filter((e=>this.has(e)))}};class P{static ESCAPE_MAP={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"};test;replace;constructor(){const e="(?:"+Object.keys(P.ESCAPE_MAP).join("|")+")";this.test=new RegExp(e),this.replace=new RegExp(e,"g")}escaper(e){return P.ESCAPE_MAP[e]}unescape(e){return e&&this.test.test(e)?e.replace(this.replace,this.escaper):e}}class R{checkNode(e){const t=e.attributes;if(t){let s;s=t.find((e=>"is"===e.name)),s&&(t.splice(t.indexOf(s),1),e.is=s.value),s=t.filter((e=>"string"==typeof e.value&&/\{\{(.+)\}\}/g.test(e.value))),s?.length&&s.forEach((s=>{t.splice(t.indexOf(s),1),e.addTemplateAttr(s.name,s.value)})),s=t.filter((e=>e.name.startsWith("on"))),s?.length&&s.forEach((s=>{t.splice(t.indexOf(s),1),e.addOutput(s.name.substring(2),s.value)}))}const s=this.extractDirectiveNames(e);let r;if(s.length){const t=[];s.forEach((s=>{if(s.startsWith("*"))return r?void console.error(`Only one Structural Directive is allowed on an element [${r}, ${s}]`):void(r=s);const n=new x(s);I.get(s).hasAttributes()&&this.extractDirectiveAttributesFromNode(s,n,e),t.push(n)})),t.length&&(e.attributeDirectives=t)}if(r){const t=e.attributes.filter((e=>e.name==r))[0];e.attributes.splice(e.attributes.indexOf(t),1);const s="template"===e.tagName,n=s?new k(e.children):e,i="boolean"==typeof t?.value?new N(t.name,n):new N(t.name,n,String(t.value)),a=t.name.substring(1);return s?(i.inputs=e.inputs,i.outputs=e.outputs,i.attributes=e.attributes,i.templateAttrs=e.templateAttrs,i.attributeDirectives=e.attributeDirectives):I.hasAttributes(a)&&(this.extractDirectiveAttributesFromNode(a,i,e),i.attributeDirectives=e.attributeDirectives),s&&e.templateRefName?(e.children=[i],e):i}if(I.has("*"+e.tagName)){const t=new k(e.children),s=new N("*"+e.tagName,t);return s.inputs=e.inputs,s.outputs=e.outputs,s.attributes=e.attributes,s.templateAttrs=e.templateAttrs,s.attributeDirectives=e.attributeDirectives,s}return e}extractDirectiveAttributesFromNode(e,t,s){const r=I.getAttributes(e);if(!r)return;const n=function(e){return t=>e.includes(t.name.split(".")[0])}(r);t.attributes=s.attributes?.filter(n),t.inputs=s.inputs?.filter(n),t.outputs=s.outputs?.filter(n),t.twoWayBinding=s.twoWayBinding?.filter(n),t.templateAttrs=s.templateAttrs?.filter(n),s.inputs&&t.inputs?.forEach(D(s.inputs)),s.outputs&&t.outputs?.forEach(D(s.outputs)),s.twoWayBinding&&t.twoWayBinding?.forEach(D(s.twoWayBinding)),s.attributes&&t.attributes?.forEach(D(s.attributes)),s.templateAttrs&&t.templateAttrs?.forEach(D(s.templateAttrs))}extractDirectiveNames(e){const t=[];return e.attributes?.length&&t.push(...this.getAttributeDirectives(e.attributes).filter((e=>e.startsWith("*")))),e.inputs?.length&&t.push(...this.getAttributeDirectives(e.inputs)),e.twoWayBinding?.length&&t.push(...this.getAttributeDirectives(e.twoWayBinding)),e.templateAttrs?.length&&t.push(...this.getAttributeDirectives(e.templateAttrs)),e.outputs?.length&&t.push(...this.getAttributeDirectives(e.outputs)),[...new Set(t)]}getAttributeDirectives(e){return I.filterDirectives(e.map((e=>e.name.split(".")[0])))}}class L extends R{index;stateFn;tagNameRegExp=/[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]/;childStack;stackTrace;get currentNode(){return this.stackTrace[this.stackTrace.length-1]}commentOpenCount=0;commentCloseCount=0;tempText;propertyName;propertyValue;propType;escaper=new P;parse(e){for(this.reset();this.index<e.length;this.index++)this.stateFn=this.stateFn(e[this.index]);if(this.tempText&&this.stateFn===this.parseText&&this.stateFn("<"),this.stackTrace.length>0)throw console.error(this.stackTrace),new Error(`error parsing html, had ${this.stackTrace.length} element, [${this.stackTrace.map((e=>e.tagName)).join(", ")}], with no closing tag`);let t=this.childStack;return this.reset(),t}reset(){this.index=0,this.childStack=[],this.stackTrace=[],this.propType="attr",this.commentOpenCount=0,this.commentCloseCount=0,this.stateFn=this.parseText,this.propertyName=this.propertyValue=this.tempText=""}parseText(e){return"<"===e?(this.tempText&&(this.tempText=this.escaper.unescape(this.tempText),this.stackTrace.push(this.tempText),this.popElement(),this.tempText=""),this.parseTag):(this.tempText+=e,this.parseText)}parseTag(e){return"/"===e?this.parseCloseTag:"!"===e?(this.commentOpenCount=0,this.commentCloseCount=0,this.parseComment):(this.index--,this.parseOpenTag)}parseComment(e){if("-"===e)return this.commentOpenCount<2?this.commentOpenCount++:this.commentCloseCount++,this.parseComment;if(">"===e&&2===this.commentCloseCount)return this.tempText=this.escaper.unescape(this.tempText),this.stackTrace.push(new v(this.tempText.trim())),this.popElement(),this.tempText="",this.commentOpenCount=0,this.commentCloseCount=0,this.parseText;if(">"===e&&0===this.commentCloseCount&&"doctype html"===this.tempText.toLowerCase())return this.tempText="",this.parseText;if(this.commentCloseCount>0){for(let e=0;e<this.commentCloseCount;e++)this.tempText+="-";this.commentCloseCount=0}return this.tempText+=e,this.parseComment}parseCloseTag(e){if(">"===e){if(!i(this.currentNode.tagName)&&this.currentNode.tagName.trim().toLowerCase()!==this.tempText.trim().toLowerCase())throw new Error(`Wrong closed tag at char ${this.index}, tag name: ${this.currentNode.tagName}`);return this.popElement(),this.tempText="",this.parseText}return this.tempText+=e,this.parseCloseTag}parseOpenTag(e){if(">"===e)return this.stackTrace.push(new C(this.tempText)),i(this.tempText)&&this.popElement(),this.tempText="",this.parseText;if(this.tagNameRegExp.test(e))return this.tempText+=e,this.parseOpenTag;if(/\s/.test(e))return this.stackTrace.push(new C(this.tempText)),this.tempText="",this.propType="attr",this.parsePropertyName;throw new SyntaxError("Error while parsing open tag")}parsePropertyName(e){return">"===e?(this.tempText.trim()&&(this.propertyName=this.tempText,this.currentNode.addAttribute(this.propertyName,!0),this.propertyName,this.propertyValue=this.tempText=""),i(this.currentNode.tagName)&&this.popElement(),this.tempText="",this.parseText):"/"===e?this.parsePropertyName:/\[/.test(e)?(this.propType="input",this.parseInputOutput):/\(|@/.test(e)?(this.propType="output",this.parseInputOutput):/#/.test(e)?(this.propType="ref-name",this.parseRefName):/=/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyName):/"/.test(e)?this.parsePropertyValue:/\d/.test(e)?(this.tempText+=e,this.parsePropertyValue):/\s/.test(e)?(this.tempText.trim()&&(this.propertyName=this.tempText,this.currentNode.addAttribute(this.propertyName,!0),this.propertyName,this.propertyValue=this.tempText=""),this.parsePropertyName):(this.tempText+=e,this.parsePropertyName)}parseRefName(e){return/=/.test(e)?this.parseRefName:/"/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyValue):/\s/.test(e)?(this.currentNode.setTemplateRefName(this.tempText,""),this.propertyName=this.tempText="",this.propType="attr",this.parsePropertyName):/>/.test(e)?(this.currentNode.setTemplateRefName(this.tempText,""),this.propertyName=this.tempText="",this.propType="attr",this.parseText):(this.tempText+=e,this.parseRefName)}parseInputOutput(e){return/\(/.test(e)?(this.propType="two-way",this.parseInputOutput):/\)|\]|=/.test(e)?this.parseInputOutput:/"/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyValue):(this.tempText+=e,this.parseInputOutput)}parsePropertyValue(e){if(/"/.test(e)){switch(this.propertyValue=this.tempText,this.propType){case"input":this.currentNode.addInput(this.propertyName,this.propertyValue);break;case"output":this.currentNode.addOutput(this.propertyName,this.propertyValue);break;case"two-way":this.currentNode.addTwoWayBinding(this.propertyName,this.propertyValue);break;case"ref-name":this.currentNode.setTemplateRefName(this.propertyName,this.propertyValue);break;default:/^([-+]?\d*\.?\d+)(?:[eE]([-+]?\d+))?$/.test(this.propertyValue.trim())?this.currentNode.addAttribute(this.propertyName,+this.propertyValue.trim()):/^(true|false)$/.test(this.propertyValue.trim().toLowerCase())?"true"===this.propertyValue.trim().toLowerCase()?this.currentNode.addAttribute(this.propertyName,!0):this.currentNode.addAttribute(this.propertyName,!1):this.currentNode.addAttribute(this.propertyName,this.propertyValue)}return this.propertyName,this.propertyValue=this.tempText="",this.propType="attr",this.parsePropertyName}return this.tempText+=e,this.parsePropertyValue}popElement(){const e=this.stackTrace.pop();if(e){const t=this.stackTrace.pop();t&&t instanceof C?("string"==typeof e?t.addTextChild(e):e instanceof C?t.addChild(this.checkNode(e)):t.addChild(e),this.stackTrace.push(t)):"string"==typeof e?O(e).forEach((e=>this.childStack.push(e))):e instanceof C?this.childStack.push(this.checkNode(e)):this.childStack.push(e)}}}function D(e){return t=>e.splice(e.indexOf(t),1)}function M(e,t){e.__proto__=t.prototype}const F=new class{nodeParser=new L;parse(e){return this.nodeParser.parse(e)}toDomRootNode(e){let t=this.nodeParser.parse(e);return t&&0!==t.length?1===t?.length?t[0]:new k(t):new k([new S("")])}stringify(e){let t="";return e?.forEach((e=>{if(e instanceof S)t+=e.value;else if(e instanceof E)t+=`{{${e.value}}}`;else if(e instanceof v)t+=`\x3c!-- ${e.comment} --\x3e`;else if(e instanceof C){let s="";if(e.attributes&&(s+=e.attributes.map((e=>`${e.name}="${e.value}"`)).join(" ")+" "),e.twoWayBinding&&(s+=e.twoWayBinding.map((e=>`[(${e.name})]="${e.value}"`)).join(" ").concat(" ")),e.inputs&&(s+=e.inputs.map((e=>`[${e.name}]="${e.value}"`)).join(" ").concat(" ")),e.outputs&&(s+=e.outputs.map((e=>`(${e.name})="${e.value}"`)).join(" ").concat(" ")),e.templateAttrs&&(s+=e.templateAttrs.map((e=>`${e.name}="${e.value}"`)).join(" ").concat(" ")),i(e.tagName))t+=s?`<${e.tagName} ${s}/>`:`<${e.tagName} />`;else{let r=this.stringify(e.children);t+=s&&r?`<${e.tagName} ${s}>${r}</${e.tagName}>`:s?`<${e.tagName} ${s}></${e.tagName}>`:r?`<${e.tagName}>${r}<</${e.tagName}>`:`<${e.tagName}></${e.tagName}>`}}})),t}deserializeAttributes(e){switch(e.type){case"Attribute":M(e,g);break;case"ElementAttribute":M(e,y);break;case"LiveAttribute":M(e,b);break;case"TextContent":M(e,S);break;case"LiveTextContent":M(e,E)}}deserializeBaseNode(e){e.attributes?.forEach((e=>this.deserializeAttributes(e))),e.inputs?.forEach((e=>this.deserializeAttributes(e))),e.outputs?.forEach((e=>this.deserializeAttributes(e))),e.templateAttrs?.forEach((e=>this.deserializeAttributes(e))),e.attributeDirectives?.forEach((e=>this.deserializeNode(e)))}deserializeNode(e){switch(e.type){case"TextContent":M(e,S);break;case"LiveTextContent":M(e,E);break;case"CommentNode":M(e,v);break;case"DomFragmentNode":M(e,k),e.children?.forEach((e=>this.deserializeNode(e)));break;case"DomElementNode":M(e,C),e.templateRefName&&this.deserializeAttributes(e.templateRefName),this.deserializeBaseNode(e),e.children?.forEach((e=>this.deserializeNode(e)));break;case"DomStructuralDirectiveNode":M(e,N),this.deserializeNode(e.node);break;case"DomAttributeDirectiveNode":M(e,x),this.deserializeBaseNode(e)}return e}};class B{static Fragment="fragment";static CommentTag="comment";static DirectiveTag="directive";static createElement(e,t,...s){if(B.Fragment===e.toLowerCase())return B.createFragmentNode(...s);if(I.has(e))return B.createStructuralDirectiveNode(e,"",t,...s);if(B.DirectiveTag===e.toLocaleLowerCase()&&t){if(t){let r,n=Object.keys(t).find((e=>e.startsWith("*")));if(n)return r=t[n],delete t.directiveName,B.createStructuralDirectiveNode(n,r,t,...s);let i=new C(e,t?.is);return B.initElementAttrs(i,t),s?.forEach((e=>{"string"==typeof e?i.addTextChild(e):i.addChild(e)})),i}return B.createFragmentNode(...s)}if(t){let r=B.createElementNode(e,t,...s),n=Object.keys(t).find((e=>e.startsWith("*")));if(n){let e=t[n];return B.createStructuralDirectiveNode(n,e,t,r)}return r}return B.createElementNode(e,t,...s)}static createElementNode(e,t,...s){let r=new C(e,t?.is);return B.initElementAttrs(r,t),s?.forEach((e=>{"string"==typeof e?r.addTextChild(e):r.addChild(e)})),r}static createFragmentNode(...e){let t=e.flatMap((e=>"string"==typeof e?O(e):[e]));return new k(t)}static createStructuralDirectiveNode(e,t,s,...r){const n=new k;r?.forEach((e=>"string"==typeof e?n.addTextChild(e):n.addChild(e))),!e.startsWith("*")&&(e="*"+e);const i=new N(e,n,t);return s&&Object.keys(s).forEach((e=>i.addAttribute(e,s[e]))),i}static createAttributeDirectiveNode(e,t){const s=new x(e);return t&&Object.keys(t).forEach((e=>s.addAttribute(e,t[e]))),s}static initElementAttrs(e,t){if(t){Object.keys(t).forEach((s=>{B.handelAttribute(e,s,t[s])}));const s=[];Object.keys(t).forEach((e=>{if(I.has(e)){Reflect.deleteProperty(t,e);const r=new x(e),n=I.get(e);Object.keys(t).forEach((e=>{n.hasAttribute(e)&&(r.addAttribute(e,t[e]),Reflect.deleteProperty(t,e))})),s.push(r)}})),s.length&&(e.attributeDirectives=s)}}static handelAttribute(e,t,s){if(t.startsWith("#")&&e instanceof C)t=t.substring(1),e.setTemplateRefName(t,s);else{if("is"===t&&e instanceof C)return void(e.is=s);if(t.startsWith("[("))t=t.substring(2,t.length-2),e.addTwoWayBinding(t,s);else if(t.startsWith("$")&&"string"==typeof s&&s.startsWith("$"))t=t.substring(1),s=s.substring(1),e.addTwoWayBinding(t,s);else if(t.startsWith("["))t=t.substring(1,t.length-1),e.addInput(t,s);else if(t.startsWith("$")&&"string"==typeof s)t=t.substring(1),e.addInput(t,s);else if(t.startsWith("$")&&"object"==typeof s)t=t.substring(1),e.addAttribute(t,s);else{if("string"==typeof s&&s.startsWith("$"))return;"string"==typeof s&&/^\{\{(.+\w*)*\}\}/g.test(s)?(s=s.substring(2,s.length-2),e.addInput(t,s)):"string"==typeof s&&/\{\{(.+)\}\}/g.test(s)?e.addTemplateAttr(t,s):t.startsWith("(")?(t=t.substring(1,t.length-1),e.addOutput(t,s)):t.startsWith("on")?e.addOutput(t.substring(2),s):e.addAttribute(t,s)}}}}const j=new class{parse(e){if(0==e.content.childNodes.length)return new k([new S("")]);if(1===e.content.childNodes.length){let t=this.createComponent(e.content.firstChild);return Array.isArray(t)?new k(t):t}{const t=Array.prototype.slice.call(e.content.childNodes).map((e=>this.createComponent(e))).flatMap((function(e){return Array.isArray(e)?e:[e]}));return new k(t)}}createComponent(e){if(e instanceof Text)return O(e.textContent||"");if(e instanceof Comment)return new v(e.textContent||"");{const t=e,s=new C(t.tagName.toLowerCase(),t.attributes.getNamedItem("is")?.value);for(let e=0;e<t.attributes.length;e++){const r=t.attributes.item(e);B.handelAttribute(s,r.name,r.value)}return Array.prototype.slice.call(t.childNodes).map((e=>this.createComponent(e))).forEach((e=>{Array.isArray(e)?e.forEach((e=>s.addChild(e))):s.addChild(e)})),s}}toDomRenderRootNode(e){if("string"==typeof e){let t=document.createElement("template");t.innerHTML=e,e=t}else e instanceof HTMLTemplateElement&&(e=this.parse(e));return t=>e}};var H=s(6024);class ${modelProperty;_viewName;constructor(e,t){this.modelProperty=e,this._viewName=t}get viewAttribute(){return this._viewName||this.modelProperty}}class V extends ${}class G extends ${options;constructor(e,t,s){super(e,t),this.options=s}}class J{modelName;selector;childOptions;constructor(e,t,s){this.modelName=e,this.selector=t,this.childOptions=s}}class U{eventName;args;modelCallbackName;constructor(e,t,s){this.eventName=e,this.args=t,this.modelCallbackName=s}}class z{modelPropertyName;hostPropertyName;constructor(e,t){this.modelPropertyName=e,this.hostPropertyName=t}}class W{static getMetaDate(e){return r.I6.get(e[Symbol.metadata])}static addInput(e,t,s){(e.inputs??=[]).push(new V(t,s))}static addOutput(e,t,s,r){(e.outputs??=[]).push(new G(t,s,r))}static setComponentView(e,t){e.view=t}static addViewChild(e,t,s,r){(e.viewChild??=[]).push(new J(t,s,r))}static addViewChildren(e,t,s){(e.ViewChildren??=[]).push(new J(t,s))}static addHostListener(e,t,s,r){(e.hostListeners??=[]).push(new U(s,r,t))}static addHostBinding(e,t,s){(e.hostBindings??=[]).push(new z(t,s))}}const K=new class{viewSet=new Set;componentSet=new Set;serviceSet=new Set;directiveSet=new Set;pipeSet=new Set;registerView(e){this.viewSet.add(e)}registerComponent(e){this.componentSet.add(e)}registerService(e){this.serviceSet.add(e)}registerDirective(e){this.directiveSet.add(e)}registerPipe(e){this.pipeSet.add(e)}hasComponent(e){for(const t of this.componentSet)if(W.getMetaDate(t).selector===e)return!0;return!1}getComponentRef(e){for(const t of this.componentSet){const s=W.getMetaDate(t);if(s.selector===e)return s}}getComponent(e){for(const t of this.componentSet)if(W.getMetaDate(t).selector===e)return t}getComponentView(e){return this.getComponentRef(e)?.viewClass}hasOutput(e,t){if(Reflect.has(e,"bootstrap")){const s=Reflect.get(e,"bootstrap");if(s.outputs)for(const e of s.outputs)if(e.viewAttribute===t)return e}return!1}hasInput(e,t){if(Reflect.has(e,"bootstrap")){const s=Reflect.get(e,"bootstrap");if(s.inputs)for(const e of s.inputs)if(e.viewAttribute===t)return e}return!1}hasDirective(e){for(const t of this.directiveSet)if(W.getMetaDate(t).selector===e)return!0;return!1}directiveHasInput(e,t="attributes"){for(const s of this.directiveSet){const r=W.getMetaDate(s);if(("attributes"===t&&!r.selector.startsWith("*")||"structural"===t&&r.selector.startsWith("*"))&&r.inputs?.filter((t=>t.viewAttribute===e)).length>0)return!0}return!1}getDirectiveRef(e){for(const t of this.directiveSet){const s=W.getMetaDate(t);if(s.selector===e)return s}}getPipe(e){for(const t of this.pipeSet){const s=W.getMetaDate(t);if(s.name===e)return s}}getService(e){for(const t of this.serviceSet){const s=W.getMetaDate(t);if(s.name===e)return s}}};var q=s(2970);function Z(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).replace(/ /g,"")}function Y(e){return"onChanges"in e}function X(e){return"onInit"in e}function Q(e){return"doCheck"in e}function ee(e){return"afterContentChecked"in e}function te(e){return"afterViewChecked"in e}function se(e){return"onDestroy"in e}function re(e){return Reflect.has(e,"_model")&&e instanceof HTMLElement}class ne{}class ie{changeDetectorRef;constructor(e){this.changeDetectorRef=e}}class ae extends H.Eb{constructor(){super({})}has(e){if(e in this._ctx)return!0;const t=K.getPipe(e);return void 0!==t&&!t.asynchronous}get(e){let t;if(t=this._ctx[e])return t;const s=K.getPipe(e);if(void 0!==s&&!s.asynchronous){const e=new s.modelClass;return t=(t,...s)=>e.transform(t,...s),this._ctx[s.name]=t,t}}getClass(){return ae}}class oe extends H.Eb{constructor(){super({})}has(e){const t=K.getPipe(e);return!!t?.asynchronous}get(e){const t=K.getPipe(e);if(t?.asynchronous)return t.modelClass}getClass(){return oe}}class ce extends H.cH{static blockScope(){return new ce}wrapper={};constructor(){super({})}set(e,t,s){const r=function(e,t){return{detach(){e.detach()},reattach(){e.reattach()},markForCheck(){e.emitChanges(t,e.get(t))},detectChanges(){e.detectChanges()},checkNoChanges(){e.checkNoChanges()}}}(this,e),n=new t(r),i=super.set(e,n,s);return i&&(this.wrapper[e]=(e,...t)=>n.transform(e,...t)),i}get(e){return Reflect.get(this.wrapper,e)}unsubscribe(e,t){super.unsubscribe(e,t),this._ctx[e].onDestroy()}getClass(){return ce}}const le={Math:{E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clz32:Math.clz32,imul:Math.imul,sign:Math.sign,log10:Math.log10,log2:Math.log2,log1p:Math.log1p,expm1:Math.expm1,cosh:Math.cosh,sinh:Math.sinh,tanh:Math.tanh,acosh:Math.acosh,asinh:Math.asinh,atanh:Math.atanh,hypot:Math.hypot,trunc:Math.trunc,fround:Math.fround,cbrt:Math.cbrt},Object,parseFloat,parseInt,Infinity:1/0,NaN:NaN,isNaN,isFinite,Array:{isArray:Array.isArray},Symbol,String,Number},he=new H.Eb(le),ue=new H.Kq([he,new ae,new oe]);class pe{templateRef;viewContainerRef;host;_zone;constructor(e,t,s,r){this.templateRef=e,this.viewContainerRef=t,this.host=s,this._zone=r}}class de{el;_zone;constructor(e,t){this.el=e,this._zone=t}}class me{directive;_zone;constructor(e,t){this.directive=e,this._zone=t}}class fe extends ne{}class ge extends fe{}class ye extends ge{_scope;_rootNodes;_subscriptions;_destroyed=!1;_onDestroySubscribes=[];constructor(e,t,s){super(),this._scope=e,this._rootNodes=t,this._subscriptions=s}get context(){return this._scope.getContext()}get rootNodes(){return this._rootNodes}get first(){return this._rootNodes[0]}get last(){return this._rootNodes[this._rootNodes.length-1]}get destroyed(){return this._destroyed}destroy(){if(!this._destroyed){this._subscriptions?.forEach((e=>e.unsubscribe())),this._subscriptions?.splice(0,this._subscriptions.length);for(const e of this._rootNodes)e.remove();this._onDestroySubscribes.forEach((e=>{try{e()}catch(e){console.error(e)}})),this._destroyed=!0}}getAsANode(){if(1==this._rootNodes.length)return this._rootNodes[0];const e=document.createDocumentFragment();return this._rootNodes.forEach((t=>e.append(t))),e}after(e){e.after(this.getAsANode())}before(e){e.before(this.getAsANode())}detach(){for(const e of this._rootNodes)e.remove();this._scope.detach()}reattach(){this._scope.emitChanges()}markForCheck(){this._scope.emitChanges()}detectChanges(){this._scope.detectChanges()}checkNoChanges(){this._scope.checkNoChanges()}onDestroy(e){return this._onDestroySubscribes.push(e),{unsubscribe:()=>{const t=this._onDestroySubscribes.indexOf(e);t>-1&&this._onDestroySubscribes.splice(t,1)}}}}class be{}class Se extends be{_render;_node;_stack;_templateExpressions;_host;constructor(e,t,s,r){super(),this._render=e,this._node=t,this._stack=s,this._templateExpressions=r}get astNode(){return this._node}set host(e){this._host=e}createEmbeddedView(e={},t){const s=this._stack.copyStack(),r=H.cH.blockScope();s.pushScope(r);const n=new H.Kq,i=H.cH.for(e);n.pushScope(i),n.pushScope(r);const a=[],o=[],c=new ye(i,a,o),l=this.executeTemplateExpressions(n);l&&o.push(...l);const h=document.createDocumentFragment();return this._render.appendChildToParent(h,this._node,s,t,o,this._host),h.childNodes.forEach((e=>a.push(e))),c}executeTemplateExpressions(e){if(!this._templateExpressions?.length)return;this._templateExpressions.forEach((t=>{t.get(e)}));const t=[];return this._templateExpressions.forEach((s=>{const r=s.events();(0,H.Ry)(r,e).forEach((r=>{const n=r[1].subscribe(r[0],(()=>s.get(e)));t.push(n)}))})),t}}function Ee(e){return Reflect.has(e,"component")}class we{}class ve extends we{_parent;_firstComment;_views=[];constructor(e,t){super(),this._parent=e,this._firstComment=t}get anchorElement(){return this._parent}get length(){return this._views.length}clear(){if(this._views.length>0){for(const e of this._views)e.destroy();this._views.splice(0)}}get(e){if(!(e>=this._views.length))return this._views[e]}detach(e){e??=this._views.length-1;const t=this._views[e];return t.detach(),this._views.splice(e,1),t}indexOf(e){return this._views.indexOf(e)}remove(e){e??=this._views.length-1,this._views[e].destroy(),this._views.splice(e,1)}insert(e,t){const s=0==(t=(t??=this._views.length)>this._views.length?this._views.length:t)?this._firstComment:this._views[t-1].last;return this._views.splice(t,0,e),e.after(s),e}move(e,t){const s=this.indexOf(e);return s>-1?this.detach(s):e.detach(),this.insert(e,t)}createEmbeddedView(e,t){const s=e.createEmbeddedView(t?.context||{},this._parent);return 0!=t?.insert&&this.insert(s,t?.index),s}createComponent(e,t){let s;if("string"==typeof e)s=customElements.get(e);else{if("function"!=typeof e)throw new Error(`Can't find View component for args, ${e}, ${t}`);if(Reflect.has(e,"observedAttributes"))s=e;else{const r=e,n=W.getMetaDate(r)?.selector,i=function(e,t){if(!Ee(e))return;let s;if(t){if(s=e.component[t],!s)throw new Error(`${e.name} doesn't have ${t} as view`)}else s=Object.keys(e.component)[0];return e[s]}(r,t?.selector??n);if(!i)throw new Error(`Can't find View component for class ${r.name}`);s=i}}const r=new s,n=new ye(r._modelScope,[r]);return 0!=t?.insert&&this.insert(n,t?.index),r}createElement(e,t){let s;if("string"==typeof e)s=document.createElement(e,{is:t?.is});else{if("function"!=typeof e)throw new Error(`Can't find View component for args, ${e}, ${t}`);s=new e}const r=H.cH.for(s),n=new ye(r,[s]);return 0!=t?.insert&&this.insert(n,t?.index),s}createTextNode(e,t){const s=document.createTextNode(e),r=H.cH.for(s),n=new ye(r,[s]);return 0!=t?.insert&&this.insert(n,t?.index),s}updateViews(e){for(let t=0;t<e.length;t++)this.move(e[t],t);for(;this.length>e.length;)this.remove()}}function Ae(e,t,s){return{pause(){t?.()},resume(){s?.()},unsubscribe(){e()}}}class xe{view;subscriptions;componentRef;template;contextStack;templateNameScope;exportAsScope;viewScope=new H.vn({});constructor(e,t){this.view=e,this.subscriptions=t,this.componentRef=this.view.getComponentRef(),this.contextStack=ue.copyStack(),this.contextStack.pushScope(this.view._modelScope),this.exportAsScope=this.contextStack.pushReactiveScope(),this.templateNameScope=this.contextStack.pushReactiveScope()}initView(){if(!this.componentRef.template)return;let e,t;"function"==typeof this.componentRef.template?this.template=this.componentRef.template(this.view._model):this.template=this.componentRef.template,this.componentRef.isShadowDom?(e=Reflect.get(this.view,"_shadowRoot"),Reflect.deleteProperty(this.view,"_shadowRoot")):e=this.view,this.initTemplateRefMap(this.template),this.template instanceof k?t=this.createDocumentFragment(this.template,this.contextStack,e,this.subscriptions,this.view):(t=document.createDocumentFragment(),this.appendChildToParent(t,this.template,this.contextStack,e,this.subscriptions,this.view)),e.append(t)}isTemplateRefName(e){return!!(e instanceof C&&"template"===e.tagName&&e.templateRefName)}initTemplateRefMap(e){if((e instanceof C||e instanceof k)&&e.children)for(let t=0;t<e.children.length;t++){const s=e.children[t];this.isTemplateRefName(s)?this.templateNameScope.set(s.templateRefName.name,void 0):this.initTemplateRefMap(s)}}initViewBinding(){this.componentRef.viewBindings&&this.initHtmlElement(this.view,this.componentRef.viewBindings,this.contextStack,this.subscriptions),this.componentRef.windowBindings&&this.subscriptions.push(...this.initAttribute(window,this.componentRef.windowBindings,this.contextStack))}getElementByName(e){return Reflect.get(this.view,e)}createStructuralDirective(e,t,s,r,n,i){const a=K.getDirectiveRef(e.name);if(!a)return;const o=s.copyStack(),c=new Se(this,e.node,o,e.templateExpressions??[]),l=this.view._zone.fork(a.zone),h=new ve(n,t);l.onEmpty.subscribe((()=>{const e=h.length;for(let t=0;t<e;t++)h.get(t)?.detectChanges()}));const u=a.modelClass,p=l.run((()=>new u(c,h,i,l)));c.host=p;const d=H.vn.readOnlyScopeForThis(p);d.getInnerScope("this").getContextProxy=()=>p,o.pushScope(d),a.exportAs&&o.pushBlockScopeFor({[a.exportAs]:p}),r.push(...this.initDirective(p,e,o)),X(p)&&l.run(p.onInit,p),e.attributeDirectives?.length&&this.initAttributeDirectives(e.attributeDirectives,p,o,r),se(p)&&r.push(Ae((()=>p.onDestroy())))}createComment(e){return document.createComment(`${e.comment}`)}createText(e){return new Text(e.value)}createLiveText(e,t,s){const r=new Text("");(t=t.copyStack()).pushBlockScopeFor({this:r});const n=e.expression.subscribe(t,e.pipelineNames);return s.push(...n),e.expression.get(t),r}createDocumentFragment(e,t,s,r,n){const i=document.createDocumentFragment();return e.children?.forEach((e=>this.appendChildToParent(i,e,t,s,r,n))),i}appendChildToParent(e,t,s,r,n,i){if(t instanceof C){if(this.isTemplateRefName(t)){const e=t.templateRefName,r=new Se(this,new k(t.children),s.copyStack(),[]);return void this.templateNameScope.set(e.name,r)}e.append(this.createElement(t,s,n,i))}else if(t instanceof N){const a=t.name+("string"==typeof t.value?" = "+t.value:""),o=document.createComment(`start ${a}`);e.append(o);const c=document.createComment(`end ${a}`);o.after(c),this.createStructuralDirective(t,o,s,n,r,i)}else w(t)?e.append(this.createLiveText(t,s,n)):t instanceof S?e.append(this.createText(t)):t instanceof v?e.append(this.createComment(t)):t instanceof k&&e.append(this.createDocumentFragment(t,s,r,n,i))}createElementByTagName(e){let t;if(o(e.tagName)){const s=customElements.get(e.tagName);s?t=new s:(t=document.createElement(e.tagName),"HTMLElement"===t.constructor.name&&customElements.whenDefined(e.tagName).then((()=>customElements.upgrade(t))))}else s=e.tagName,t=s in h||s in u?document.createElement(e.tagName,e.is?{is:e.is}:void 0):document.createElement(e.tagName);var s;return t}createElement(e,t,s,r){const n=this.createElementByTagName(e);return this.initHtmlElement(n,e,t,s,r),n}createReadOnlyWithReactiveInnerScope(e,t,s){if(!t)return H.vn.readOnlyScopeForThis(e,s);const r=H.vn.for(e,s),n={this:e,[t]:e},i=H.Eb.for(n,["this",t]);return i.setInnerScope("this",r),i.setInnerScope(t,r),i}initHtmlElement(e,t,s,r,n){const i=s.copyStack(),a=re(e)?e._viewScope:this.createReadOnlyWithReactiveInnerScope(e,t.templateRefName?.name);i.pushScope(a);const o=this.initAttribute(e,t,i);r.push(...o);const c=function(e){switch(!0){case"input"===e:return"input";case"textarea"===e:case"select"===e:case f(e):return"change";default:return}}(t.tagName);if(c){const t=a.getInnerScope("this"),s=s=>t.emit("value",e.value);e.addEventListener(c,s),r.push(Ae((()=>e.removeEventListener(c,s))))}const l=t.templateRefName;if(l){Reflect.set(this.view,l.name,e),this.viewScope.set(l.name,e);const t=this.componentRef.viewChild.find((e=>e.selector===l.name));t&&Reflect.set(this.view._model,t.modelName,e)}if(t.children)for(const s of t.children)this.appendChildToParent(e,s,i,e,r,n);t.attributeDirectives?.length&&this.initAttributeDirectives(t.attributeDirectives,e,s,r)}initAttributeDirectives(e,t,s,r){e?.forEach((e=>{const n=K.getDirectiveRef(e.name);if(!n||!(n.modelClass.prototype instanceof de||n.modelClass.prototype instanceof me))return;const i=this.view._zone.fork(n.zone),a=i.run((()=>new n.modelClass(t,i)));n.exportAs&&this.exportAsScope.set(n.exportAs,a);const o=s.copyStack(),c=H.vn.readOnlyScopeForThis(a),l=c.getInnerScope("this");l.getContextProxy=()=>a,o.pushScope(c);const h=this.initDirective(a,e,o);if(r.push(...h),X(a)&&i.run(a.onInit,a),se(a)&&r.push(Ae((()=>a.onDestroy()))),!(t instanceof HTMLElement))return;const u=n.selector.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));if(t.hasAttribute(u)||t.setAttribute(u,""),n.viewBindings){const e=o.copyStack();e.pushScope(l),this.initHtmlElement(t,n.viewBindings,e,r)}}))}initAttribute(e,t,s){const r=[];return t.attributes?.length&&t.attributes.forEach((t=>{!function(e,t){return function(e,t){if("string"==typeof e)return d[e.toLowerCase()]?.includes(t);if(e instanceof HTMLElement){const s=e.tagName.toLowerCase();return d[s]?.includes(t)}return!1}(e,t)||function(e,t){return Reflect.has(e.constructor,"allAttributes")?Reflect.get(e.constructor,"allAttributes").some((e=>e===t)):!!Reflect.has(e.constructor,"observedAttributes")&&Reflect.get(e.constructor,"observedAttributes").some((e=>e===t))}(e,t)||function(e,t){return!!re(e)&&e.getComponentRef().inputs.some((e=>e.viewAttribute===t))}(e,t)||function(e){return e.startsWith("data-")}(t)}(e,t.name)?Reflect.set(e,t.name,t.value):!1===t.value?e.removeAttribute(t.name):!0===t.value?e.setAttribute(t.name,""):e.setAttribute(t.name,t.value)})),t.twoWayBinding?.length&&t.twoWayBinding.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),t.inputs?.length&&t.inputs.forEach((e=>{const t=e.expression.subscribe(s,e.pipelineNames);r.push(...t),e.expression.get(s)})),t.outputs?.length&&t.outputs.forEach((t=>{let n;n="string"==typeof t.value?e=>{const r=s.copyStack();r.pushBlockScopeFor({$event:e}),this.view._zone.run(t.expression.get,t.expression,[r])}:t.value,e.addEventListener(t.name,n),r.push(Ae((()=>e.removeEventListener(t.name,n))))})),t.templateAttrs?.length&&t.templateAttrs.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),r}initDirective(e,t,s){const r=[];return t.attributes?.length&&t.attributes.forEach((t=>Reflect.set(e,t.name,t.value))),t.twoWayBinding?.length&&t.twoWayBinding.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),t.inputs?.length&&t.inputs.forEach((e=>{const t=e.expression.subscribe(s,e.pipelineNames);r.push(...t),e.expression.get(s)})),t.outputs?.length&&t.outputs.forEach((t=>{const n=e[t.name].subscribe((e=>{const r=s.copyStack();r.pushBlockScopeFor({$event:e}),this.view._zone.run(t.expression.get,t.expression,[r])}));r.push(Ae((()=>e[t.name].remove(n))))})),t.templateAttrs?.length&&t.templateAttrs.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),r}}class Te{eventEmitter;othersSubscription;constructor(e){this.eventEmitter=e}add(e){this.othersSubscription||(this.othersSubscription=[]),this.othersSubscription.push(e)}unsubscribe(){this.eventEmitter.remove(this),this.othersSubscription&&this.othersSubscription.forEach((e=>{e.unsubscribe()}))}}class ke{subscribers=new Map;constructor(){}emit(e){this.subscribers.forEach((t=>{try{t.next(e)}catch(e){try{t.error?.(e)}catch(e){console.error("error: handling event",e)}}finally{try{t.complete?.()}catch(e){console.error("error: handling event",e)}}}))}subscribe(e,t,s){const r=new Te(this);return this.subscribers.set(r,{next:e,error:t,complete:s}),r}remove(e){this.subscribers.delete(e)}}const Ce=()=>{},Ne={};let Oe=0;class _e{onTry=new ke;onCatch=new ke;onFinal=new ke;onEmpty=new ke;id;constructor(){this.id=++Oe}}class Ie extends _e{static isInAuroraZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("aurora-zone")}static assertInAuroraZone(){if(!Ie.isInAuroraZone())throw new Error("Expected to be in Aurora Zone, but it is not!")}static assertNotInAuroraZone(){if(Ie.isInAuroraZone())throw new Error("Expected to not be in Aurora Zone, but it is!")}constructor(e){if("undefined"==typeof Zone)throw new Error("In this configuration Zone.js is  required");Zone.assertZonePatched(),super();const t=this;t._nesting=0,t._outer=Zone.root,e?(t._parent=e,t._inner=e._inner):(t._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec))),t._inner=t._inner.fork({name:"aurora",properties:{"aurora-zone":!0,id:t.id},onInvoke:(e,s,r,n,i,a,o)=>{try{return Pe(t),e.invoke(r,n,i,a,o)}finally{Re(t)}},onInvokeTask:(e,s,r,n,i,a)=>{try{return Pe(t),e.invokeTask(r,n,i,a)}finally{Re(t)}},onHandleError:(e,s,r,n)=>(e.handleError(r,n),t.runOutsideAurora((()=>t.onCatch.emit(n))),!1)})}fork(e){return"manual"===e?new Le(this):"proxy"===e?new De(this):new Ie(this)}run(e,t,s){return this._inner.run(e,t,s)}runTask(e,t,s,r){const n=this._inner,i=n.scheduleEventTask("AuroraZoneEvent: "+r??"",e,Ne,Ce,Ce);try{return n.runTask(i,t,s)}finally{n.cancelTask(i)}}runGuarded(e,t,s){return this._inner.runGuarded(e,t,s)}runOutsideAurora(e){return this._outer.run(e)}}function Pe(e){e.onTry.emit(),e._nesting++}function Re(e){e._nesting--,e.onFinal.emit(),0===e._nesting&&e.onEmpty.emit()}class Le extends _e{constructor(e){if(super(),e){const t=this;t._nesting=0,t._parent=e}}fork(e){return"proxy"===e?new De(this):"aurora"===e?new Ie(this):new Le(this)}runCallback(e,t,s){try{return Pe(this),e.apply(t,s)}catch(e){throw this.onCatch.emit(),e}finally{Re(this)}}run(e,t,s){return this.runCallback(e,t,s)}runTask(e,t,s,r){return this.runCallback(e,t,s)}runGuarded(e,t,s){return this.runCallback(e,t,s)}runOutsideAurora(e){return e()}}class De extends _e{_cdPromise;constructor(e){if(super(),e){const t=this;t._nesting=0,t._parent=e}}fork(e){return"manual"===e?new Le(this):"aurora"===e?new Ie(this):new De(this)}runCallback(e,t,s){try{return Pe(this),e.apply(t,s)}catch(e){throw this.onCatch.emit(),e}finally{Re(this)}}run(e,t,s){return this.runCallback(e,t,s)}runTask(e,t,s,r){return this.runCallback(e,t,s)}runGuarded(e,t,s){return this.runCallback(e,t,s)}runOutsideAurora(e){return e()}scheduleChangesDetection(){this._cdPromise??=Promise.resolve().then((()=>{this.runCallback(Ce),this._cdPromise=void 0}))}}const Me=new Le;let Fe,Be;function je(e){Be||(Be="aurora"===e?.toLowerCase()?new Ie:"proxy"===e?.toLowerCase()?Fe=new De:Me)}const He=new WeakMap;class $e{_zone;static of(e){return new $e(e)}constructor(e){this._zone=e}defineProperty(e,t,s){return this._zone.scheduleChangesDetection(),Reflect.defineProperty(e,t,s)}deleteProperty(e,t){return this._zone.scheduleChangesDetection(),Reflect.deleteProperty(e,t)}get(e,t,s){const r=Reflect.get(e,t,s);if(He.has(r))return He.get(r);if(!r||"object"!=typeof r||(0,H.Ul)(r))return r;const n=Ve(r,this._zone);return He.set(r,n),n}set(e,t,s,r){return this._zone.scheduleChangesDetection(),Reflect.set(e,t,s,r)}}function Ve(e,t){return new Proxy(e,new $e(t))}let Ge;function Je(){if(!Ge)throw new Error("Create a Signal, Computed and Effect is only allowed in class constructor.")}function Ue(e){return Je(),Ge.createSignalFn(e)}function ze(e){return Je(),Ge.createComputedFn(e)}function We(e){return Je(),Ge.createLazyFn(e)}const Ke=[];function qe(e){return Je(),Ge.createEffect(function(e,t){return s=>{Ke.push(e),t(s),Ke.pop()}}(Ge,e))}function Ze(e){const t=Ke.at(-1);t?.untrack();const s=e();return t?.track(),s}function Ye(e){return class extends e{_model;_signalScope;_render;_shadowRoot;_componentRef;_modelScope;_viewScope;_zone;subscriptions=[];onDestroyCalls=[];needRendering=!0;constructor(e,t){var s;super(),this._componentRef=e,e.isShadowDom&&(this._shadowRoot=this.attachShadow(e.shadowRootInit)),this._signalScope=new H.$5,s=this._signalScope,Ge=s;const r=[],n=(i=()=>this._modelScope,{detach(){i().detach()},reattach(){i().reattach()},markForCheck(){i().detectChanges()},detectChanges(){i().detectChanges()},checkNoChanges(){i().checkNoChanges()}});var i;r.push(n),this._zone=(Be??Me).fork(e.zone),r.push(this._zone);const a=new t(...r);this._model=a,Ge=void 0;const o=H.cH.for(a),c=this._zone instanceof De?Ve(a,this._zone):a;o.getContextProxy=()=>c,this._modelScope=o,Object.keys(this._model).forEach((e=>{const t=this._model[e],s=(0,H.Vl)(t);s&&s.subscribe(((t,s)=>this._modelScope.emit(e,t,s)))})),this._viewScope=H.vn.for({this:this});const l=this._viewScope.getInnerScope("this");e.inputs.forEach((e=>{l.subscribe(e.viewAttribute,((t,s)=>{t!==s&&this._modelScope.set(e.modelProperty,t)})),this._modelScope.subscribe(e.modelProperty,((t,s)=>{t!==s&&l.emit(e.viewAttribute,t,s)}))})),e.outputs.forEach((e=>a[e.modelProperty].subscribe((t=>{const s=new CustomEvent(e.viewAttribute,{detail:t,cancelable:!1,bubbles:e.options?.bubbles,composed:e.options?.bubbles});this.dispatchEvent(s)})))),this._componentRef.view&&Reflect.set(this._model,this._componentRef.view,this),this._render=new xe(this,this.subscriptions),this.attributes.length>0&&Array.prototype.slice.call(this.attributes).forEach((e=>this.initOuterAttribute(e))),"shadow-slot"===this._componentRef.encapsulation&&this.initView()}detectChanges(){this._modelScope.detectChanges()}doBlockCallback=()=>{Q(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy())};getComponentRef(){return this._componentRef}hasInputStartWith(e){let t=e.indexOf(".");return t>0&&(e=e.substring(0,t)),this.hasInput(e)}getInputStartWith(e){let t=e.indexOf(".");return t>0&&(e=e.substring(0,t)),t=e.indexOf("["),t>0&&(e=e.substring(0,t)),this.getInput(e)}hasInput(e){return this._componentRef.inputs.some((t=>t.viewAttribute===e))}getInput(e){return this._componentRef.inputs.find((t=>t.viewAttribute===e))}getInputValue(e){const t=this.getInput(e);if(t)return this._model[t.modelProperty]}setInputValue(e,t){const s=this.getInput(e);s&&this._modelScope.set(s.modelProperty,t)}hasOutput(e){return this._componentRef.outputs.some((t=>t.viewAttribute===e))}getOutput(e){return this._componentRef.outputs.find((t=>t.viewAttribute===e))}getEventEmitter(e){const t=this.getOutput(e);if(t)return this._model[t.modelProperty]}hasProp(e){return Reflect.has(this._model,e)}setAttributeHelper(e,t){null==t?this.removeAttribute(e):"boolean"==typeof t?t?super.setAttribute(e,""):this.removeAttribute(e):super.setAttribute(e,t)}setAttribute(e,t){this.setInputValue(e,t),this.setAttributeHelper(e,t)}getAttribute(e){return this.getInputValue(e)??super.getAttribute(e)}attributeChangedCallback(e,t,s){s!==t&&(Y(this._model)&&this._zone.run(this._model.onChanges,this._modelScope.getContextProxy()),this.doBlockCallback())}initView(){this._render.initView(),this._render.initViewBinding(),this.needRendering=!1}connectedCallback(){this.subscriptions.length&&this.subscriptions.forEach((e=>e.unsubscribe())),this.subscriptions.splice(0,this.subscriptions.length);const e=this._zone.onEmpty.subscribe((()=>this._modelScope.detectChanges()));this.onDestroy((()=>e.unsubscribe())),this._componentRef.inputs.forEach((e=>{const t=this._model[e.modelProperty];null!=t&&this.setAttributeHelper(e.viewAttribute,t)})),Y(this._model)&&this._zone.run(this._model.onChanges,this._modelScope.getContextProxy()),X(this._model)&&this._zone.run(this._model.onInit,this._modelScope.getContextProxy()),Q(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy()),"afterContentInit"in this._model&&this._zone.run(this._model.afterContentInit,this._modelScope.getContextProxy()),ee(this._model)&&this._zone.run(this._model.afterContentChecked,this._modelScope.getContextProxy()),this.needRendering&&this.initView(),"afterViewInit"in this._model&&this._zone.run(this._model.afterViewInit,this._modelScope.getContextProxy()),te(this._model)&&this._zone.run(this._model.afterViewChecked,this._modelScope.getContextProxy()),this.doBlockCallback=()=>{Q(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy()),ee(this._model)&&this._zone.run(this._model.afterContentChecked,this._modelScope.getContextProxy()),te(this._model)&&this._zone.run(this._model.afterViewChecked,this._modelScope.getContextProxy())};const t=new CustomEvent("connected",{cancelable:!0,bubbles:!1,composed:!1});this.dispatchEvent(t)}initOuterAttribute(e){let t=e.name,s=e.value;if(t.startsWith("["))t=t.substring(1,t.length-1),Reflect.has(window,s)&&this.setInputValue(t,Reflect.get(window,s));else if(t.startsWith("(")){t=t.substring(1,t.length-1),s=s.endsWith("()")?s.substring(0,s.length-2):s;let e=Reflect.get(window,s);this.addEventListener(t,(t=>{e(t)}))}else if(t.startsWith("on")){const e=this.getEventEmitter(t.substring(2));if(e){s=s.endsWith("()")?s.substring(0,s.length-2):s;let t=Reflect.get(window,s);e.subscribe((e=>{t(e)}))}}else this.setInputValue(e.name,e.value)}onDestroy(e){this.onDestroyCalls.push(e)}adoptedCallback(){this.innerHTML="",this.connectedCallback()}disconnectedCallback(){se(this._model)&&this._zone.run(this._model.onDestroy,this._modelScope.getContextProxy()),this.subscriptions.forEach((e=>e.unsubscribe())),this.subscriptions.splice(0,this.subscriptions.length),this.onDestroyCalls.forEach((e=>{try{e()}catch(e){console.error(e)}})),this.onDestroyCalls.splice(0,this.onDestroyCalls.length);const e=new CustomEvent("disconnected",{cancelable:!0,bubbles:!1,composed:!1});this.dispatchEvent(e)}triggerOutput(e,t){const s=this.getEventEmitter(e);s&&s.emit(t)}}}const Xe=()=>{};class Qe{el;constructor(e){this.el=e}get form(){return this.el.form}get labels(){return this.el.labels}get shadowRoot(){return this.el.shadowRoot}get willValidate(){return this.el.willValidate}setFormValue(e,t){this.el.value=e}}["ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"].forEach((e=>{Object.defineProperty(Qe.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.el[e]},set:function(t){return this.el[e]=t}})}));const et=new WeakMap;function tt(e,t){var s;const n=t.extend.classRef;let i;const a=`HTML${t.selector.split("-").map((e=>e.replace(/^\w/,(e=>e.toUpperCase())))).join("")}Element`;let c;t.extendCustomElement?c=t.extend.classRef:et.has(n)?c=et.get(n):(c=t.formAssociated?function(e){const t=Ye(e);return class extends t{static formAssociated=!0;value;_internals;_form;_valueControl;constructor(e,t){let s;if(super(e,t),e.extend.name&&function(e){switch(e){case"button":case"datalist":case"fieldset":case"input":case"label":case"legend":case"meter":case"optgroup":case"option":case"output":case"progress":case"select":case"textarea":return!0}return!!o(e)&&f(e)}(e.extend.name)?this._internals=new Qe(this):this._internals=this.attachInternals(),"function"==typeof e.formAssociated)if(this._model instanceof e.formAssociated)this._model;else{const t=[this];s=new e.formAssociated(t)}else!0===e.formAssociated&&(r=this._model)&&"object"==typeof r&&"function"==typeof r.writeValue&&"function"==typeof r.registerOnChange&&(s=this._model);var r;s&&this.registerValueControl(s);const n=e.inputs.filter((e=>"value"===e.viewAttribute)).at(0);n&&this._modelScope.subscribe(n.modelProperty,((e,t)=>{e!==t&&this.onValueControlChange(e)}))}get internals(){return this._internals}get form(){return this._form}get valueControl(){return this._valueControl}registerValueControl(e){this.valueControl&&this.valueControl.registerOnChange(Xe),this._valueControl=e,this._valueControl?.registerOnChange((e=>this.onValueControlChange(e)))}onValueControlChange(e){this._internals.setFormValue(e),this.value=e,this.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0,composed:!0}))}formAssociatedCallback(e){this._form=e}formDisabledCallback(e){this._valueControl?.setDisabledState?.(e)}formResetCallback(){this._valueControl?.writeValue({mode:"reset"})}formStateRestoreCallback(e,t){this._valueControl?.writeValue({value:e,mode:t})}}}(n):Ye(n),et.set(n,c)),i={[s=(0,q.Yc)(a)]:(()=>{let n,i,a=[(0,r.SF)()],o=[],l=c;return class extends l{static{i=this}static{(0,q.Ho)(i,s)}static{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;(0,q.xE)(null,n={value:i},a,{kind:"class",name:i.name,metadata:e},null,o),i=n.value,e&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e}),(0,q.Co)(i,o)}constructor(s,r){super(s??t,r??e)}},i})()}[a],t.inputs.forEach((e=>{Object.defineProperty(i.prototype,e.viewAttribute,{get(){return this._modelScope.get(e.modelProperty)},set(t){this._modelScope.set(e.modelProperty,t)},enumerable:!0})})),t.outputs.forEach((e=>{let t,s;Object.defineProperty(i.prototype,e.viewAttribute,{get(){return this._model[e.modelProperty]},enumerable:!0}),Object.defineProperty(i.prototype,"on"+Z(e.viewAttribute),{get:()=>t,set(r){r||s&&(s.unsubscribe(),t=void 0),"string"==typeof r&&(r.endsWith("()")&&(r=r.substring(0,r.length-2)),r=Reflect.get(window,r)),t=r,s=this._model[e.modelProperty].subscribe(r)},enumerable:!0})})),t.inputs.map((e=>e.modelProperty)).concat(t.outputs.map((e=>e.modelProperty))).concat(t.hostBindings.map((e=>e.hostPropertyName))).concat(t.viewChild.map((e=>e.modelName))).filter((t=>!(t in e.prototype))).forEach((t=>e.prototype[t]=void 0));const l=(h=t.extend.name)?d[h]:p.slice();var h;const u=t.inputs.map((e=>e.viewAttribute)).concat(t.outputs.map((e=>"on"+Z(e.viewAttribute))));return t.formAssociated&&!u.includes("value")&&u.push("value"),Reflect.set(i,"observedAttributes",u),Reflect.set(i,"allAttributes",l.concat(u)),function(e,t,s,r){Object.defineProperty(e,r,{value:s}),Ee(e)||Reflect.set(e,"component",{}),Ee(e)&&(e.component[t]=r)}(e,t.selector,i,a),Reflect.has(window,a)||Reflect.set(window,a,i),i}let st=(()=>{let e,t,s=[(0,H.ZK)("OneWayAssignment")],r=[],n=H.Bo;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,q.Co)(t,r)}static fromJSON(e,t){return new i(t(e.left),t(e.right))}static visit(e,t){t(e.left),t(e.right)}rightEvents=this.right.events();constructor(e,t){super("=:",e,t)}set(e,t){return this.left.set(e,t)}get(e){const t=this.right.get(e);return this.set(e,t),t}subscribe(e,t){const s=[];if(t?.length){const r=H.sX.blockScope(),n=ce.blockScope();let i=!1,a=!1;t.forEach((t=>{const o=e.findScope(t),c=o.get(t);o instanceof oe?(i=!0,n.set(t,c),se(c.prototype)&&s.push(Ae((()=>n.unsubscribe(t))))):o instanceof ae&&(a=!0,r.set(t,c))})),a&&e.pushScope(r),i&&e.pushScope(n)}const r=(0,H.Ry)(this.rightEvents,e),n=()=>this.get(e);return r.forEach((e=>{const t=e[1].subscribe(e[0],n);s.push(t)})),s}};return i=t})(),rt=(()=>{let e,t,s=[(0,H.ZK)("TwoWayAssignment")],r=[],n=H.Bo;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,q.Co)(t,r)}static fromJSON(e,t){return new i(t(e.left),t(e.right))}static visit(e,t){t(e.left),t(e.right)}rightEvents;leftEvents;constructor(e,t){super("=::",e,t),this.rightEvents=this.right.events(),this.leftEvents=this.left.events()}set(e,t){return this.setRTL(e,t)}get(e){return this.getRTL(e)}setRTL(e,t){return this.left.set(e,t)}getRTL(e){const t=this.right.get(e);return this.setRTL(e,t),t}actionRTL(e){return()=>this.getRTL(e)}setLTR(e,t){return this.right.set(e,t)}getLTR(e){const t=this.left.get(e);return this.setLTR(e,t),t}actionLTR(e){return()=>this.getLTR(e)}subscribeToEvents(e,t,s){const r=[];return t.forEach((e=>{const t=e[1].subscribe(e[0],s);r.push(t)})),r}subscribe(e){const t=(0,H.Ry)(this.rightEvents,e),s=this.actionRTL(e),r=this.subscribeToEvents(e,t,s),n=(0,H.Ry)(this.leftEvents,e),i=this.actionLTR(e),a=this.subscribeToEvents(e,n,i);return r.concat(a)}};return i=t})();class nt{static LET=new H.p1(H.WU.LET,[-1,-1]);static COMMA=new H.p1(H.WU.COMMA,[-1,-1]);static ASSIGN=new H.p1(H.WU.ASSIGN,[-1,-1]);static IMPLICIT=new H.p1(H.WU.IDENTIFIER,[-1,-1],new H.xb("$implicit"));static EOS=new H.p1(H.WU.EOS,[-1,-1])}class it{directiveName;stream;static parse(e,t){const s=H.qd.getTokenStream(t),r=new it(e,s);try{r.scan()}catch(e){console.error("error parsing template expression",t,r,e)}return r.getDirectiveExpressionType()}templateExpressions=new Array;directiveInputs=new Map;constructor(e,t){this.directiveName=e,this.stream=t}getDirectiveExpressionType(){return{templateExpressions:this.templateExpressions,directiveInputs:this.directiveInputs}}scan(){if(this.isDeclareKeyword()?this.parseTemplateInput():this.parseExpression(this.directiveName),!this.stream.peek().isType(H.WU.EOS))for(this.consumeSemicolonOrComma();this.stream.peek().isNotType(H.WU.EOS);)this.parseTemplateInput()||this.parseDirectiveAndTemplateInputs(),this.consumeSemicolonOrComma()}consume(e){if(this.stream.next().isNotType(e))throw new Error(this.stream.createError(`Parsing ${JSON.stringify(e)}`))}check(e){return!!this.stream.peek().isType(e)&&(this.stream.next(),!0)}consumeToList(e,t){const s=this.stream.next();if(s.isNotType(e))throw new Error(this.stream.createError(`Parsing ${JSON.stringify(e)}`));t.push(s)}consumeIfToken(e,t){const s=this.stream.peek();return!s.isNotType(e)&&(t.push(s),this.stream.next(),!0)}isDeclareKeyword(){const e=this.stream.peek();return e.isType(H.WU.LET)||e.isType(H.WU.CONST)||e.isType(H.WU.VAR)}isIdentifier(){return this.stream.peek().isType(H.WU.IDENTIFIER)}isAsKeyword(){const e=this.stream.peek();return e.isType(H.WU.IDENTIFIER)&&"as"==e.getValue().getName()}consumeAsKeyword(){this.consume(H.WU.IDENTIFIER)}isSemicolon(){return this.stream.peek().isType(H.WU.SEMICOLON)}isComma(){return this.stream.peek().isType(H.WU.COMMA)}consumeSemicolonOrComma(){let e=this.stream.peek();(e.isType(H.WU.SEMICOLON)||e.isType(H.WU.COMMA))&&this.stream.next()}parseTemplateInput(){if(this.isDeclareKeyword()){let e=this.stream.peek();const t=[e];if(this.consume(e.token),e=this.stream.peek(),H.WU.isOpenPair(e.token)&&e.isNotType(H.WU.LPAREN))this.stream.readTill(H.WU.closeOf(e.token),t);else{if(!e.isType(H.WU.IDENTIFIER))throw new Error(this.stream.createError("Can't parse let/const/var {IDENTIFIER/ObjectPattern}"));this.consumeToList(H.WU.IDENTIFIER,t)}return this.consumeIfToken(H.WU.ASSIGN,t)?this.stream.readTokensConsiderPair(t,H.WU.SEMICOLON,H.WU.COMMA,H.WU.LET,H.WU.CONST,H.WU.VAR,H.WU.EOS):t.push(nt.ASSIGN,nt.IMPLICIT),this.templateExpressions.push(t),!0}return!1}parseExpression(e){const t=[];this.stream.readTokensConsiderPair(t,H.WU.SEMICOLON,H.WU.COMMA,H.WU.LET,H.WU.EOS),this.directiveInputs.set(e,t.map(this.mapTokenToString).join(" "))}parseDirectiveAndTemplateInputs(){if(this.stream.peek().isType(H.WU.EOS))return;let e;if(this.isIdentifier())e=this.stream.next();else{e=this.stream.next();const t=e.token.getName();e=new H.p1(H.WU.IDENTIFIER,[-1,-1],new H.xb(t))}if(this.isAsKeyword()){this.consumeAsKeyword();const t=this.stream.next(),s=[];return s.push(t,nt.ASSIGN,e,nt.EOS),void this.templateExpressions.push(s)}this.check(H.WU.ASSIGN)||this.check(H.WU.COLON);const t=[];if(this.stream.readTokensConsiderPair(t,H.WU.SEMICOLON,H.WU.COMMA,H.WU.LET,H.WU.CONST,H.WU.VAR,H.WU.EOS),this.isAsKeyword()){this.consumeAsKeyword();const t=this.stream.next(),s=[];s.push(nt.LET,t,nt.ASSIGN,e,nt.EOS),this.templateExpressions.push(s)}const s=e.getValue().getName();this.directiveInputs.set(s,t.map(this.mapTokenToString).join(" "))}mapTokenToString(e){return e.value?e.value.toString():e.token.getName()}}const at=H.Sj.parseScript("this.textContent");function ot(e){const t=Array.isArray(e)?e:e.split("-");return 1===t.length?e:t[0]+t.splice(1).map((e=>e[0].toUpperCase()+e.substring(1))).join("")}function ct(e){return(Array.isArray(e)?e:e.split(".")).flatMap((e=>function(e){return e.includes("-")?["['",e,"']"]:Number.isInteger(e.at(0))?["[",e,"]"]:[".",e]}(e))).join("")}function lt(e){return e.startsWith("{")?`(${e})`:e}function ht(e){const t=`this${ct(e.name)}`,s=H.Sj.parseScript(t),r=H.Sj.parseScript(lt(e.value));s instanceof H.VV&&(r instanceof H.VV||r instanceof H.xb)?e.expression=new rt(s,r):console.error(`${e.name}="${e.value}"" is not a valid MemberExpression or Identifier 'x.y.z'`)}function ut(e){const t=[];return H.p.visit(e,((e,s,r)=>{if("PipelineExpression"===s){const s=e.getRight();s instanceof H.xb&&t.push(s.getName())}})),t.length?t:void 0}function pt(e){const t=e.name.startsWith("data-")?`this.dataset.${ot(e.name.substring(5))}`:`this${ct(e.name)}`,s=H.Sj.parseScript(t),r=H.Sj.parseScript(lt(e.value));s instanceof H.VV?e.expression=new st(s,r):console.error(`${e.name} is not a valid MemberExpression 'x.y.z'`),e.pipelineNames=ut(r)}function dt(e){e.expression=H.Sj.parseScript(e.value)}function mt(e){e.inputs?.forEach(pt),e.outputs?.forEach(dt),e.twoWayBinding?.forEach(ht),e.templateAttrs?.forEach(pt)}function ft(e){e.inputs?.forEach(pt),e.outputs?.forEach(dt),e.twoWayBinding?.forEach(ht),e.templateAttrs?.forEach(pt),e.attributeDirectives?.forEach(mt)}function gt(e){if(e instanceof C)ft(e),bt(e);else if(e instanceof N){let t=[];if(e.templateExpressions=t,e.value){const s=it.parse(e.name.substring(1),e.value);if(t.push(...s.templateExpressions.map((e=>H.Sj.parseScript(e)))),yt(e,t),s.directiveInputs.size>0){const t=K.getDirectiveRef(e.name);if(!t?.inputs?.length)return;e.inputs??=[],s.directiveInputs.forEach(((s,r)=>{const n=t?.inputs.find((e=>e.viewAttribute===r))?.modelProperty??r,i=new b(n,s);(e.inputs??=[]).push(i)}))}}else yt(e,t);gt(e.node),ft(e)}else w(e)?function(e){const t=H.Sj.parseScript(e.value);e.expression=new st(at,t),e.pipelineNames=ut(t)}(e):e instanceof k&&bt(e)}function yt(e,t){const s=e.attributes?.filter((e=>e.name.startsWith("let-")));s?.forEach((s=>{e.attributes.splice(e.attributes.indexOf(s),1);const r=`let ${ot(s.name.split("-").slice(1))} = ${"string"==typeof s.value?s.value:"$implicit"}`;t.push(H.Sj.parseScript(r))}))}function bt(e){e.children?.forEach(gt)}function St(e){e instanceof k?bt(e):gt(e)}function Et(e){e.expression&&(e.expression=(0,H.vB)(e.expression))}function wt(e){e.expression&&(e.expression=(0,H.vB)(e.expression),e.pipelineNames=ut(e.expression.getRight()))}function vt(e){e.expression&&(e.expression=(0,H.vB)(e.expression))}function At(e){e.inputs?.forEach(wt),e.outputs?.forEach(vt),e.twoWayBinding?.forEach(Et),e.templateAttrs?.forEach(wt)}function xt(e){e.inputs?.forEach(wt),e.outputs?.forEach(vt),e.twoWayBinding?.forEach(Et),e.templateAttrs?.forEach(wt),e.attributeDirectives?.forEach(At)}function Tt(e){var t;e instanceof C?(xt(e),kt(e)):e instanceof N?(e.templateExpressions=e.templateExpressions.map(H.vB),Tt(e.node),xt(e)):w(e)?(t=e).expression&&(t.expression=(0,H.vB)(t.expression),t.pipelineNames=ut(t.expression.getRight())):e instanceof k&&kt(e)}function kt(e){e.children?.forEach(Tt)}const Ct={mode:"open",delegatesFocus:!1,slotAssignment:"named"};class Nt{static EMPTY_LIST=Object.freeze([]);static emptyList(){return Nt.EMPTY_LIST}static patchTemplate(e,t){if(e instanceof C&&e.templateRefName?.name){const s=t.find((t=>e.templateRefName?.name===t.templateRefName?.name));s?.outputs&&(e.outputs??=[]).push(...s.outputs)}e instanceof T&&e.children?.forEach((e=>Nt.patchTemplate(e,t)))}static createOutputs(e){return e?.map((e=>`(${e.eventName})="${e.modelCallbackName}(${e.args.join(", ")})"`)).join(" ")??""}static parseHostNode(e){const t=e.hostBindings?.map((t=>{const s=Object.getOwnPropertyDescriptor(e.prototype,t.modelPropertyName);return"function"==typeof s?.value?`[${t.hostPropertyName}]="${t.modelPropertyName}()"`:`[${t.hostPropertyName}]="${t.modelPropertyName}"`})).join(" ")??"",s=[],r=[],n={};e.hostListeners?.forEach((e=>{const[t,i]=e.eventName.split(":",2);void 0===i?s.push(e):"window"===t.toLowerCase()?r.push(new U(i,e.args,e.modelCallbackName)):(n[t]??=[]).push(new U(i,e.args,e.modelCallbackName))}));const i={};if(s.length){const r=Nt.createOutputs(s),n=e.selector??"div",a=`<${n} ${t} ${r}></${n}>`;i.host=F.toDomRootNode(a),St(i.host)}if(r.length){const e=`<window ${Nt.createOutputs(r)}></window>`;i.window=F.toDomRootNode(e),St(i.window)}const a=Object.keys(n);if(a.length){const e=a.map((e=>`<template #${e} ${Nt.createOutputs(n[e])}></template>`)).join(""),t=F.toDomRootNode(e);St(t),i.template=t instanceof k?t.children?.filter((e=>e instanceof C))??[]:[t]}return i}static defineDirective(e,t,s){if(Object.assign(s,t),s.hostListeners?.length||s.hostBindings?.length){const t=Nt.parseHostNode({prototype:e.prototype,hostBindings:s.hostBindings,hostListeners:s.hostListeners});s.viewBindings=t.host}s.modelClass=e,K.registerDirective(e),I.register(t.selector,{inputs:s.inputs?.map((e=>e.viewAttribute)),outputs:s.outputs?.map((e=>e.viewAttribute))})}static definePipe(e,t,s){Object.assign(s,t),s.modelClass=e,K.registerPipe(e)}static defineService(e,t,s){Object.assign(s,t),s.modelClass=e,s.name=e.name,K.registerService(e)}static defineComponent(e,t,s){const r=Object.assign(s,t);if(r.extend=function(e){if(!e||""===e||"none"===e||"child"===e)return c;if(o(e)){const t=customElements.get(e);if(t)return{classRef:t};throw new Error("Custom Element is not defined yet")}for(const t of l)if(t.name===e)return t;return c}(t.extend),r.extendCustomElement=!!t.extend&&o(t.extend),"string"==typeof r.template){if(r.styles){const e=`<style>${r.styles}</style>${r.template}`;r.template=F.toDomRootNode(e)}else r.template=F.toDomRootNode(r.template);St(r.template)}else"object"==typeof r.template?St(r.template):"object"==typeof r.compiledTemplate&&(F.deserializeNode(r.compiledTemplate),(n=r.compiledTemplate)instanceof k?kt(n):Tt(n),r.template=r.compiledTemplate,r.compiledTemplate=void 0);var n,i;if(!r.template&&/template/g.test(r.encapsulation)){const e=document.querySelector("#"+r.selector);e&&e instanceof HTMLTemplateElement&&(r.template=j.parse(e),St(r.template))}if(r.inputs||=Nt.emptyList(),r.outputs||=Nt.emptyList(),r.viewChild||=Nt.emptyList(),r.ViewChildren||=Nt.emptyList(),r.hostBindings||=Nt.emptyList(),r.hostListeners||=Nt.emptyList(),r.encapsulation||="custom",r.isShadowDom=/shadow/g.test(r.encapsulation),r.isShadowDom&&(r.shadowRootInit=Object.assign({},Ct,r.shadowRootInit??{})),r.hostListeners.length||r.hostBindings.length){const t=Nt.parseHostNode({prototype:e.prototype,selector:r.selector,hostBindings:r.hostBindings,hostListeners:r.hostListeners});if(r.viewBindings=t.host,r.windowBindings=t.window,"function"==typeof r.template){const e=r.template;r.template=s=>{const r=e(s);return t.template&&Nt.patchTemplate(r,t.template),r}}else t.template&&Nt.patchTemplate(r.template,t.template)}!0!==r.formAssociated&&"function"!=typeof r.formAssociated&&(r.formAssociated=!1),r.isShadowDom&&r.extend.name&&(r.isShadowDom=!!o(i=r.extend.name)||m.includes(i)),r.modelClass=e,r.viewClass=tt(e,r),K.registerComponent(e),K.registerView(r.viewClass);const a={},h=r.extend?.name;h&&"!"!==h&&-1===h.indexOf("-")&&(a.extends=h),customElements.define(r.selector,r.viewClass,a)}static defineView(e,t){K.registerView(e);const{selector:s,...r}=t;customElements.define(s,e,r)}}async function Ot(e){return fetch(e,{cache:"force-cache"}).then((t=>{if(!t.ok)throw new Error(`fetch ${e}, ${t}`);return t.text()}))}function _t(e){return e.match(/^https?:\/\//g)?Ot(e):Ot(window.location.href+e)}function It(e){return(0,r.jC)(((t,s,r)=>{if(!e&&"string"!=typeof s.name)throw new TypeError(`type ${typeof s.name} of '${s.name.toString()}' is not supported`);if(s.private)throw new SyntaxError(`private members '${s.name.toString()}' is not supported.`);W.addInput(r,s.name,e||s.name)}))}function Pt(){return(0,r.jC)(((e,t,s)=>{if("string"!=typeof t.name)throw new TypeError(`type ${typeof t.name} of '${t.name.toString()}' is not supported`);if(t.private)throw new SyntaxError(`private members '${t.name.toString()}' is not supported.`);W.addInput(s,t.name,"value")}))}function Rt(e,t){const s="object"==typeof e?e.name:e,n="object"==typeof e?e:t;return(0,r.jC)(((e,t,r)=>{if("string"!=typeof t.name)throw new TypeError(`type ${typeof t.name} of '${t.name.toString()}' is not supported`);if(t.private)throw new SyntaxError(`private members '${t.name.toString()}' is not supported.`);W.addOutput(r,t.name,s||t.name,{bubbles:n?.bubbles??!1,composed:n?.composed??!1})}))}function Lt(){return(0,r.jC)(((e,t,s)=>{if("string"!=typeof t.name)throw new TypeError(`type ${typeof t.name} of '${t.name.toString()}' is not supported`);if(t.private)throw new SyntaxError(`private members '${t.name.toString()}' is not supported.`);W.setComponentView(s,t.name)}))}function Dt(e,t){return(0,r.jC)(((s,r,n)=>{if("string"!=typeof r.name)throw new TypeError(`type ${typeof r.name} of '${r.name.toString()}' is not supported`);if(r.private)throw new SyntaxError(`private members '${r.name.toString()}' is not supported.`);W.addViewChild(n,r.name,e,t)}))}function Mt(e){return(0,r.jC)(((t,s,r)=>{if("string"!=typeof s.name)throw new TypeError(`type ${typeof s.name} of '${s.name.toString()}' is not supported`);if(s.private)throw new SyntaxError(`private members '${s.name.toString()}' is not supported.`);W.addViewChildren(r,s.name,e)}))}function Ft(e,t){return(0,r.jC)(((s,r,n)=>{if("string"!=typeof r.name)throw new TypeError(`type ${typeof r.name} of '${r.name.toString()}' is not supported`);t="string"==typeof t?[t]:t,W.addHostListener(n,r.name,e,t||[])}))}function Bt(e){return(0,r.jC)(((t,s,r)=>{if("string"!=typeof s.name)throw new TypeError(`type ${typeof s.name} of '${s.name.toString()}' is not supported`);if(s.private)throw new SyntaxError(`private members '${s.name.toString()}' is not supported.`);W.addHostBinding(r,s.name,e)}))}const jt=(0,r.lv)(((e,t,s,r)=>{Nt.definePipe(t,e,r)})),Ht=(0,r.lv)(((e,t,s,r)=>{Nt.defineDirective(t,e,r)}));function $t(e,t,s){t.templateUrl?function(e){if("string"==typeof e)return _t(e);if("object"==typeof e&&e.meta)return function(e){var t,s;return Ot((t=e.meta?.url,(s=e.filename)?t.substring(0,t.lastIndexOf("/")+1)+s:t.replace(".js",".html")))}(e);if("object"==typeof e&&e.filename)return _t(e.filename);throw new Error("no url provided")}(t.templateUrl).then((r=>{r&&(t.template=r,Nt.defineComponent(e,t,s))})).catch((s=>{console.error(`Error @URL: ${t.templateUrl}, for model Class: ${e.name},\n Reason: ${s}.`)})):Nt.defineComponent(e,t,s)}const Vt=(0,r.lv)(((e,t,s,r)=>{if(Array.isArray(e))for(const s of e)$t(t,s,r);else"object"==typeof e&&$t(t,e,r)}));var Gt;(0,r.lv)(((e,t,s)=>{Nt.defineView(t,e)})),function(e){e.ADD="add",e.REMOVE="remove",e.REPLACE="replace",e.MOVE="move",e.KEEP="keep"}(Gt||(Gt={}));const Jt={op:Gt.REPLACE,root:!0},Ut=new class{diffArray(e,t,s){const r=s?.trackBy,n=(r&&e.map(((e,t)=>r(t,e))))??e,i=(r&&t.map(((e,t)=>r(t,e))))??t,a=[];n.forEach(((e,s)=>{const r=i.indexOf(e),n=-1==r?Gt.REMOVE:s==r?Gt.KEEP:Gt.MOVE;a.push({currentIndex:s,nextIndex:r,op:n,item:t[r]})})),i.forEach(((e,s)=>{-1==n.indexOf(e)&&a.push({currentIndex:-1,nextIndex:s,op:Gt.ADD,item:t[s]})}));const o=new Array(t.length);let c=0;a.forEach((e=>{if(e.ignore)return;let t=e;if(Gt.REMOVE==e.op){const s=a.find((t=>!t.ignore&&t.nextIndex==e.currentIndex));if(s){if(Gt.MOVE==s.op)return void(e.ignore=s.ignore=!0);s.ignore=!0,t={currentIndex:e.currentIndex,nextIndex:s.nextIndex,op:Gt.REPLACE,item:s.item}}}o[c++]=t}));const l=o.filter((e=>!e.ignore&&Gt.REMOVE==e.op)).sort(((e,t)=>t.currentIndex-e.currentIndex)),h=o.filter((e=>!e.ignore&&Gt.REMOVE!=e.op)).sort(((e,t)=>e.nextIndex-t.nextIndex));return l.concat(h)}diffObject(e,t){return[]}diff(e,t,s){return Array.isArray(e)&&Array.isArray(t)?this.diffArray(e,t,s):"object"==typeof e&&"object"==typeof t?this.diffObject(e,t):[Jt]}};(()=>{let e,t,s,r=[Ht({selector:"style"})],n=[],i=de,a=[];(class extends i{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It()],(0,q.xE)(this,null,s,{kind:"setter",name:"style",static:!1,private:!1,access:{has:e=>"style"in e,set:(e,t)=>{e.style=t}},metadata:o},null,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,q.Co)(t,n)}set style(e){if("string"==typeof e){const t=e.split(/\s{0,};\s{0,}/).filter((e=>e));for(const e of t)this._setStyleFromLine(e)}else if(Array.isArray(e)){const t=e.map((e=>e.trim())).filter((e=>e));for(const e of t)this._setStyleFromLine(e)}else if("object"==typeof e)for(var t in e)this._setStyle(t,e[t])}get style(){return this.el.style}_setStyleFromLine(e){let t=e.split(":");const s=t[0].trim();if(1===t.length)return void this._setStyle(s);t=t[1].split("!");const r=t[0].trim(),n=t[1];this._setStyle(s,r,n)}_setStyle(e,t,s){const[r,n]=e.split(".");t=null!=t&&n?`${t}${n}`:t,this.updateStyle(r,t,s)}updateStyle(e,t,s){null!=t?this.el.style.setProperty(e,t,s):this.el.style.removeProperty(e)}constructor(){super(...arguments),(0,q.Co)(this,a)}})})();const zt=new class{get(e,t){return e.contains(t)}set(e,t,s){return s?e.add(t):e.remove(t),!0}};(()=>{let e,t,s,r=[Ht({selector:"class"})],n=[],i=de,a=[];(class extends i{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It("class")],(0,q.xE)(this,null,s,{kind:"setter",name:"class",static:!1,private:!1,access:{has:e=>"class"in e,set:(e,t)=>{e.class=t}},metadata:o},null,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,q.Co)(t,n)}proxy=void(0,q.Co)(this,a);set class(e){if("string"==typeof e){const t=e.split(/[ ]{1,}/);this.updateClassList(t)}else if(Array.isArray(e))this.updateClassList(e);else if("object"==typeof e){const t=Object.keys(e),s=t.filter((t=>e[t])),r=t.filter((t=>!e[t]));this.updateClassList(s,r)}}get class(){return this.proxy??=new Proxy(this.el.classList,zt)}updateClassList(e,t){t&&this.el.classList.remove(...t),e&&this.el.classList.add(...e)}})})();class Wt{$implicit;index;count;constructor(e,t,s){this.$implicit=e,this.index=t,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}update(e){Object.assign(this,e)}}class Kt extends Wt{of;constructor(e,t,s,r){super(e,s,r),this.of=t}}class qt extends Wt{in;constructor(e,t,s,r){super(e,s,r),this.in=t}}const Zt=(e,t)=>t;class Yt extends pe{_forOf;_forTrackBy=Zt;_$implicitTrackBy=(e,t)=>this._forTrackBy(e,t.$implicit);_updateUI(){if(!this._forOf||0==this._forOf.length)return void this.viewContainerRef.clear();const e=new Array(this.viewContainerRef.length);for(let t=0;t<e.length;t++)e[t]=this.viewContainerRef.get(t).context;const t=this._forOf.map(((e,t,s)=>new Kt(e,s,t,s.length)));if(0===e.length)return void t.forEach((e=>{this.viewContainerRef.createEmbeddedView(this.templateRef,{context:e})}));const s=(r=e,n=t,i={trackBy:this._$implicitTrackBy},Ut.diff(r,n,i));var r,n,i;if(0!==s.length)if(Jt===s[0]){const e=t.map((e=>this.viewContainerRef.createEmbeddedView(this.templateRef,{context:e,insert:!1})));this.viewContainerRef.updateViews(e)}else{const t=s.map((t=>({index:t.nextIndex,view:this._getView(t,e)}))).filter((e=>!!e.view)).sort(((e,t)=>e.index-t.index)).map((e=>e.view));t.forEach((e=>e.detectChanges())),this.viewContainerRef.updateViews(t)}}_getView(e,t){if(Gt.REMOVE!==e.op)return Gt.ADD===e.op?this.viewContainerRef.createEmbeddedView(this.templateRef,{context:e.item,index:e.nextIndex}):Gt.KEEP===e.op?(t[e.nextIndex].update(e.item),this.viewContainerRef.get(e.nextIndex)):(t[e.currentIndex].update(e.item),this.viewContainerRef.get(e.currentIndex))}onDestroy(){this.viewContainerRef.clear()}}(()=>{let e,t,s,r,n=[Ht({selector:"*for"})],i=[],a=Yt,o=[];(class extends a{static{t=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;s=[It("of")],r=[It("trackBy")],(0,q.xE)(this,null,s,{kind:"setter",name:"forOf",static:!1,private:!1,access:{has:e=>"forOf"in e,set:(e,t)=>{e.forOf=t}},metadata:c},null,o),(0,q.xE)(this,null,r,{kind:"setter",name:"trackBy",static:!1,private:!1,access:{has:e=>"trackBy"in e,set:(e,t)=>{e.trackBy=t}},metadata:c},null,o),(0,q.xE)(null,e={value:t},n,{kind:"class",name:t.name,metadata:c},null,i),t=e.value,c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),(0,q.Co)(t,i)}set forOf(e){this._forOf=e,this._updateUI()}set trackBy(e){this._forTrackBy="function"==typeof e?e:Zt,this._updateUI()}get trackBy(){return this._forTrackBy}constructor(){super(...arguments),(0,q.Co)(this,o)}})})(),(()=>{let e,t,s,r,n=[Ht({selector:"*forOf"})],i=[],a=Yt,o=[];(class extends a{static{t=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;s=[It("of")],r=[It("trackBy")],(0,q.xE)(this,null,s,{kind:"setter",name:"forOf",static:!1,private:!1,access:{has:e=>"forOf"in e,set:(e,t)=>{e.forOf=t}},metadata:c},null,o),(0,q.xE)(this,null,r,{kind:"setter",name:"trackBy",static:!1,private:!1,access:{has:e=>"trackBy"in e,set:(e,t)=>{e.trackBy=t}},metadata:c},null,o),(0,q.xE)(null,e={value:t},n,{kind:"class",name:t.name,metadata:c},null,i),t=e.value,c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),(0,q.Co)(t,i)}set forOf(e){this._forOf=e,this._updateUI()}set trackBy(e){this._forTrackBy="function"==typeof e?e:Zt,this._updateUI()}get trackBy(){return this._forTrackBy}constructor(){super(...arguments),(0,q.Co)(this,o)}})})(),(()=>{let e,t,s,r=[Ht({selector:"*forAwait"})],n=[],i=pe,a=[];(class extends i{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It("of")],(0,q.xE)(this,null,s,{kind:"setter",name:"forAwait",static:!1,private:!1,access:{has:e=>"forAwait"in e,set:(e,t)=>{e.forAwait=t}},metadata:o},null,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,q.Co)(t,n)}_forAwait=void(0,q.Co)(this,a);set forAwait(e){this._forAwait=e,this._updateUI().then()}async _updateUI(){if(this.viewContainerRef.clear(),!this._forAwait)return;const e=[],t=[];let s=0;for await(const r of this._forAwait){t.push(r);const n=new Kt(r,t,s,t.length),i=this.viewContainerRef.createEmbeddedView(this.templateRef,{context:n});e.forEach((e=>e.count=t.length)),e.push(i.context),s++}}onDestroy(){this.viewContainerRef.clear()}})})(),(()=>{let e,t,s,r=[Ht({selector:"*forIn"})],n=[],i=pe,a=[];(class extends i{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It("in")],(0,q.xE)(this,null,s,{kind:"setter",name:"forIn",static:!1,private:!1,access:{has:e=>"forIn"in e,set:(e,t)=>{e.forIn=t}},metadata:o},null,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,q.Co)(t,n)}_forIn=void(0,q.Co)(this,a);set forIn(e){this._forIn=e,this._updateUI()}_updateUI(){this.viewContainerRef.clear(),this._forIn&&Object.keys(this._forIn).forEach(((e,t,s)=>{const r=new qt(e,s,t,s.length);this.viewContainerRef.createEmbeddedView(this.templateRef,{context:r})}))}onDestroy(){this.viewContainerRef.clear()}})})(),(()=>{let e,t,s,r,n,i=[Ht({selector:"*if"})],a=[],o=pe,c=[];(class extends o{static{t=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;s=[It("if")],r=[It("then")],n=[It("else")],(0,q.xE)(this,null,s,{kind:"setter",name:"ifCondition",static:!1,private:!1,access:{has:e=>"ifCondition"in e,set:(e,t)=>{e.ifCondition=t}},metadata:l},null,c),(0,q.xE)(this,null,r,{kind:"setter",name:"thenTemplateRef",static:!1,private:!1,access:{has:e=>"thenTemplateRef"in e,set:(e,t)=>{e.thenTemplateRef=t}},metadata:l},null,c),(0,q.xE)(this,null,n,{kind:"setter",name:"elseTemplateRef",static:!1,private:!1,access:{has:e=>"elseTemplateRef"in e,set:(e,t)=>{e.elseTemplateRef=t}},metadata:l},null,c),(0,q.xE)(null,e={value:t},i,{kind:"class",name:t.name,metadata:l},null,a),t=e.value,l&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),(0,q.Co)(t,a)}_condition=void(0,q.Co)(this,c);_thenTemplateRef=this.templateRef;_elseTemplateRef;_lastCondition=null;set ifCondition(e){this._condition=e,this._updateUI()}get ifCondition(){return this._condition}set thenTemplateRef(e){this._thenTemplateRef=e,this._condition&&(this._lastCondition=null),this._updateUI()}get thenTemplateRef(){return this._thenTemplateRef}set elseTemplateRef(e){this._elseTemplateRef=e,this._condition||(this._lastCondition=null),this._updateUI()}_updateUI(){this._condition!==this._lastCondition&&(this._lastCondition=this._condition,this.viewContainerRef.clear(),this._condition?this.viewContainerRef.createEmbeddedView(this._thenTemplateRef):this._elseTemplateRef&&this.viewContainerRef.createEmbeddedView(this._elseTemplateRef))}onDestroy(){this.viewContainerRef.clear()}})})();class Xt{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}(()=>{let e,t,s,r=[Ht({selector:"*case"})],n=[],i=pe,a=[];(class extends i{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It("case")],(0,q.xE)(this,null,s,{kind:"setter",name:"caseValue",static:!1,private:!1,access:{has:e=>"caseValue"in e,set:(e,t)=>{e.caseValue=t}},metadata:o},null,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,q.Co)(t,n)}_view=((0,q.Co)(this,a),new Xt(this.viewContainerRef,this.templateRef));_caseValue;set caseValue(e){this._caseValue=e,this.host._updateView()}onInit(){this.host._addCase(this)}getCaseValue(){return this._caseValue}getView(){return this._view}create(){this._view.create()}onDestroy(){this._view.destroy()}})})(),(()=>{let e,t,s,r=[Ht({selector:"*default"})],n=[],i=pe,a=[],o=[];(class extends i{static{t=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It("default")],(0,q.xE)(null,null,s,{kind:"field",name:"defaultCaseValue",static:!1,private:!1,access:{has:e=>"defaultCaseValue"in e,get:e=>e.defaultCaseValue,set:(e,t)=>{e.defaultCaseValue=t}},metadata:c},o,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:c},null,n),t=e.value,c&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),(0,q.Co)(t,n)}defaultCaseValue=((0,q.Co)(this,a),(0,q.Co)(this,o,void 0));onInit(){const e=new Xt(this.viewContainerRef,this.templateRef);this.host._addDefault(e)}})})(),(()=>{let e,t,s,r=[Ht({selector:"*switch"})],n=[],i=pe,a=[];(class extends i{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;s=[It("switch")],(0,q.xE)(this,null,s,{kind:"setter",name:"switchValue",static:!1,private:!1,access:{has:e=>"switchValue"in e,set:(e,t)=>{e.switchValue=t}},metadata:o},null,a),(0,q.xE)(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,n),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,q.Co)(t,n)}_defaultViews=((0,q.Co)(this,a),[]);_casesRef=[];_switchValue;_lastValue;_lastViews;onInit(){this.viewContainerRef.createEmbeddedView(this.templateRef)}set switchValue(e){this._switchValue=e,this._updateView()}onDestroy(){this._lastViews?.forEach((e=>e.destroy())),this.viewContainerRef.clear()}_addCase(e){this._casesRef.push(e),this._updateView()}_addDefault(e){this._defaultViews.push(e),this._updateView()}_updateView(){if(this._lastValue!==this._switchValue){this._lastValue=this._switchValue;let e=this._casesRef.filter((e=>this._switchValue==e.getCaseValue())).map((e=>e.getView()));e.length||(e=this._defaultViews),e.length&&(this._lastViews!=e&&(this._lastViews?.forEach((e=>e.destroy())),e.forEach((e=>e.create()))),this._lastViews=e)}}})})();const Qt=new class{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}onDestroy(e){}},es=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};(()=>{let e,t,s=[jt({name:"async",asynchronous:!0})],r=[],n=ie;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,q.Co)(t,r)}_latestValue=null;_subscription=null;_obj=null;_strategy=null;onDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if(function(e){return!!e&&"function"==typeof e.then}(e))return Qt;if(function(e){return!!e&&"function"==typeof e.subscribe}(e))return es;throw Error(`InvalidPipeArgument: '${i.name}' for pipe '${e}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.changeDetectorRef.markForCheck())}};i=t})(),(()=>{let e,t,s=[jt({name:"chunk"})],r=[];(class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,q.Co)(t,r)}transform(e,t){return null==e?e:"string"==typeof e?this.chunk(e.split(""),t):Array.isArray(e)?this.chunk(e,t):e}chunk(e,t){return Array(Math.ceil(e.length/t)).fill([]).map(((e,s)=>s*t)).map((s=>e.slice(s,s+t)))}})})(),(()=>{let e,t,s=[jt({name:"diff"})],r=[];(class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,q.Co)(t,r)}transform(e,...t){return Array.isArray(e)?t.reduce(((e,t)=>e.filter((e=>!~t.indexOf(e)))),e):e}})})(),(()=>{let e,t,s=[jt({name:"every"})],r=[];(class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,q.Co)(t,r)}transform(e,t){return!!Array.isArray(e)&&e.every(t)}})})(),(()=>{let e,t,s=[jt({name:"slice"})],r=[];var n=class{static{t=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:i},null,r),n=t=e.value,i&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),(0,q.Co)(t,r)}transform(e,t,s){if(null==e)return null;if(!this.supports(e))throw Error(`InvalidPipeArgument: '${e}' of '${n.name}' pipe`);return e.slice(t,s)}supports(e){return"string"==typeof e||Array.isArray(e)}};n=t})(),(()=>{let e,t,s=[jt({name:"rtf",asynchronous:!0})],r=[],n=ie;(class extends n{static{t=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:i},null,r),t=e.value,i&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),(0,q.Co)(t,r)}input;latestInput;intervalId=setInterval((()=>this.update()),1e3);rtf=this.createRTF("en");transform(e,t,s,r){return this.latestInput={date:e,unit:t,lang:s,options:r},this.calcValue()}createRTF(e,t){return new Intl.RelativeTimeFormat(e,t)}getFormatter(){return this.rtf&&this.input?.unit===this.latestInput?.unit&&this.input?.lang===this.latestInput?.lang&&this.input?.options?.style==this.latestInput?.options?.style&&this.input?.options?.numeric===this.latestInput?.options?.numeric&&this.input?.options?.localeMatcher===this.latestInput?.options?.localeMatcher?this.rtf:(this.input=this.latestInput,this.rtf=this.createRTF(this.input.lang,this.input.options))}calcValue(){const e=this.getFormatter(),t=(new Date).getSeconds(),s=this.input.date.getSeconds()-t;return e.format(s,this.input.unit??"seconds")}update(){this.calcValue(),this.changeDetectorRef.markForCheck()}onDestroy(){clearInterval(this.intervalId)}})})(),(()=>{let e,t,s=[jt({name:"json"})],r=[];(class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,q.Co)(t,r)}transform(e,t,s){return JSON.stringify(e,t,s)}})})(),(()=>{let e,t,s=[jt({name:"keyvalue"})],r=[];(class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,q.Co)(t,r)}transform(e,t){let s=[];return e instanceof Map?e.forEach(((e,t)=>s.push({key:t,value:e}))):e instanceof Array?e.forEach(((e,t)=>s.push({key:t,value:e}))):Object.keys(e).forEach((t=>s.push({key:t,value:Reflect.get(e,t)}))),t&&(s=s.sort(t)),s}})})(),(()=>{let e,t,s=[jt({name:"toJson"})],r=[];(class{static{t=this}static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),(0,q.Co)(t,r)}transform(e,t){return JSON.parse(e,t)}})})(),(()=>{let e,t,s=[jt({name:"lowercase"})],r=[];var n=class{static{t=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:i},null,r),n=t=e.value,i&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),(0,q.Co)(t,r)}transform(e){if(null==e)return null;if("string"!=typeof e)throw Error(`InvalidPipeArgument: '${e}' of '${n.name}' pipe`);return e.toLowerCase()}};n=t})(),(()=>{let e,t,s=[jt({name:"uppercase"})],r=[];var n=class{static{t=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:i},null,r),n=t=e.value,i&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),(0,q.Co)(t,r)}transform(e){if(null==e)return null;if("string"!=typeof e)throw Error(`InvalidPipeArgument: '${e}' of '${n.name}' pipe`);return e.toUpperCase()}};n=t})();const ts=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;(()=>{let e,t,s=[jt({name:"titlecase"})],r=[];var n=class{static{t=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,q.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:i},null,r),n=t=e.value,i&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),(0,q.Co)(t,r)}transform(e){if(null==e)return null;if("string"!=typeof e)throw Error(`InvalidPipeArgument: '${e}' of '${n.name}' pipe`);return e.replace(ts,(e=>e[0].toUpperCase()+e.substr(1).toLowerCase()))}};n=t})()},5274:(e,t,s)=>{"use strict";s.d(t,{SF:()=>a,lv:()=>i,jC:()=>o,I6:()=>n}),Symbol.metadata||Object.defineProperty(Symbol,"metadata",{configurable:!1,enumerable:!1,writable:!1,value:Symbol("Symbol.metadata")});const r=new WeakMap,n=new class{contextMap;constructor(e){this.contextMap=e}has(e){return this.contextMap.has(e)}get(e){return this.contextMap.get(e)}getOrCreate(e){if(this.contextMap.has(e))return this.contextMap.get(e);const t=Object.create(null),s=Object.getPrototypeOf(e);if(this.contextMap.has(s)){const e=this.contextMap.get(s);e&&this.clone(t,e)}return this.contextMap.set(e,t),t}clone(e,t){for(const s in t){const r=t[s];Array.isArray(r)?e[s]=[...r]:e[s]=null==r?r:"object"==typeof r?Object.assign(Object.create(null),r):r}}}(r);function i(e){return t=>(s,r)=>{const i=n.getOrCreate(r.metadata);return e?.(t,s,r,i),s}}const a=i();function o(e){return(t,s)=>{const r=n.getOrCreate(s.metadata);e?.(t,s,r)}}},6024:(e,t,s)=>{"use strict";s.d(t,{ZK:()=>x,xb:()=>k,Bo:()=>y,Sj:()=>zt,CD:()=>u,VV:()=>$,iq:()=>Yt,vn:()=>o,cH:()=>c,Eb:()=>n,sX:()=>r,$5:()=>rs,Kq:()=>Kt,WU:()=>re,p1:()=>ne,qd:()=>je,vB:()=>T,p:()=>ps,Ry:()=>ts,Vl:()=>as,Ul:()=>Xt});class r{_ctx;_keys;static for(e,t){return new r(e,t)}static blockScope(e){return new r({},e)}_inners=new Map;constructor(e,t){this._ctx=e,this._keys=t}get(e){return Reflect.get(this._ctx,e)}set(e,t,s){return Reflect.set(this._ctx,e,t)}has(e){return this._keys?.includes(e)??e in this._ctx}delete(e){return Reflect.deleteProperty(this._ctx,e)}getContext(){return this._ctx}getInnerScope(e){const t=this.get(e);let s=this._inners.get(e);return s?(s._ctx=t,s):t&&"object"==typeof t?(s=new(this.getClass())(t,void 0,e,this),this._inners.set(e,s),s):void 0}setInnerScope(e,t){if(t)return this._inners.set(e,t),t;const s=this.get(e);return t=new(this.getClass())(s,void 0,e,this),this._inners.set(e,t),t}getClass(){return r}}class n extends r{static for(e,t){return new n(e,t)}static blockScope(e){return new n({},e)}set(e,t,s){return!1}delete(e){return!1}getClass(){return n}}class i{propertyKey;observer;constructor(e,t){this.propertyKey=e,this.observer=t}pause(){this.observer.pause(this.propertyKey,this)}resume(){this.observer.resume(this.propertyKey,this)}unsubscribe(){this.observer.unsubscribe(this.propertyKey,this)}}class a{_subscribers=new Map;_lock=[];emit(e,t,s){if(this._lock.includes(e))return;const r=this._subscribers.get(e);r&&0!=r.size&&(this._lock.push(e),Array.from(r.values()).forEach((e=>{if(e.enable)try{e.callback(t,s)}catch(e){console.error(e)}})),this._lock.pop()!==e&&console.error("lock error"))}subscribe(e,t){const s=new i(e,this);let r=this._subscribers.get(e);return r||(r=new Map,this._subscribers.set(e,r)),r.set(s,{callback:t,enable:!0}),s}unsubscribe(e,t){t?this._subscribers.get(e)?.delete(t):this._subscribers.delete(e)}pause(e,t){const s=this._subscribers.get(e)?.get(t);s&&(s.enable=!1)}resume(e,t){const s=this._subscribers.get(e)?.get(t);s&&(s.enable=!0)}hasSubscribers(e){return e?(this._subscribers.get(e)?.size??0)>0:this._subscribers.size>0}destroy(){this._subscribers.clear()}}class o extends r{_name;_parent;static for(e,t){return new o(e,t)}static blockScope(e){return new o({},e)}static scopeForThis(e,t){const s=o.for(e,t),n={this:e},i=r.for(n,["this"]);return i.setInnerScope("this",s),i}static readOnlyScopeForThis(e,t){const s=o.for(e,t),r={this:e},i=n.for(r,["this"]);return i.setInnerScope("this",s),i}_clone;_observer=new a;constructor(e,t,s,r){super(e,t),this._name=s,this._parent=r,this._clone=Object.assign({},e)}set(e,t,s){const r=Reflect.get(this._ctx,e),n=Reflect.set(this._ctx,e,t);return n&&this.emit(e,t,r),n}delete(e){const t=Reflect.get(this._ctx,e),s=Reflect.deleteProperty(this._ctx,e);return s&&void 0!==t&&this.emit(e,void 0,t),s}emit(e,t,s){this._observer.emit(e,t,s),this._parent?.emit(this._name,this._ctx)}subscribe(e,t){return this._observer.subscribe(e,t)}unsubscribe(e,t){t&&null!=e?this._observer.unsubscribe(e,t):null!=e?this._observer.unsubscribe(e):this._observer.destroy()}detectChanges(){const e=this._clone,t=this._ctx;!e&&t||e&&!t?this._parent?.emit(this._name,t):((this._keys??this.getPropertyKeys(e,t)).forEach((s=>{const r=e[s],n=t[s],i=typeof n;"object"==typeof r?"object"===i&&r==n?this.getInnerScope(s)?.detectChanges():n!=r&&this.emit(s,n,r):("object"===i||r!=n)&&this.emit(s,n,r)})),this._clone=Object.assign({},this._ctx))}getPropertyKeys(...e){let t=[];return e.forEach((e=>{t.push(...Object.keys(e)),t.push(...Object.getOwnPropertySymbols(e))})),t=Array.from(new Set(t)),t=t.filter((e=>{switch(typeof e){case"string":return!e.startsWith("_");case"symbol":return!e.toString().startsWith("Symbol(_");default:return!1}})),t}getClass(){return o}}class c extends o{static for(e,t){return new c(e,t)}static blockScope(e){return new c({},e)}static scopeForThis(e,t){const s=c.for(e,t),n={this:e},i=r.for(n,["this"]);return i.setInnerScope("this",s),i}static readOnlyScopeForThis(e,t){const s=c.for(e,t),r={this:e},i=n.for(r,["this"]);return i.setInnerScope("this",s),i}static reactiveScopeForThis(e,t){const s=o.for(e,t),n={this:e},i=r.for(n,["this"]);return i.setInnerScope("this",s),i}_attached=!0;_marked={};emit(e,t,s){this._attached?super.emit(e,t,s):this._marked[e]?t==this._marked[e][1]?delete this._marked[e]:this._marked[e][0]=t:this._marked[e]=[t,s]}isAttached(){return this._attached}detach(){this._attached=!1}reattach(){this._attached=!0,this.emitChanges()}emitChanges(e,t){if(e)return super.emit(e,t),void Reflect.deleteProperty(this._marked,e);const s=this._marked;this._marked={};const r=this._keys??this.getPropertyKeys(s);r.forEach((e=>{this._observer.emit(e,s[e][0],s[e][1])})),r.length&&this._parent?.emit(this._name,this._ctx)}detectChanges(){this.detach(),super.detectChanges(),this.reattach()}checkNoChanges(){if(this.detach(),super.detectChanges(),Object.keys(this._marked).length>0)throw new Error("Some Changes had been detected")}getClass(){return c}}class l extends o{constructor(e,t){super(e,t)}importModule(e,t){this._ctx[e]=t._ctx,this._inners.set(e,t),this.detectChanges()}}class h extends l{source;importCallOptions;import;constructor(e,t){super({}),this.source=e,this.importCallOptions=t,this.import=s(1017)(e).then((e=>this.updateContext(e))).then((()=>this._ctx),(()=>this._ctx))}updateContext(e){this._ctx=e,this.detectChanges()}resolveImport(){return this.import}}var u;function p(e){return u.Sloppy===e}function d(e){return u.Strict===e}!function(e){e[e.Sloppy=0]="Sloppy",e[e.Strict=1]="Strict"}(u||(u={}));var m=s(2970);function f(e,t){let s=e;for(const r of t){const t=r.path;let n=s[t];n?s=n:(s=s[t]={},r.computed&&r.computedPath.forEach((t=>f(e,t))))}}class g{static fromJSON(e,t){return t(e)}type;loc;range;constructor(e,t){this.type=this.getClass().type,e&&(this.range=e),t&&(this.loc=t)}getClass(){return this.constructor}toJSON(e){const t=this.toJson(e),s={};return this.range&&(s.range=this.range),this.loc&&(s.loc=this.loc),Object.assign({type:this.type},t,s)}events(){const e=this.dependency(),t={};for(const s of e)f(t,s.dependencyPath());return t}}class y extends g{operator;left;right;static visit(e,t){t(e.getLeft()),t(e.getRight())}constructor(e,t,s,r,n){super(r,n),this.operator=e,this.left=t,this.right=s}getOperator(){return this.operator}getLeft(){return this.left}getRight(){return this.right}set(e,t){throw new Error(`${this.constructor.name}#set() of operator: '${this.operator}' has no implementation.`)}dependency(e){return this.left.dependency(e).concat(this.right.dependency(e))}dependencyPath(e){return this.left.dependencyPath(e).concat(this.right.dependencyPath(e))}toString(){return`${this.left.toString()} ${this.operator} ${this.right.toString()}`}toJson(e){return{operator:this.operator,left:this.left.toJSON(),right:this.right.toJSON()}}}class b{value;constructor(e){this.value=e}getValue(){return this.value}}class S{value;constructor(e){this.value=e}getValue(){return this.value}}class E{value;constructor(e){this.value=e}getValue(){return this.value}}class w{promise;node;declareVariable;constructor(e){this.promise=e}}var v=s(5274);const A=new Map,x=(0,v.lv)(((e,t)=>{t.type=e,A.set(e,t)}));function T(e){const t=A.get(e.type)?.fromJSON;if(t)return t(e,T);throw new Error(`Couldn't find Expression class for name: ${JSON.stringify(e)}.`)}let k=(()=>{let e,t,s=[x("Identifier")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}name;static fromJSON(e){return new i(e.name,e.range,e.loc)}constructor(e,t,s){super(t,s),this.name=e}getName(){return this.name}set(e,t){return e.set(this.name,t)?t:void 0}get(e,t){return t?t[this.name]:e.get(this.name)}findScope(e,t){return t?t.getInnerScope(this.name):(t=e.findScope(this.name)).getInnerScope(this.name)}declareVariable(e,t){return e.declareVariable(this.name,t)}getDeclarationName(){return this.toString()}dependency(e){return[this]}dependencyPath(e){const t=[{computed:!1,path:this.toString()}];return e?[{computed:e,path:this.toString(),computedPath:[t]}]:t}toString(){return String(this.name)}toJson(){return{name:this.name}}};return i=t})(),C=(()=>{let e,t,s=[x("ThisExpression")],r=[],n=k;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}constructor(e,t){super("this",e,t)}toJson(){return{}}};return i=t})(),N=(()=>{let e,t,s=[x("Literal")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}value;static fromJSON(e){return e.bigint?new i(BigInt(e.bigint),e.raw,void 0,e.bigint,e.range,e.loc):e.regex?new i(RegExp(e.regex.pattern,e.regex.flags),e.raw,e.regex,void 0,e.range,e.loc):new i(e.value,e.raw,void 0,void 0,e.range,e.loc)}regex;bigint;raw;constructor(e,t,s,r,n,i){super(n,i),this.value=e,t&&(this.raw=t),s&&(this.regex=s),r&&(this.bigint=r)}getValue(){return this.value}getRegex(){return this.regex}getBigint(){return this.bigint}geRaw(){return this.raw}set(){throw new Error(`${this.constructor.name}#set() has no implementation.`)}get(){return this.value}findScope(e,t){return t?t.getInnerScope(this.value):(t=e.findScope(this.value)).getInnerScope(this.value)}dependency(e){return e?[this]:[]}dependencyPath(e){return e?[{computed:!1,path:this.toString()}]:[]}toString(){return this.raw??String(this.value)}toJson(){return this.bigint?{bigint:this.bigint,raw:this.raw}:this.regex?{regex:{pattern:this.regex?.pattern,flags:this.regex?.flags},raw:this.raw}:{value:this.value,raw:this.raw}}};return i=t})();class O extends Array{raw;constructor(e){super(...e),this.raw=e}}class _ extends g{quasis;expressions;tag;static visit(e,t){e.tag&&t(e.tag),e.expressions.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.quasis=e,this.expressions=t,this.tag=s}getTag(){return this.tag}getExpressions(){return this.expressions}set(e,t){throw new Error("TemplateLiteralExpressionNode#set() has no implementation.")}get(e){const t=this.tag?.get(e)||String.raw,s=new O(this.quasis);return s.raw=s,t(s,...this.expressions.map((t=>t.get(e))))}dependency(e){return this.expressions.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.expressions.flatMap((t=>t.dependencyPath(e)))}toString(){let e=this.tag?.toString()||"";e+="`";let t=0;for(;t<this.quasis.length-1;t++)e+=this.quasis[t],e+="${",e+=this.expressions[t].toString(),e+="}";return e+=this.quasis[t],e+="`",e}toJson(){return{quasis:this.quasis,expressions:this.expressions.map((e=>e.toJSON())),tag:this.tag?.toJSON()}}}let I=(()=>{let e,t,s=[x("TemplateLiteral")],r=[],n=_;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(e.quasis,e.expressions.map(t),e.range,e.loc)}constructor(e,t,s,r){super(e,t,void 0,s,r)}getTag(){}};return i=t})(),P=(()=>{let e,t,s=[x("TaggedTemplateExpression")],r=[],n=_;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.tag),e.quasis,e.expressions.map(t),e.range,e.loc)}constructor(e,t,s,r,n){super(t,s,e,r,n)}getTag(){return super.getTag()}};return i=t})();class R{type;label;constructor(e,t){this.type=e,this.label=t}}class L extends g{label;constructor(e,t,s){super(t,s),this.label=e}getLabel(){this.label}set(e,t){throw new Error("TerminateStatement#set() has no implementation.")}get(e){return new R(this.getType(),this.label?.get(e))}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.getType()}${this.label?` ${this.label.toString()}`:""};`}toJson(){return{label:this.label?.toJSON()}}}let D=(()=>{let e,t,s=[x("BreakStatement")],r=[],n=L;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(e.label?t(e.label):void 0,e.range,e.loc)}static visit(e,t){e.label&&t(e.label)}getType(){return"break"}};return i=t})(),M=(()=>{let e,t,s=[x("ContinueStatement")],r=[],n=L;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(e.label&&t(e.label),e.range,e.loc)}static visit(e,t){e.label&&t(e.label)}getType(){return"continue"}};return i=t})(),F=(()=>{let e,t,s=[x("LabeledStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}label;body;static fromJSON(e,t){return new i(t(e.label),t(e.body),e.range,e.loc)}static visit(e,t){t(e.label),t(e.body)}constructor(e,t,s,r){super(s,r),this.label=e,this.body=t}getLabel(){return this.label}getBody(){return this.body}set(e,t){throw new Error("LabeledStatement#set() not implemented.")}get(e){return this.body.get(e)}dependency(e){return this.body.dependency(e)}dependencyPath(e){return this.body.dependencyPath(e)}toString(){return`${this.label.toString()}:\n${this.body.toString()}`}toJson(){return{label:this.label.toJSON(),body:this.body.toJSON()}}};return i=t})();function B(e){return"function"==typeof e.declareVariable}let j=(()=>{let e,t,s=[x("BlockStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}body;static fromJSON(e,t){return new i(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("BlockStatement#set() has no implementation.")}get(e){const t=e.pushBlockScope();let s;for(const r of this.body){if(s=r.get(e),s instanceof b)return e.clearTo(t),s.value;if(s instanceof R)return s}return e.clearTo(t),s}dependency(e){return this.body.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.body.flatMap((t=>t.dependencyPath(e)))}toString(){return`{\n${this.body.map((e=>({insert:!B(e),string:e.toString()}))).map((e=>`  ${e.string}${e.insert?";":""}`)).join("\n")}\n}`}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})(),H=(()=>{let e,t,s=[x("SpreadElement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("SpreadElement#set() Method has no implementation.")}get(e){const t=this.argument.get(e);Array.isArray(t)?this.spreadFromArray(e,t):Reflect.has(t,Symbol.iterator)&&this.spreadFromIterator(e,t)}spreadFromArray(e,t){let s=e.get("length");t.forEach((t=>e.declareVariable(s++,t)))}spreadFromIterator(e,t){let s=e.get("length");for(;;){const r=t.next();if(r.done)break;e.declareVariable(s++,r.value)}}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`...${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return i=t})(),$=(()=>{let e,t,s=[x("MemberExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}object;property;computed;optional;static fromJSON(e,t){return new i(t(e.object),t(e.property),e.computed,e.optional,e.range,e.loc)}static visit(e,t){t(e.object),t(e.property)}constructor(e,t,s,r=!1,n,i){super(n,i),this.object=e,this.property=t,this.computed=s,this.optional=r}getObject(){return this.object}getProperty(){return this.property}set(e,t){const s=this.object.findScope(e);let r;return this.computed?(r=this.property.get(e),s.set(r,t)):this.property instanceof k?s.set(this.property.getName(),t):(e.pushScope(s),this.property.set(e,t),e.clearTo(s)),t}get(e,t){const s=t??this.object.get(e);if(null==s){if(this.optional)return;throw new TypeError(`Cannot read property '${this.property.toString()}' of ${s}, reading [${this.toString()}]`)}let r;return r=this.computed?s[this.property.get(e)]:this.property.get(e,s),r}findScope(e,t){return t||(t=this.object.findScope(e)),this.property.findScope(e,t)}dependency(e){return[this]}dependencyPath(e){if(this.computed){const t=this.object.dependencyPath(e),s=this.property.dependency(!0).map((e=>e.dependencyPath(!0))),r={computed:!0,path:":"+s.flatMap((e=>e)).map((e=>e.path)).join(":"),computedPath:s.flatMap((e=>e.flatMap((e=>e.computed?e.computedPath:[]))))};return t.concat(r)}return this.object.dependencyPath(e).concat(this.property.dependencyPath(e))}toString(){return this.computed?`${this.object.toString()}${this.optional?"?.":""}[${this.property.toString()}]`:`${this.object.toString()}${this.optional?"?.":"."}${this.property.toString()}`}toJson(){return{object:this.object.toJSON(),property:this.property.toJSON(),computed:this.computed,optional:this.optional}}};return i=t})(),V=(()=>{let e,t,s=[x("CallExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}callee;optional;static fromJSON(e,t){return new i(t(e.callee),e.arguments.map((e=>t(e))),e.optional,e.range,e.loc)}static visit(e,t){t(e.callee),e.arguments.forEach(t)}arguments;constructor(e,t,s=!1,r,n){super(r,n),this.callee=e,this.optional=s,this.arguments=t}getCallee(){return this.callee}getArguments(){return this.arguments}set(e,t){throw new Error("CallExpression#set() has no implementation.")}get(e,t){const s=this.callee.get(e);if(this.optional&&null==s)return;const r=this.getCallParameters(e);return!t&&this.callee instanceof $?t=this.callee.getObject().get(e):!t&&this.callee instanceof k&&(t=e.findScope(this.callee.getName()).getContextProxy?.()),s.apply(t,r)}getCallParameters(e){const t=[];for(const s of this.arguments){if(s instanceof H){const r=e.pushBlockScopeFor(t);s.get(e),e.clearTo(r);break}t.push(s.get(e))}return t}dependency(e){return this.callee.dependency(e).concat(this.arguments.flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.callee.dependencyPath(e).concat(this.arguments.flatMap((t=>t.dependencyPath(e))))}toString(){return`${this.callee.toString()}${this.optional?"?.":""}(${this.arguments.map((e=>e.toString())).join(", ")})`}toJson(){return{callee:this.callee.toJSON(),arguments:this.arguments.map((e=>e.toJSON())),optional:this.optional}}};return i=t})();const G=Symbol("TempClassName"),J=Symbol("#");class U{staticInitializer={};staticPrivateInitializer={};staticInitializerBlock=[];instanceConstructor;superParameterResolver=e=>e;instanceMethod={};privateInstanceMethod={};instanceInitializer=[];addStaticInitializer(e,t){Reflect.set(this.staticInitializer,e,t)}addStaticPrivateInitializer(e,t){Reflect.set(this.staticPrivateInitializer,e,t)}addStaticInitializerBlock(e){this.staticInitializerBlock.push(e)}setConstructor(e){this.instanceConstructor=e}setParameterResolver(e){this.superParameterResolver=e}addInstanceMethod(e,t){Reflect.set(this.instanceMethod,e,t)}addPrivateInstanceMethod(e,t){Reflect.set(this.privateInstanceMethod,e,t)}addInstanceInitializer(e){this.instanceInitializer.push(e)}initClass(e){Object.defineProperties(e,this.staticInitializer),Object.defineProperties(e[J],this.staticPrivateInitializer),Object.defineProperties(e.prototype,this.instanceMethod),this.staticInitializerBlock.forEach((e=>e()))}getSuperArguments(e){return this.superParameterResolver(e)}initInstance(e){Object.defineProperties(e[J],this.privateInstanceMethod),this.instanceInitializer.forEach((t=>{const s=t();(s.isPrivate?e[J]:e)[s.key]=s.value})),this.instanceConstructor?.apply(e)}}let z=(()=>{let e,t,s=[x("Super")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}constructor(e,t){super(e,t)}set(e,t){throw new Error("Super.#set() Method not implemented.")}get(e,t){return e.get("super")}dependency(e){throw new Error("Super.#dependency() Method not implemented.")}dependencyPath(e){throw new Error("Super.#dependencyPath() Method not implemented.")}toString(){return"super"}toJson(){return{}}};return i=t})(),W=(()=>{let e,t,s=[x("MetaProperty")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}meta;property;static fromJSON(e,t){return new i(t(e.meta),t(e.property),e.range,e.loc)}static visit(e,t){t(e.meta),t(e.property)}constructor(e,t,s,r){super(s,r),this.meta=e,this.property=t}getMeta(){return this.meta}getProperty(){return this.property}get(e){const t=this.meta.get(e);if(null==t)throw new TypeError(`Cannot read meta property '${this.property.toString()}' of ${t}, reading [${this.toString()}]`);return this.property.get(e,t)}set(e,t){throw new Error("MetaProperty#set() has no implementation.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.meta.toString()}.${this.property.toString()}`}toJson(){return{meta:this.meta.toJSON(),property:this.property.toJSON()}}};return i=t})(),K=(()=>{let e,t,s=[x("PrivateIdentifier")],r=[],n=k;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e){return new i(e.name,e.range,e.loc)}get(e,t){return t[J][this.name]}set(e,t){return e.lastScope().getContext()[J][this.name]=t}toString(){return`#${this.name}`}};return i=t})(),q=(()=>{let e,t,s=[x("StaticBlock")],r=[],n=j;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.body),e.range,e.loc)}get(e,t){t?.addStaticInitializerBlock(super.get(e))}toString(){return`static ${super.toString()}`}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})();class Z extends g{key;decorators;computed;value;static;constructor(e,t,s,r,n,i,a){super(i,a),this.key=e,this.decorators=t,this.computed=s,this.value=n,this.static=r}getKey(){return this.key}getValue(){return this.value}isComputed(){return this.computed}isStatic(){return this.static}isPrivate(){return this.key instanceof K}getDecorators(){return this.decorators}set(e,t){throw new Error("AbstractDefinition.#set() Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}getKeyName(e){return this.computed?this.key.get(e):this.key instanceof k?this.key.getName():this.key.toString()}}let Y=(()=>{let e,t,s=[x("MethodDefinition")],r=[],n=Z;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}kind;static fromJSON(e,t){return new i(e.kind,t(e.key),t(e.value),e.decorators.map(t),e.computed,e.static,e.range,e.loc)}static visit(e,t){t(e.key),t(e.value),e.decorators.forEach(t)}afterInstanceConstruct;constructor(e,t,s,r,n,i,a,o){super(t,r,n,i,s,a,o),this.kind=e}getKind(){return this.kind}getValue(){return this.value}get(e,t){if("constructor"===this.kind)return void this.initConstructor(e,t);const s=this.getKeyName(e),r=this.value?.get(e),n=this.getPropertyAttributes(r);this.isStatic()&&this.isPrivate()?t.addStaticPrivateInitializer(s,n):this.isStatic()?t.addStaticInitializer(s,n):this.isPrivate()?t.addPrivateInstanceMethod(s,n):t.addInstanceMethod(s,n)}getPropertyAttributes(e){switch(this.kind){case"set":return{writable:!0,configurable:!0,enumerable:!1,set:e};case"get":return{writable:!0,configurable:!0,enumerable:!1,get:e};default:return{writable:!0,configurable:!0,enumerable:!1,value:e}}}initConstructor(e,t){const s=this.value.getBody().getBody();let r=s.findIndex((e=>e instanceof V&&e.getCallee()instanceof z));const n=new j(s.slice(r+1));if(t.setConstructor((function(t){const s=e.pushBlockScope();n.get(e),e.clearTo(s)})),r>=0){const n=new j(s.slice(0,r)),i=s[r],a=this;t.setParameterResolver((function(t){const s=e.pushBlockScope();a.value.defineFunctionArguments(e,t),n.get(e);const r=i.getCallParameters(e);return e.clearTo(s),r}))}}toString(){let e=this.decorators.map((e=>e.toString())).join(" ");e.length&&(e+=" "),this.static&&(e+="static ");const t=this.key.toString();switch(this.kind){case"get":e+="get "+t;break;case"set":e+="set "+t;break;case"method":this.value.getAsync()&&this.value.getGenerator()?e+="async *":this.value.getAsync()?e+="async ":this.value.getGenerator()&&(e+="*"),e+=t;break;case"constructor":e+="constructor"}return e+=this.value.paramsAndBodyToString(),e}toJson(){return{kind:this.kind,key:this.key.toJSON(),value:this.value.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static}}};return i=t})(),X=(()=>{let e,t,s=[x("PropertyDefinition")],r=[],n=Z;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.key),e.decorators.map(t),e.computed,e.static,e.value&&t(e.value),e.range,e.loc)}static visit(e,t){t(e.key),e.value&&t(e.value)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e,t){const s=this.getKeyName(e);if(!this.isStatic())return void t.addInstanceInitializer((()=>({isPrivate:this.isPrivate(),key:s,value:this.value?.get(e)})));const r=this.value?.get(e),n={writable:!0,configurable:!0,enumerable:!0,value:r};this.isPrivate()?t.addStaticPrivateInitializer(s,n):t.addStaticInitializer(s,n)}toString(){const e=this.decorators.map((e=>e.toString())).join("\n"),t=this.computed?`[${this.key.toString()}]`:this.key.toString();return`${e.length?e+" ":""}${this.static?"static ":""}${t}${this.value?` = ${this.value.toString()}`:""};`}toJson(){return{key:this.key.toJSON(),value:this.value?.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static}}};return i=t})(),Q=((()=>{let e,t,s=[x("AccessorProperty")],r=[],n=Z;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.key),e.decorators.map(t),e.computed,e.static,e.value?t(e.value):void 0,e.range,e.loc)}static visit(e,t){t(e.key),e.value&&t(e.value),e.decorators.forEach(t)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e,t){const s=this.getKeyName(e),r={writable:!1,configurable:!0,enumerable:!1,set:function(e){this[J][s]=e},get:function(){return this[J][s]}};if(!this.isStatic())return t.addInstanceInitializer((()=>({isPrivate:!0,key:s,value:this.value?.get(e)}))),void t.addInstanceMethod(s,r);const n=this.value?.get(e),i={writable:!0,configurable:!0,enumerable:!0,value:n};t.addStaticInitializer(s,r),t.addStaticPrivateInitializer(s,i)}toString(){const e=this.decorators.map((e=>e.toString())).join("\n"),t=this.computed?`[${this.key.toString()}]`:this.key.toString();return`${e.length?e.concat(" "):""}${this.static?"static ":""}accessor ${t}${this.value?` = ${this.value.toString()}`:""};`}toJson(){return{key:this.key.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static,value:this.value?.toJSON()}}};i=t})(),(()=>{let e,t,s=[x("ClassBody")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}body;static fromJSON(e,t){return new i(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("Method not implemented.")}get(e,t){this.body.forEach((s=>s.get(e,t)))}dependency(e){throw new Error("Method not implemented.")}dependencyPath(e){throw new Error("Method not implemented.")}toString(){return this.body.map((e=>`\t${e.toString()}`)).join("\n")}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})());class ee extends g{body;decorators;id;superClass;constructor(e,t,s,r,n,i){super(n,i),this.body=e,this.decorators=t,this.id=s,this.superClass=r}getBody(){return this.body}getDecorators(){return this.decorators}getId(){return this.id}getSuperClass(){return this.superClass}set(e){throw new Error("Class.#set() has no implementation.")}get(e){e=e.copyStack();const t=this.id?.getName()??G,s=this.superClass?.get(e)??class{},r=new U,n=this.createClass(s,t,r);return e.pushBlockScopeFor({this:n,super:s}),this.body.get(e,r),r.initClass(n),n}createClass(e,t,s){return{[t]:class extends e{static[Symbol.toStringTag]=t;static[J]={};[J]={};constructor(...e){super(...s.getSuperArguments(e)),s.initInstance(this)}}}[t]}dependency(e){throw new Error("Method not implemented.")}dependencyPath(e){throw new Error("Method not implemented.")}toString(){const e=this.decorators.map((e=>e.toString())).join("\n");let t="class ";return this.id&&(t+=this.id.toString()),this.superClass&&(t+=" extends "+this.superClass.toString()),`${e}${t} {\n${this.body.toString()}\n}`}toJson(){return{body:this.body.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),id:this.id?.toJSON(),superClass:this.superClass?.toJSON()}}}let te=(()=>{let e,t,s=[x("ClassDeclaration")],r=[],n=ee;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.body),e.decorators.map(t),t(e.id),e.superClass&&t(e.superClass),e.range,e.loc)}static visit(e,t){t(e.body),e.decorators.forEach(t),t(e.id),e.superClass&&t(e.superClass)}constructor(e,t,s,r,n,i){super(e,t,s,r,n,i)}declareVariable(e,t){e.declareVariable(this.id.getName(),t)}getDeclarationName(){return this.id.getDeclarationName()}get(e){const t=super.get(e);return this.id.declareVariable(e,t),t}};return i=t})(),se=(()=>{let e,t,s=[x("ClassExpression")],r=[],n=ee;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.body),e.decorators.map(t),e.id&&t(e.id),e.superClass&&t(e.superClass),e.range,e.loc)}static visit(e,t){t(e.body),e.decorators.forEach(t),e.id&&t(e.id),e.superClass&&t(e.superClass)}constructor(e,t,s,r,n,i){super(e,t,s,r,n,i)}};return i=t})();class re{name;precedence;static CONDITIONAL=new re("?",3);static NULLISH=new re("??",3);static PIPELINE=new re("|>",3);static OR=new re("||",4);static AND=new re("&&",5);static BIT_OR=new re("|",6);static BIT_XOR=new re("^",7);static BIT_AND=new re("&",8);static SHL=new re("<<",11);static SAR=new re(">>",11);static SHR=new re(">>>",11);static MUL=new re("*",13);static DIV=new re("/",13);static MOD=new re("%",13);static MODULO=new re("%%",13);static LARGER=new re(">?",13);static SMALLER=new re("<?",13);static EXP=new re("**",14);static ADD=new re("+",12);static SUB=new re("-",12);static NOT=new re("!",0);static BIT_NOT=new re("~",0);static LT=new re("<",10);static GT=new re(">",10);static INC=new re("++",0);static DEC=new re("--",0);static EQ=new re("==",9);static EQ_STRICT=new re("===",9);static NE=new re("!=",9);static NE_STRICT=new re("!==",9);static LTE=new re("<=",10);static GTE=new re(">=",10);static SPACESHIP=new re("<=>",10);static ASSIGN=new re("=",2);static ADD_ASSIGN=new re("+=",2);static SUB_ASSIGN=new re("-=",2);static MUL_ASSIGN=new re("*=",2);static DIV_ASSIGN=new re("/=",2);static MOD_ASSIGN=new re("%=",2);static MODULO_ASSIGN=new re("%%=",2);static LARGER_ASSIGN=new re(">?=",2);static SMALLER_ASSIGN=new re("<?=",2);static EXP_ASSIGN=new re("**=",2);static BIT_XOR_ASSIGN=new re("^=",2);static BIT_AND_ASSIGN=new re("&=",2);static BIT_OR_ASSIGN=new re("|=",2);static AND_ASSIGN=new re("&&=",2);static OR_ASSIGN=new re("||=",2);static NULLISH_ASSIGN=new re("??=",2);static SHL_ASSIGN=new re("<<=",2);static SAR_ASSIGN=new re(">>=",2);static SHR_ASSIGN=new re(">>>=",2);static PERIOD=new re(".",0);static QUESTION_PERIOD=new re("?.",0);static BIND=new re("::",0);static QUESTION_BIND=new re("?::",0);static LPAREN=new re("(",0);static RPAREN=new re(")",0);static LBRACK=new re("[",0);static RBRACK=new re("]",0);static LBRACE=new re("{",0);static RBRACE=new re("}",0);static COLON=new re(":",0);static ELLIPSIS=new re("...",0);static SEMICOLON=new re(";",0);static EOS=new re("EOS",0);static ARROW=new re("=>",0);static COMMA=new re(",",1);static ASYNC=new re("async",0);static AWAIT=new re("await",0);static BREAK=new re("break",0);static CASE=new re("case",0);static CATCH=new re("catch",0);static CLASS=new re("class",0);static CONST=new re("const",0);static CONTINUE=new re("continue",0);static DEBUGGER=new re("debugger",0);static DEFAULT=new re("default",0);static DELETE=new re("delete",0);static DO=new re("do",0);static ELSE=new re("else",0);static ENUM=new re("enum",0);static EXPORT=new re("export",0);static EXTENDS=new re("extends",0);static FALSE_LITERAL=new re("false",0);static FINALLY=new re("finally",0);static FOR=new re("for",0);static FUNCTION=new re("function",0);static GET=new re("get",0);static IF=new re("if",0);static IMPLEMENTS=new re("implements",0);static IMPORT=new re("import",0);static PRIVATE_NAME=new re("PRIVATE_NAME",0);static IN=new re("in",10);static INSTANCEOF=new re("instanceof",10);static LET=new re("let",0);static NEW=new re("new",0);static NULL_LITERAL=new re("null",0);static UNDEFINED_LITERAL=new re("undefined",0);static PACKAGE=new re("package",0);static INTERFACE=new re("interface",0);static PRIVATE=new re("private",0);static PROTECTED=new re("protected",0);static PUBLIC=new re("public",0);static RETURN=new re("return",0);static SET=new re("set",0);static STATIC=new re("static",0);static SUPER=new re("super",0);static SWITCH=new re("switch",0);static THIS=new re("this",0);static THROW=new re("throw",0);static TRUE_LITERAL=new re("true",0);static TRY=new re("try",0);static TYPEOF=new re("typeof",0);static VAR=new re("var",0);static VOID=new re("void",0);static WHILE=new re("while",0);static WITH=new re("with",0);static YIELD=new re("yield",0);static NUMBER=new re("NUMBER",0);static BIGINT=new re("BIGINT",0);static STRING=new re("STRING",0);static IDENTIFIER=new re("IDENTIFIER",0);static TEMPLATE_SPAN=new re("TEMPLATE_SPAN",0);static TEMPLATE_TAIL=new re("TEMPLATE_TAIL",0);static ILLEGAL=new re("ILLEGAL",0);static ESCAPED_KEYWORD=new re("ESCAPED_KEYWORD",0);static WHITESPACE=new re("WHITESPACE",0);static REGEXP_LITERAL=new re("REGEXP_LITERAL",0);static isPair(e){switch(e){case re.LPAREN:case re.LBRACK:case re.LBRACE:case re.RBRACE:case re.RBRACK:case re.RPAREN:return!0;default:return!1}}static isOpenPair(e){switch(e){case re.LPAREN:case re.LBRACK:case re.LBRACE:return!0;default:return!1}}static isClosePair(e){switch(e){case re.RBRACE:case re.RBRACK:case re.RPAREN:return!0;default:return!1}}static openOf(e){switch(e){case re.RBRACE:return re.LBRACE;case re.RBRACK:return re.LBRACK;case re.RPAREN:return re.LPAREN}return e}static closeOf(e){switch(e){case re.LBRACE:return re.RBRACE;case re.LBRACK:return re.RBRACK;case re.LPAREN:return re.RPAREN}return e}static isAnyIdentifier(e){switch(e){case re.IDENTIFIER:case re.GET:case re.SET:case re.ASYNC:case re.AWAIT:case re.YIELD:case re.LET:case re.STATIC:return!0}return!1}static isIdentifier(e){switch(e){case re.IDENTIFIER:case re.GET:case re.SET:case re.ASYNC:return!0}return!1}static isLiteral(e){switch(e){case re.UNDEFINED_LITERAL:case re.NULL_LITERAL:case re.TRUE_LITERAL:case re.FALSE_LITERAL:case re.NUMBER:case re.BIGINT:case re.STRING:case re.REGEXP_LITERAL:return!0}return!1}static isArrowOrAssignmentOp(e){return e===re.ARROW||this.isAssignment(e)}static isAssignment(e){switch(e){case re.ASSIGN:case re.ADD_ASSIGN:case re.SUB_ASSIGN:case re.MUL_ASSIGN:case re.DIV_ASSIGN:case re.MOD_ASSIGN:case re.MODULO_ASSIGN:case re.EXP_ASSIGN:case re.BIT_XOR_ASSIGN:case re.BIT_AND_ASSIGN:case re.BIT_OR_ASSIGN:case re.AND_ASSIGN:case re.OR_ASSIGN:case re.NULLISH_ASSIGN:case re.SHL_ASSIGN:case re.SAR_ASSIGN:case re.SHR_ASSIGN:return!0}return!1}static isLogicalAssignmentOp(e){switch(e){case re.AND_ASSIGN:case re.OR_ASSIGN:case re.NULLISH_ASSIGN:return!0}return!1}static isAutoSemicolon(e){switch(e){case re.SEMICOLON:case re.RBRACE:case re.EOS:return!0}return!1}static isMember(e){switch(e){case re.TEMPLATE_SPAN:case re.TEMPLATE_TAIL:case re.PERIOD:case re.LBRACK:return!0}return!1}static isTemplate(e){switch(e){case re.TEMPLATE_SPAN:case re.TEMPLATE_TAIL:return!0}return!1}static isNextLetKeyword(e){switch(e){case re.LBRACE:case re.LBRACK:case re.IDENTIFIER:case re.STATIC:case re.LET:case re.YIELD:case re.AWAIT:case re.GET:case re.SET:case re.ASYNC:return!0;default:return!1}}static isInRangeIdentifierAndAsync(e){switch(e){case re.IDENTIFIER:case re.GET:case re.SET:case re.ASYNC:return!0;default:return!1}}static isPropertyOrCall(e){switch(e){case re.TEMPLATE_SPAN:case re.TEMPLATE_TAIL:case re.PERIOD:case re.LBRACK:case re.QUESTION_PERIOD:case re.LPAREN:return!0}return!1}static isPropertyName(e){return/\w/.test(e.getName())}static isInRange(e,t,s){return e>=t.precedence&&e<=s.precedence}static isProperty(e){return e instanceof re&&(e=e.precedence),re.isInRange(e,re.PERIOD,re.LBRACK)}static isBinary(e){return e instanceof re&&(e=e.precedence),re.isInRange(e,re.COMMA,re.SUB)}static isCompare(e){switch(e){case re.EQ:case re.EQ_STRICT:case re.NE:case re.NE_STRICT:case re.LT:case re.GT:case re.LTE:case re.GTE:case re.SPACESHIP:case re.INSTANCEOF:case re.IN:return!0}return!1}static isOrderedRelationalCompare(e){switch(e){case re.LT:case re.GT:case re.LTE:case re.GTE:case re.SPACESHIP:return!0}return!1}static isEquality(e){switch(e){case re.EQ:case re.EQ_STRICT:return!0}return!1}static binaryOpForAssignment(e){if(re.isInRange(e.precedence,re.NULLISH_ASSIGN,re.SUB_ASSIGN)){const t=e.precedence-re.NULLISH_ASSIGN.precedence+re.NULLISH.precedence;return re.isBinary(t)}return!1}static isBitOp(e){switch(e){case re.BIT_NOT:case re.BIT_OR:case re.BIT_XOR:case re.BIT_AND:case re.SHL:case re.SAR:case re.SHR:return!0}return!1}static isUnary(e){switch(e){case re.ADD:case re.SUB:case re.NOT:case re.BIT_NOT:case re.DELETE:case re.AWAIT:case re.TYPEOF:case re.VOID:return!0}return!1}static isCount(e){switch(e){case re.INC:case re.DEC:return!0}return!1}static isUnaryOrCount(e){switch(e){case re.ADD:case re.SUB:case re.INC:case re.DEC:case re.NOT:case re.BIT_NOT:case re.DELETE:case re.AWAIT:case re.TYPEOF:case re.VOID:return!0}return!1}static isShift(e){switch(e){case re.SHL:case re.SAR:case re.SHR:return!0}return!1}static isStrictReservedWord(e){switch(e){case re.IMPLEMENTS:case re.INTERFACE:case re.LET:case re.PACKAGE:case re.PRIVATE:case re.PROTECTED:case re.PUBLIC:case re.STATIC:return!0}return!1}static isPipelineOperator(e){return e===re.PIPELINE}static isValidIdentifier(e,t,s,r){return!!re.isInRangeIdentifierAndAsync(e)||(e==re.AWAIT?!r:e==re.YIELD?!s:re.isStrictReservedWord(e)&&p(t))}static precedence(e,t){return t||re.IN!==e?e.getPrecedence():0}constructor(e,t){this.name=e,this.precedence=t}getName(){return this.name}getPrecedence(){return this.precedence}equal(e){return this===e||this.name===e.name}}class ne{token;range;value;constructor(e,t,s){this.token=e,this.range=t,this.value=s}getValue(){return this.value}isType(e){return this.token===e}isNotType(e){return this.token!==e}test(e){return e(this.token,this.value)}toString(){return JSON.stringify(this)}}function ie(e,t,s){return e>=t&&e<=s}var ae,oe,ce,le,he,ue,pe;function de(e){return e===oe.AccessorGetter||e===oe.AccessorSetter}!function(e){e[e.CertainlyNotArrowHead=0]="CertainlyNotArrowHead",e[e.MaybeArrowHead=1]="MaybeArrowHead",e[e.AsyncArrowFunction=2]="AsyncArrowFunction"}(ae||(ae={})),function(e){e[e.Value=0]="Value",e[e.Shorthand=1]="Shorthand",e[e.ShorthandOrClassField=2]="ShorthandOrClassField",e[e.Assign=3]="Assign",e[e.Method=4]="Method",e[e.ClassField=5]="ClassField",e[e.AccessorGetter=6]="AccessorGetter",e[e.AccessorSetter=7]="AccessorSetter",e[e.Spread=8]="Spread",e[e.NotSet=9]="NotSet"}(oe||(oe={})),function(e){e[e.ObjectLiteral=0]="ObjectLiteral",e[e.ClassLiteral=1]="ClassLiteral"}(ce||(ce={}));class me{name;position=ce.ClassLiteral;funcFlag=ue.IsNormal;kind=oe.NotSet;isComputedName=!1;isPrivate=!1;isStatic=!1;isRest=!1;rangeStart;parsePropertyKindFromToken(e){switch(e){case re.COLON:return this.kind=oe.Value,!0;case re.COMMA:return this.kind=oe.Shorthand,!0;case re.RBRACE:return this.kind=oe.ShorthandOrClassField,!0;case re.ASSIGN:return this.kind=oe.Assign,!0;case re.LPAREN:return this.kind=oe.Method,!0;case re.MUL:case re.SEMICOLON:return this.kind=oe.ClassField,!0}return!1}}!function(e){e[e.NullIdentifier=0]="NullIdentifier",e[e.UnknownIdentifier=1]="UnknownIdentifier",e[e.EvalIdentifier=2]="EvalIdentifier",e[e.ArgumentsIdentifier=3]="ArgumentsIdentifier",e[e.ConstructorIdentifier=4]="ConstructorIdentifier",e[e.AwaitIdentifier=5]="AwaitIdentifier",e[e.AsyncIdentifier=6]="AsyncIdentifier",e[e.NameIdentifier=7]="NameIdentifier",e[e.PrivateNameIdentifier=8]="PrivateNameIdentifier"}(le||(le={})),function(e){e[e.EXPRESSION=0]="EXPRESSION",e[e.BLOCK=1]="BLOCK"}(he||(he={})),function(e){e[e.IsNormal=0]="IsNormal",e[e.IsGenerator=1]="IsGenerator",e[e.IsAsync=2]="IsAsync"}(ue||(ue={})),function(e){e[e.NormalFunction=0]="NormalFunction",e[e.Module=1]="Module",e[e.AsyncModule=2]="AsyncModule",e[e.BaseConstructor=3]="BaseConstructor",e[e.DefaultBaseConstructor=4]="DefaultBaseConstructor",e[e.DefaultDerivedConstructor=5]="DefaultDerivedConstructor",e[e.DerivedConstructor=6]="DerivedConstructor",e[e.GetterFunction=7]="GetterFunction",e[e.StaticGetterFunction=8]="StaticGetterFunction",e[e.SetterFunction=9]="SetterFunction",e[e.StaticSetterFunction=10]="StaticSetterFunction",e[e.ArrowFunction=11]="ArrowFunction",e[e.AsyncArrowFunction=12]="AsyncArrowFunction",e[e.AsyncFunction=13]="AsyncFunction",e[e.AsyncConciseMethod=14]="AsyncConciseMethod",e[e.StaticAsyncConciseMethod=15]="StaticAsyncConciseMethod",e[e.AsyncConciseGeneratorMethod=16]="AsyncConciseGeneratorMethod",e[e.StaticAsyncConciseGeneratorMethod=17]="StaticAsyncConciseGeneratorMethod",e[e.AsyncGeneratorFunction=18]="AsyncGeneratorFunction",e[e.GeneratorFunction=19]="GeneratorFunction",e[e.ConciseGeneratorMethod=20]="ConciseGeneratorMethod",e[e.StaticConciseGeneratorMethod=21]="StaticConciseGeneratorMethod",e[e.ConciseMethod=22]="ConciseMethod",e[e.StaticConciseMethod=23]="StaticConciseMethod",e[e.ClassMembersInitializerFunction=24]="ClassMembersInitializerFunction",e[e.ClassStaticInitializerFunction=25]="ClassStaticInitializerFunction",e[e.Invalid=26]="Invalid",e[e.LastFunctionKind=25]="LastFunctionKind"}(pe||(pe={}));const fe=[[[pe.NormalFunction,pe.AsyncFunction],[pe.GeneratorFunction,pe.AsyncGeneratorFunction]],[[pe.ConciseMethod,pe.AsyncConciseMethod],[pe.ConciseGeneratorMethod,pe.AsyncConciseGeneratorMethod]],[[pe.StaticConciseMethod,pe.StaticAsyncConciseMethod],[pe.StaticConciseGeneratorMethod,pe.StaticAsyncConciseGeneratorMethod]]];var ge,ye,be,Se,Ee,we,ve,Ae,xe;function Te(e){return ie(e,pe.Module,pe.AsyncModule)}function ke(e){return ie(e,pe.AsyncConciseGeneratorMethod,pe.AsyncGeneratorFunction)}function Ce(e){return ie(e,pe.AsyncConciseGeneratorMethod,pe.StaticConciseGeneratorMethod)}function Ne(e){return ie(e,pe.AsyncArrowFunction,pe.AsyncGeneratorFunction)}function Oe(e){return!Te(e)&&(Ne(e)||e==pe.ClassStaticInitializerFunction)}!function(e){e[e.NormalFunction=0]="NormalFunction",e[e.NonStaticMethod=1]="NonStaticMethod",e[e.StaticMethod=2]="StaticMethod"}(ge||(ge={})),function(e){e[e.NotStatic=0]="NotStatic",e[e.Static=1]="Static"}(ye||(ye={})),function(e){e[e.AnonymousExpression=0]="AnonymousExpression",e[e.NamedExpression=1]="NamedExpression",e[e.Declaration=2]="Declaration",e[e.AccessorOrMethod=3]="AccessorOrMethod",e[e.Wrapped=4]="Wrapped",e[e.LastFunctionSyntaxKind=4]="LastFunctionSyntaxKind"}(be||(be={})),function(e){e.FunctionNameIsStrictReserved="FunctionNameIsStrictReserved",e.SkipFunctionNameCheck="SkipFunctionNameCheck",e.FunctionNameValidityUnknown="FunctionNameValidityUnknown"}(Se||(Se={})),function(e){e.CONSTANT="CONSTANT",e.COMPUTED="COMPUTED",e.MATERIALIZED_LITERAL="MATERIALIZED_LITERAL",e.GETTER="GETTER",e.SETTER="SETTER",e.PROTOTYPE="PROTOTYPE",e.SPREAD="SPREAD"}(Ee||(Ee={})),function(e){e.METHOD="METHOD",e.GETTER="GETTER",e.SETTER="SETTER",e.FIELD="FIELD"}(we||(we={}));class _e{static Kind=we}function Ie(e){switch(e){case oe.AccessorGetter:return we.GETTER;case oe.AccessorSetter:return we.SETTER;case oe.Method:return we.METHOD;case oe.ClassField:return we.FIELD}throw new Error(`unexpected property kind: ${e}`)}!function(e){e.Const="Const",e.PrivateMethod="PrivateMethod",e.PrivateGetterOnly="PrivateGetterOnly",e.PrivateSetterOnly="PrivateSetterOnly"}(ve||(ve={})),function(e){e[e.StatementListItem=0]="StatementListItem",e[e.Statement=1]="Statement",e[e.ForStatement=2]="ForStatement"}(Ae||(Ae={})),function(e){e[e.AllowLabelledFunctionStatement=0]="AllowLabelledFunctionStatement",e[e.DisallowLabelledFunctionStatement=1]="DisallowLabelledFunctionStatement"}(xe||(xe={}));let Pe=(()=>{let e,t,s=[x("EmptyStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}constructor(e,t){super(e,t)}set(e,t){throw new Error("EmptyStatement#set() has no implementation.")}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return";"}toJson(){return{}}};return i=t})(),Re=(()=>{let e,t,s=[x("DebuggerStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e){return new i(e.range,e.loc)}set(e,t){throw new Error("DebuggerStatement#set() has no implementation.")}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return"debugger"}toJson(){return{}}};return i=t})();const Le=["200b","200c","200d","feff"],De=/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/,Me=/[_$a-zA-Z\xA0-\uFFFF]/,Fe=/[_$a-zA-Z0-9\xA0-\uFFFF]/;class Be{string;range;constructor(e,t){this.string=e,this.range=t}}class je{mode;static getTokenStream(e,t){if(Array.isArray(e))return new He(e,t);if("string"==typeof e)return new $e(e,t);throw new Error(`Can't build token stream for ${e}`)}pos=0;savedPosition=0;current;savedCurrent;last;constructor(e=u.Strict){this.mode=e}setLanguageMode(e){this.mode=e}getLanguageMode(){return this.mode}save(){this.savedPosition=this.pos,this.savedCurrent=this.current}restore(){this.pos=this.savedPosition,this.current=this.savedCurrent,this.last=void 0}reset(){this.pos=0,this.savedPosition=0,this.current=this.savedCurrent=void 0}lastToken(){return this.last}currentToken(){return this.current}seekTo(e){let t;for(;;){if(t=this.next(),t.token===e)return!0;if(t.token===re.EOS)return!1}}getPos(){return this.pos}setPos(e){this.pos=e,this.current=void 0}getSavedPos(){return this.savedPosition}getStreamer(e=re.EOS){const t=[];return this.readTill(e,t),new He(t)}readTill(e=re.EOS,t){re.isClosePair(e)?this.readTokensPair(re.openOf(e),e,t):this.readTokens(e,t)}readTokens(e,t){let s;for(;s=this.next(),s.token!==e&&s.token!==re.EOS;)t.push(s)}readTokensConsiderPair(e,...t){let s,r;for(;;)if(re.isOpenPair(r=this.peek().token))this.readTokensPair(r,re.closeOf(r),e);else{if(s=this.next(),t.includes(s.token)||s.token===re.EOS)break;e.push(s)}}readTokensPair(e,t,s){let r,n=0;for(;;){if(r=this.next(),r.token===e)n++;else if(r.token===t){if(n>0&&n--,0===n){s.push(r);break}}else if(r.token===re.EOS)break;s.push(r)}}toTokens(){const e=[];let t;for(;t=this.next(),t.token!==re.EOS;)e.push(t);return e}[Symbol.iterator](){this.pos=0;const e=this;return{[Symbol.iterator]:function(){return this},next:()=>{const t=e.next(),s=t.isType(re.EOS);return{value:t,done:s}}}}scanRegExpPattern(){return!1}peek(){this.save();const e=this.next();return this.restore(),e}peekAhead(){this.save(),this.next();const e=this.next();return this.restore(),e}peekPosition(){this.save(),this.next();const e=this.pos;return this.restore(),e}peekAheadPosition(){this.save(),this.next(),this.next();const e=this.pos;return this.restore(),e}}class He extends je{tokens;constructor(e,t){super(t),this.tokens=e}next(){return this.pos===this.tokens.length?new ne(re.EOS,[-1,-1]):(this.last=this.current,this.current=this.tokens[this.pos++])}createError(e){return"parse error ["+this.pos+"]: "+e}hasLineTerminatorBeforeNext(){return!1}hasLineTerminatorAfterNext(){return!1}scanTemplateContinuation(){return this.next()}}class $e extends je{expression;static REGEXP_FLAGS=["g","i","m","s","u","y"];static UnicodePattern=/^[0-9a-f]{4}$/i;static DecimalPattern=/^[0-9a-f]{2}$/i;static AsciiPattern=/^[0-7]{1,3}$/i;static OctalPattern=/^[0-7]+$/i;constructor(e,t){super(t),this.expression=e}newToken(e,t,s){return new ne(e,t,s)}next(){if(this.pos>=this.expression.length)return this.current=this.newToken(re.EOS,[this.expression.length,this.expression.length]);if(this.last=this.current,this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isString()||this.isTemplateLiteral()||this.isCurlY()||this.isParentheses()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isOperator()||this.isStatement()||this.isProperty())return this.current;if(this.pos>=this.expression.length)return this.current=this.newToken(re.EOS,[this.expression.length,this.expression.length]);throw new Error(this.createError('Unknown character "'+this.expression.charAt(this.pos)+'"'))}hasLineTerminatorBeforeNext(){const e=this.peekPosition(),t=this.expression.substring(this.pos,e);return/(?:\r?\n)/g.test(t)}hasLineTerminatorAfterNext(){const e=this.peekPosition(),t=this.peekAheadPosition(),s=this.expression.substring(e,t);return/(?:\r?\n)/g.test(s)}isString(){const e=this.expression.charAt(this.pos);if("'"===e||'"'===e){const t=this.pos;let s=[],r="";const n=()=>{r=this.expression.charAt(++this.pos)},i=e=>{for(;;){if(r=this.expression.charAt(++this.pos),this.pos>=this.expression.length)return;if(e(r))break}},a=e=>s.push(e);for(;;){for(i((e=>e.charCodeAt(0)>127?!!this.isStringLiteralLineTerminator(e)||(a(e),!1):!!this.mayTerminateString(e)||(a(r),!1)));"\\"===r;){n();const e=this.scanEscape(!1);if(""==e||!e)return!1;a(e),n()}if(r===e){n();const e=this.pos,r=s.join(""),i=this.expression.substring(t,e),a=[t,e],o=new N(r,i,void 0,void 0,a);return this.current=this.newToken(re.STRING,a,o),!0}if(""==r||this.pos>=this.expression.length)break;a(r)}}return!1}isTemplateLiteral(){return"`"===this.expression.charAt(this.pos)&&(this.pos++,this.current=this.scanTemplateSpan(),!0)}scanTemplateSpan(){const e=this.pos;let t=re.TEMPLATE_SPAN,s=[],r=this.expression.charAt(this.pos);const n=()=>{this.pos++,r=this.expression.charAt(this.pos)},i=e=>s.push(e);for(;;){let e=r;if("`"==e){n(),t=re.TEMPLATE_TAIL;break}if("$"==e&&"{"==this.expression.charAt(this.pos+1)){n(),n();break}if("\\"==e)if(n(),this.isLineTerminator(r)){let e=r;n(),"\r"==e&&("\n"==r&&n(),e="\n"),i(e)}else{const e=this.scanEscape(!0);if(!1===e)throw new SyntaxError(this.createError("Unterminated Template Escape char"));i(e),n()}else{if(""==e||this.pos>=this.expression.length)break;n(),"\r"==e&&("\n"==r&&n(),e="\n"),i(e)}}const a=[e-1,this.pos];return this.newToken(t,a,new Be(s.join(""),a))}scanTemplateContinuation(){if(this.current.isNotType(re.RBRACE))throw new SyntaxError(this.createError("Unterminated Template Expr"));return this.scanTemplateSpan()}scanEscape(e){let t=this.expression.charAt(this.pos);if(!e&&this.isLineTerminator(t))return"\r"==t&&"\n"==this.expression.charAt(this.pos+1)&&this.pos++,"\n";switch(t){case"b":t="\b";break;case"f":t="\f";break;case"n":t="\n";break;case"r":t="\r";break;case"t":t="\t";break;case"u":if(this.pos++,t=this.scanUnicodeEscape(),!1===t)return!1;break;case"v":t="\v";break;case"x":if(this.pos++,t=this.scanHexNumber(2),!1===t)return!1;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":this.pos++,t=this.scanOctalEscape(t,2);break;case"8":case"9":throw new SyntaxError(this.createError("'\\8' and '\\9' are disallowed in strict mode."))}return t}scanUnicodeEscape(){let e=this.expression.charAt(this.pos);if("{"==e){this.pos++;const t=this.scanUnlimitedLengthHexNumber(1114111);return e=this.expression.charAt(++this.pos),"}"==e&&t}return this.scanHexNumber(4)}scanHexNumber(e){if(e>4)throw new RangeError(this.createError("ScanHexNumber: length should be less than or equal to 4"));let t=0,s=this.pos,r=this.expression.charAt(s);for(let n=0;n<e;n++){let e=this.hexValue(r);if(e<0)return!1;t=16*t+e,r=this.expression.charAt(++s)}return this.pos=s-1,String.fromCodePoint(t)}scanUnlimitedLengthHexNumber(e){let t=0,s=this.pos,r=this.expression.charAt(s),n=this.hexValue(r);if(n<0)throw new RangeError(this.createError("Invalid code"));for(;n>=0;){if(t=16*t+n,t>e)throw new RangeError(this.createError("Undefined Unicode Code Point"));r=this.expression.charAt(++s),n=this.hexValue(r)}return this.pos=s-1,String.fromCodePoint(t)}hexValue(e){let t=e.charCodeAt(0)-"0".charCodeAt(0);return t<=9?t:(t=(32|t)-("a".charCodeAt(0)-"0".charCodeAt(0)),t<=5?t+10:-1)}scanOctalEscape(e,t){if(!("0"<=e&&e<="7"))throw new SyntaxError(this.createError("Invalid octal escape sequence"));const s="0".charCodeAt(0);let r=e.charCodeAt(0)-s,n=0,i=0,a="";for(;i<t;i++){a=this.expression.charAt(this.pos+i);let e=a.charCodeAt(0)-s;if(e<0||e>7)break;const t=8*r+e;if(t>=256)break;r=t,n++}return this.pos+=n-1,String.fromCharCode(r)}isParentheses(){const e=this.expression.charAt(this.pos);return"("===e?(this.current=this.newToken(re.LPAREN,[this.pos,++this.pos]),!0):")"===e&&(this.current=this.newToken(re.RPAREN,[this.pos,++this.pos]),!0)}isBracket(){const e=this.expression.charAt(this.pos);return"["===e?(this.current=this.newToken(re.LBRACK,[this.pos,++this.pos]),!0):"]"===e&&(this.current=this.newToken(re.RBRACK,[this.pos,++this.pos]),!0)}isCurlY(){const e=this.expression.charAt(this.pos);return"{"===e?(this.current=this.newToken(re.LBRACE,[this.pos,++this.pos]),!0):"}"===e&&(this.current=this.newToken(re.RBRACE,[this.pos,++this.pos]),!0)}isComma(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(re.COMMA,[this.pos,++this.pos]),!0)}isSemicolon(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(re.SEMICOLON,[this.pos,++this.pos]),!0)}isProperty(){let e=this.pos,t=e,s=!1,r=!1,n=!1,i=this.expression.charAt(t);if("#"===i&&(s=!0,e++,t++),i=this.expression.charAt(t),Me.test(i))t++;else{if("\\"!==i||"u"!==this.expression.charAt(t+1))return!1;t+=2,n=r=!0}for(;t<this.expression.length;t++)if(i=this.expression.charAt(t),!Fe.test(i)){if("\\"===i&&"u"===this.expression.charAt(t+1)){t++,n=r=!0;continue}if("{"===i&&n){const e=this.expression.indexOf("}",t+1);if(-1===e)return!1;n=!1,t=e;continue}break}let a,o=this.expression.substring(e,t);if(r){if(o=this.unescape(o),!De.test(o))return!1;this.pos=t}else this.pos+=o.length+(s?1:0);if(s){const t=[e-1,this.pos];a=new K(o,t),this.current=this.newToken(re.PRIVATE_NAME,t,a)}else{const t=[e,this.pos];switch(o){case"this":this.current=this.newToken(re.THIS,t);break;case"null":this.current=this.newToken(re.NULL_LITERAL,t,new N(null,void 0,void 0,void 0,t));break;case"undefined":this.current=this.newToken(re.UNDEFINED_LITERAL,t,new N(void 0,void 0,void 0,void 0,t));break;case"true":this.current=this.newToken(re.TRUE_LITERAL,t,new N(!0,void 0,void 0,void 0,t));break;case"false":this.current=this.newToken(re.FALSE_LITERAL,t,new N(!1,void 0,void 0,void 0,t));break;case"globalThis":this.current=this.newToken(re.IDENTIFIER,t,new k("globalThis",t));break;case"Symbol":this.current=this.newToken(re.IDENTIFIER,t,new k("Symbol",t));break;case"of":this.current=this.newToken(re.IDENTIFIER,t,new k("of",t));break;case"as":this.current=this.newToken(re.IDENTIFIER,t,new k("as",t));break;case"default":this.current=this.newToken(re.DEFAULT,t,new k("default",t));break;case"yield":this.current=this.newToken(re.YIELD,t,new k("yield",t));break;case"constructor":this.current=this.newToken(re.IDENTIFIER,t,new k("constructor",t));break;case"arguments":this.current=this.newToken(re.IDENTIFIER,t,new k("arguments",t));break;case"name":this.current=this.newToken(re.IDENTIFIER,t,new k("name",t));break;case"eval":this.current=this.newToken(re.IDENTIFIER,t,new k("eval",t));break;case"debugger":this.current=this.newToken(re.DEBUGGER,t,new Re(t));break;case"class":this.current=this.newToken(re.CLASS,t);break;case"await":this.current=this.newToken(re.AWAIT,t,new k("await",t));break;case"async":this.current=this.newToken(re.ASYNC,t,new k("async",t));break;default:a=new k(o,t),this.current=this.newToken(re.IDENTIFIER,t,a)}}return!0}isWhitespace(){let e=!1;for(;Le.includes(this.expression.charCodeAt(this.pos).toString(16));)this.pos++;let t=this.expression.charAt(this.pos);for(;/\s/.test(t)&&(e=!0,this.pos++,!(this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e}isComment(){const e=this.expression.charAt(this.pos),t=this.expression.charAt(this.pos+1);let s,r;switch(!0){case"/"===e&&"/"===t:s="\n",r=this.expression.indexOf(s,this.pos);break;case"/"===e&&"*"===t:if(s="*/",r=this.expression.indexOf(s,this.pos),-1===r)throw new SyntaxError(this.createError("Invalid or unexpected token"));break;case"<"===e&&"!"===t:if("\x3c!--"===this.expression.substring(this.pos,this.pos+4)){if(d(this.mode))throw new SyntaxError("Html Comment not allowed In Module");const e=this.expression.indexOf("\n",this.pos),t=this.expression.indexOf("--\x3e",this.pos);e<t?(s="\n",r=e):t<e?(s="--\x3e",r=t):(s="",r=-1);break}case"-"===e&&"-"===t:if("--\x3e"===this.expression.substring(this.pos,this.pos+3)){if(d(this.mode))throw new SyntaxError("Html Comment not allowed In Module");let e=this.expression.lastIndexOf("\n",this.pos+1);-1==e&&(e=0);let t=this.expression.substring(e,this.pos+3);if(!/^\s*-->$/g.test(t)){let e=t.lastIndexOf("*/");if(-1==e)return!1;if(t=t.substring(e+2),!/^\s*-->$/g.test(t))return!1}r=this.expression.indexOf("\n",this.pos),s="\n";break}default:return!1}return this.pos=-1==r?this.expression.length:r+s.length,!0}isLineTerminator(e){return/[\n\r\u2028\u2029]/.test(e)}isStringLiteralLineTerminator(e){return/[\n\r]/.test(e)}mayTerminateString(e){return"'"==e||'"'==e||"\n"==e||"\r"==e||"\\"==e}scanRegExpPattern(){const e=this.peek();if(!e.isType(re.DIV)&&!e.isType(re.DIV_ASSIGN))return!1;const t=this.pos;this.next();let s=e.isType(re.DIV_ASSIGN)?"=":"",r=this.pos,n=!1,i=this.expression.charAt(r);for(;"/"!==i||n;){if(""==i||this.isLineTerminator(i))return!1;if("\\"===i){if(s+=i,i=this.expression.charAt(++r),""==i||this.isLineTerminator(i))return!1;s+=i,i=this.expression.charAt(++r)}else"["==i&&(n=!0),"]"==i&&(n=!1),s+=i,i=this.expression.charAt(++r)}r++;let a="";const o=$e.REGEXP_FLAGS.slice();for(;;){const e=this.expression.charCodeAt(r),t=this.expression.charAt(r);if(/[\.\s]/.test(t)||Number.isNaN(e))break;const s=o.indexOf(t);if(-1===s){if(a.includes(t))throw new Error(this.createError("Invalid regular expression flags"));break}a+=t,o.splice(s,1),r++}const c=[t,r],l=new N(new RegExp(s,a),`/${s}/${a}`,{pattern:s,flags:a},void 0,c);return this.current=this.newToken(re.REGEXP_LITERAL,c,l),this.pos=r,!0}unescape(e){let t=e.indexOf("\\");if(t<0)return e;let s=e.substring(0,t);for(;t>=0;){const r=e.charAt(++t);switch(r){case"\b":case"\f":case"\n":case"\r":case"\t":case"\v":t++,s+="\\"+r;break;case"b":t++,s+="\b";break;case"f":t++,s+="\f";break;case"n":t++,s+="\n";break;case"r":t++,s+="\r";break;case"t":t++,s+="\t";break;case"v":t++,s+="\v";break;case"u":if(t++,"{"===e.charAt(t)){t++;const r=t,n=e.indexOf("}",r+1),i=e.substring(r,n);s+=String.fromCodePoint(parseInt(i,16)),t=n+1}else{const r=e.substring(t,t+4);if(!$e.UnicodePattern.test(r))throw new Error(this.createError("Illegal escape sequence: \\u "+r));s+=String.fromCodePoint(parseInt(r,16)),t+=4}break;case"x":{t++;let r=e.substring(t,t+2);if(!$e.DecimalPattern.test(r))throw new Error(this.createError("Illegal escape sequence: \\x "+r));s+=String.fromCharCode(parseInt(r,16)),t+=2;break}default:if(!Number.isNaN(parseInt(r,8))){let n=r;for(const s of[1,2]){const r=e.charAt(t+s);if(Number.isNaN(parseInt(r,8)))break;n+=r}if(!$e.AsciiPattern.test(n))throw new Error(this.createError("Illegal escape sequence: ASCII 8 base, "+n));s+=String.fromCharCode(parseInt(n,8)),t+=n.length;break}t++,s+=r}let n=e.indexOf("\\",t);if(-1==n){s+=e.substring(t,e.length);break}s+=e.substring(t,n),t=n}return s}isRadixInteger(){let e,t,s=this.pos;if(s>=this.expression.length-2||"0"!==this.expression.charAt(s))return!1;if(++s,"x"===this.expression.charAt(s))e=16,t=/^[0-9a-f]$/i,++s;else{if("b"!==this.expression.charAt(s))return!1;e=2,t=/^[01]$/i,++s}let r=!1,n=s;for(;s<this.expression.length;){const e=this.expression.charAt(s);if(!t.test(e))break;s++,r=!0}if(r){const t=this.expression.substring(n,s),r=this.expression.substring(this.pos,s),i=[this.pos,s],a=new N(parseInt(t,e),r,void 0,void 0,i);this.current=this.newToken(re.NUMBER,i,a),this.pos=s}return r}isNumber(){const e=this.pos;let t,s=!1,r=this.pos,n=r,i=!1,a=!1,o=!1;for(;r<this.expression.length;)if(t=this.expression.charAt(r),t>="0"&&t<="9"||!i&&"."===t)"."===t?i=!0:a=!0,r++,s=a;else{if("o"!=t.toLowerCase())break;if(r!=e+1)break;r++,o=!0}if(s&&(n=r),"e"===t||"E"===t){r++;let e=!0,s=!1;for(;r<this.expression.length;){if(t=this.expression.charAt(r),!e||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,e=!1}else e=!1;r++}s||(r=n)}if(s){const t=this.expression.substring(e,r);if("n"===this.expression.charAt(r)){r++;const s=[e,this.pos],n=new N(BigInt(t),t+"n",void 0,t,s);this.current=this.newToken(re.BIGINT,s,n)}else{let s;const r=[e,this.pos];if(o){const e=t.substring(2);if(!$e.OctalPattern.test(e))return!1;s=new N(parseInt(e,8),t,void 0,void 0,r)}else s=new N(parseFloat(t),t,void 0,void 0,r);this.current=this.newToken(re.NUMBER,r,s)}this.pos=r}else this.pos=n;return s}isOperator(){switch(this.expression.charAt(this.pos)){case"+":return"+"===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.INC,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.ADD_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.ADD,[this.pos,this.pos+=1]),!0;case"-":return"-"===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.DEC,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.SUB_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.SUB,[this.pos,this.pos+=1]),!0;case"=":return"="===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.EQ_STRICT,[this.pos,this.pos+=3]):this.current=this.newToken(re.EQ,[this.pos,this.pos+=2]):">"===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.ARROW,[this.pos,this.pos+=2]):this.current=this.newToken(re.ASSIGN,[this.pos,this.pos+=1]),!0;case"*":return"*"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.EXP_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.EXP,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.MUL_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.MUL,[this.pos,this.pos+=1]),!0;case"/":return"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.DIV_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.DIV,[this.pos,this.pos+=1]),!0;case"%":return"%"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.MODULO_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.MODULO,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.MOD_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.MOD,[this.pos,this.pos+=1]),!0;case"^":return"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.BIT_XOR_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.BIT_XOR,[this.pos,this.pos+=1]),!0;case">":return">"===this.expression.charAt(this.pos+1)?">"===this.expression.charAt(this.pos+2)?"="===this.expression.charAt(this.pos+3)?this.current=this.newToken(re.SHR_ASSIGN,[this.pos,this.pos+=4]):this.current=this.newToken(re.SHR,[this.pos,this.pos+=3]):"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.SAR_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.SAR,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.GTE,[this.pos,this.pos+=2]):"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.LARGER_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.LARGER,[this.pos,this.pos+=2]):this.current=this.newToken(re.GT,[this.pos,this.pos+=2]),!0;case"<":return"<"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.SHL_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.SHL,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?">"===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.SPACESHIP,[this.pos,this.pos+=3]):this.current=this.newToken(re.LTE,[this.pos,this.pos+=2]):"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.SMALLER_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.SMALLER,[this.pos,this.pos+=2]):this.current=this.newToken(re.LT,[this.pos,this.pos+=1]),!0;case"|":return"|"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.OR_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.OR,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.BIT_OR_ASSIGN,[this.pos,this.pos+=2]):">"===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.PIPELINE,[this.pos,this.pos+=2]):this.current=this.newToken(re.BIT_OR,[this.pos,this.pos+=1]),!0;case"&":return"&"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.AND_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.AND,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.BIT_AND_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(re.BIT_AND,[this.pos,this.pos+=1]),!0;case"?":return"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.NULLISH_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(re.NULLISH,[this.pos,this.pos+=2]):"::"==this.expression.substring(this.pos+1,this.pos+3)?this.current=this.newToken(re.QUESTION_BIND,[this.pos,this.pos+=3]):"."===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.QUESTION_PERIOD,[this.pos,this.pos+=2]):this.current=this.newToken(re.CONDITIONAL,[this.pos,this.pos+=1]),!0;case"!":return"="===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(re.NE_STRICT,[this.pos,this.pos+=3]):this.current=this.newToken(re.NE,[this.pos,this.pos+=2]):this.current=this.newToken(re.NOT,[this.pos,this.pos+=1]),!0;case".":return/\.\.\./.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(re.ELLIPSIS,[this.pos,this.pos+=3]),!0):(this.current=this.newToken(re.PERIOD,[this.pos,this.pos+=1]),!0);case":":return":"===this.expression.charAt(this.pos+1)?this.current=this.newToken(re.QUESTION_BIND,[this.pos,this.pos+=2]):this.current=this.newToken(re.COLON,[this.pos,this.pos+=1]),!0;case"~":return this.current=this.newToken(re.BIT_NOT,[this.pos,this.pos+=1]),!0;case"a":if(/async\s/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(re.ASYNC,e,new k("async",e)),!0}if(/await\s/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(re.AWAIT,e,new k("await",e)),!0}return!1;case"i":if("n"===this.expression.charAt(this.pos+1)){if(/instanceof\s/.test(this.expression.substring(this.pos,this.pos+11)))return this.current=this.newToken(re.INSTANCEOF,[this.pos,this.pos+=11]),!0;if(/n\s/.test(this.expression.charAt(this.pos+2)))return this.current=this.newToken(re.IN,[this.pos,this.pos+=3]),!0}return!1;case"t":return!!/typeof\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(re.TYPEOF,[this.pos,this.pos+=7]),!0);case"v":return!!/void\s/.test(this.expression.substring(this.pos,this.pos+5))&&(this.current=this.newToken(re.VOID,[this.pos,this.pos+=5]),!0);case"d":return!!/delete\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(re.DELETE,[this.pos,this.pos+=7]),!0);case"n":return!!/new\s/.test(this.expression.substring(this.pos,this.pos+4))&&(this.current=this.newToken(re.NEW,[this.pos,this.pos+=4]),!0);default:return!1}}isStatement(){switch(this.expression.charAt(this.pos)){case"b":return!!/break\s?;?/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(re.BREAK,[this.pos,this.pos+=5]),!0);case"c":return/case[\s~!+-\/\('"`]/.test(this.expression.substring(this.pos,this.pos+5))?(this.current=this.newToken(re.CASE,[this.pos,this.pos+=4]),!0):/const\s/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(re.CONST,[this.pos,this.pos+=6]),!0):/catch[\s\{\(]/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(re.CATCH,[this.pos,this.pos+=5]),!0):/class\s/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(re.CLASS,[this.pos,this.pos+=6]),!0):!!/continue[\s;]/.test(this.expression.substring(this.pos,this.pos+9))&&(this.current=this.newToken(re.CONTINUE,[this.pos,this.pos+=8]),!0);case"d":return!!/do[\s|\{]/.test(this.expression.substring(this.pos,this.pos+3))&&(this.current=this.newToken(re.DO,[this.pos,this.pos+=2]),!0);case"e":return/else[\s|\{]/.test(this.expression.substring(this.pos,this.pos+5))?(this.current=this.newToken(re.ELSE,[this.pos,this.pos+=4]),!0):/export\s/.test(this.expression.substring(this.pos,this.pos+7))?(this.current=this.newToken(re.EXPORT,[this.pos,this.pos+=7]),!0):!!/extends\s/.test(this.expression.substring(this.pos,this.pos+8))&&(this.current=this.newToken(re.EXTENDS,[this.pos,this.pos+=8]),!0);case"g":if(/get\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(re.GET,e,new k("get",e)),!0}return!1;case"f":return/for[\s\(]/.test(this.expression.substring(this.pos,this.pos+4))?(this.current=this.newToken(re.FOR,[this.pos,this.pos+=3]),!0):/finally[\s\{]/.test(this.expression.substring(this.pos,this.pos+8))?(this.current=this.newToken(re.FINALLY,[this.pos,this.pos+=7]),!0):!!/function[\s\*\(]/.test(this.expression.substring(this.pos,this.pos+9))&&(this.current=this.newToken(re.FUNCTION,[this.pos,this.pos+=8]),!0);case"i":return/if[\s|\(]/.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(re.IF,[this.pos,this.pos+=2]),!0):/in\s/.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(re.IN,[this.pos,this.pos+=3]),!0):!!/import\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(re.IMPORT,[this.pos,this.pos+=7]),!0);case"l":if(/let\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(re.LET,e,new k("let",e)),!0}return!1;case"t":return/try[\s\{]/.test(this.expression.substring(this.pos,this.pos+4))?(this.current=this.newToken(re.TRY,[this.pos,this.pos+=3]),!0):!!/throw\s/.test(this.expression.substring(this.pos,this.pos+6))&&(this.current=this.newToken(re.THROW,[this.pos,this.pos+=6]),!0);case"r":return!!/return[\s~!+-\/\('"`]/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(re.RETURN,[this.pos,this.pos+=6]),!0);case"s":if(/switch(\s|\()/.test(this.expression.substring(this.pos,this.pos+7)))return this.current=this.newToken(re.SWITCH,[this.pos,this.pos+=6]),!0;if(/static\s/.test(this.expression.substring(this.pos,this.pos+7)))return this.current=this.newToken(re.STATIC,[this.pos,this.pos+=7]),!0;if(/set\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(re.SET,e,new k("set",e)),!0}if(/super[\.\(]?/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(re.SUPER,e,new z(e)),!0}return!1;case"w":return/while(\s|\()/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(re.WHILE,[this.pos,this.pos+=5]),!0):!!/with(\s|\()/.test(this.expression.substring(this.pos,this.pos+5))&&(this.current=this.newToken(re.WITH,[this.pos,this.pos+=4]),!0);case"v":return!!/var\s/.test(this.expression.substring(this.pos,this.pos+4))&&(this.current=this.newToken(re.VAR,[this.pos,this.pos+=4]),!0);default:return!1}}getCoordinates(){let e,t=0,s=-1;do{t++,e=this.pos-s,s=this.expression.indexOf("\n",s+1)}while(s>=0&&s<this.pos);return{line:t,column:e}}createError(e){let t=this.getCoordinates();const s=this.expression.lastIndexOf("\n",this.pos)+1;let r=this.expression.indexOf("\n",this.pos+1);-1==r&&(r=this.expression.length);const n=Math.max(s,this.pos-25),i=Math.min(r,this.pos+25,this.expression.length),a=this.expression.substring(n,i),o=new Array(i-n).fill(" ");o[this.pos-n]="^";const c=o.join("");return`\n\t\t\t> ${e}\n\t\t\t> token name: '${this.current?.token?.getName()}' ${this.current?.value?`parsed: ${this.current.value.toString()}`:""}\n\t\t\t> ${t.line}:${t.column}\t${a}\n\t\t\t> ${t.line}:${t.column}\t${c}\n\t\t\t`}}let Ve=(()=>{let e,t,s=[x("NewExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}className;static fromJSON(e,t){return new i(t(e.className),e.arguments?.map(t),e.range,e.loc)}static visit(e,t){t(e.className),e.arguments?.forEach(t)}arguments;constructor(e,t,s,r){super(s,r),this.className=e,this.arguments=t}getClassName(){return this.className}getArguments(){return this.arguments}set(e,t){throw new Error("NewExpression#set() has no implementation.")}get(e){const t=this.className.get(e);let s;if(this.arguments)if(this.arguments.length>0){const r=[];for(const t of this.arguments){if(t instanceof H){const s=e.pushBlockScopeFor(r);t.get(e),e.clearTo(s);break}r.push(t.get(e))}s=new t(...r)}else s=new t;else s=new t;return s}dependency(e){return this.className.dependency(e).concat(this.arguments?.flatMap((t=>t.dependency(e)))||[])}dependencyPath(e){return this.className.dependencyPath(e).concat(this.arguments?.flatMap((t=>t.dependencyPath(e)))||[])}toString(){const e=this.arguments?`(${this.arguments?.map((e=>e.toString())).join(", ")})`:"";return`new ${this.className.toString()}${e}`}toJson(){return{className:this.className.toJSON(),arguments:this.arguments?.map((e=>e.toJSON()))}}};return i=t})(),Ge=(()=>{let e,t,s=[x("RestElement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("RestElement#set() Method has no implementation.")}get(e){throw new Error("RestElement#get() Method has no implementation.")}declareVariable(e,t){this.argument.declareVariable(e,t)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`...${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return i=t})(),Je=(()=>{let e,t,s=[x("ReturnStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}argument;static fromJSON(e,t){return new i(e.argument?t(e.argument):void 0,e.range,e.loc)}static visit(e,t){e.argument&&t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("ReturnStatement#set() has no implementation.")}get(e){return new b(this.argument?.get(e))}dependency(e){return this.argument?.dependency(e)||[]}dependencyPath(e){return this.argument?.dependencyPath(e)||[]}toString(){return`return ${this.argument?.toString()||""}`}toJson(){return{argument:this.argument?.toJSON()}}};return i=t})(),Ue=(()=>{let e,t,s=[x("ThrowStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("ThrowStatement#set() has no implementation.")}get(e){throw this.argument.get(e)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`throw ${this.argument.toString()}`}toJson(){return{argument:this.argument?.toJSON()}}};return i=t})(),ze=(()=>{let e,t,s=[x("CatchClause")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}body;param;static fromJSON(e,t){return new i(t(e.body),e.param?t(e.param):void 0,e.range,e.loc)}constructor(e,t,s,r){super(s,r),this.body=e,this.param=t}getParam(){return this.param}getBody(){return this.body}set(e,t){this.param?.set(e,t)}get(e,t){return this.body.get(e)}dependency(e){return this.body.dependency()}dependencyPath(e){return this.body.dependencyPath(e)}toString(){return`catch (${this.param?.toString()||""}) ${this.body.toString()}`}toJson(e){return{param:this.param?.toJSON(),body:this.body.toJSON()}}};return i=t})(),We=(()=>{let e,t,s=[x("TryStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}block;handler;finalizer;static fromJSON(e,t){return new i(t(e.block),e.handler?t(e.handler):void 0,e.finalizer?t(e.finalizer):void 0,e.range,e.loc)}constructor(e,t,s,r,n){super(r,n),this.block=e,this.handler=t,this.finalizer=s}getBlock(){return this.block}getHandler(){return this.handler}getFinalizer(){return this.finalizer}set(e,t){throw new Error("TryCatchNode#set() has no implementation.")}get(e){const t=e.lastScope();if(this.block&&this.handler&&this.finalizer)try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}catch(s){e.clearTill(t);const r=e.pushBlockScope();this.handler.set(e,s),this.handler.get(e),e.clearTo(r)}finally{e.clearTill(t);const s=e.pushBlockScope();this.finalizer.get(e),e.clearTo(s)}else if(this.block&&this.handler)try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}catch(s){e.clearTill(t);const r=e.pushBlockScope();e.clearTo(r),this.handler.set(e,s),this.handler.get(e),e.clearTo(r)}else{if(!this.block||!this.finalizer)throw new Error("Uncaught SyntaxError: Missing catch or finally after try");try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}finally{e.clearTill(t);const s=e.pushBlockScope();this.finalizer.get(e),e.clearTo(s)}}e.clearTill(t)}dependency(e){return this.block.dependency().concat(this.handler?.dependency()||[]).concat(this.finalizer?.dependency()||[])}dependencyPath(e){return this.block.dependencyPath(e).concat(this.handler?.dependencyPath(e)||[],this.finalizer?.dependencyPath(e)||[])}toString(){return`try ${this.block.toString()} ${this.handler?.toString()||""} ${this.finalizer?`finally ${this.finalizer.toString()}`:""}`}toJson(){return{block:this.block.toJSON(),handler:this.handler?.toJSON(),finalizer:this.finalizer?.toJSON()}}};return i=t})(),Ke=(()=>{let e,t,s=[x("YieldExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}delegate;argument;static fromJSON(e,t){return new i(e.delegate,e.argument?t(e.argument):void 0,e.range,e.loc)}static visit(e,t){e.argument&&t(e.argument)}constructor(e,t,s,r){super(s,r),this.delegate=e,this.argument=t}getArgument(){return this.argument}set(e,t){throw new Error("YieldExpression#set() has no implementation.")}get(e){const t=this.argument?.get(e);return this.delegate?new E(t):new S(t)}dependency(e){return this.argument?.dependency(e)||[]}dependencyPath(e){return this.argument?.dependencyPath(e)||[]}toString(){return`yield${this.delegate?"*":""} ${this.argument?.toString()||""}`}toJson(){return{delegate:this.delegate,argument:this.argument?.toJSON()}}};return i=t})(),qe=(()=>{let e,t,s=[x("ArrayExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}elements;static fromJSON(e,t){return new i(e.elements.map((e=>e?t(e):null)),e.range,e.loc)}static visit(e,t){e.elements.forEach((e=>e&&t(e)))}constructor(e,t,s){super(t,s),this.elements=e}getElements(){return this.elements}set(e){throw new Error("ArrayExpression#set() has no implementation.")}get(e){return this.elements.map((t=>t?.get(e)))}dependency(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependencyPath(e)))}toString(){return`[ ${this.elements.map((e=>e?.toString())).toString()} ]`}toJson(){return{elements:this.elements.map((e=>e?.toJSON()))}}};return i=t})(),Ze=(()=>{let e,t,s=[x("ArrayPattern")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}elements;static fromJSON(e,t){return new i(e.elements.map((e=>e?t(e):null)),e.range,e.loc)}static visit(e,t){e.elements.forEach((e=>e&&t(e)))}constructor(e,t,s){super(t,s),this.elements=e}getElements(){return this.elements}set(e,t){throw new Error("ArrayPattern#set() has no implementation.")}get(e){throw new Error("ArrayPattern#get() has no implementation.")}declareVariable(e,t){Array.isArray(t)?this.declareVariableFromArray(e,t):Reflect.has(t,Symbol.iterator)&&this.declareVariableFromIterator(e,t)}declareVariableFromArray(e,t){for(let s=0;s<this.elements.length;s++){const r=this.elements[s];if(null!=r){if(r instanceof Ge){const n=t.slice(s);r.declareVariable(e,n);break}r.declareVariable(e,t[s])}}}declareVariableFromIterator(e,t){let s=0;for(;;){let r=t.next();if(r.done)break;const n=this.elements[s++];if(null!=n){if(n instanceof Ge){const s=[r.value];for(;!r.done;)r=t.next(),s.push(r.value);n.declareVariable(e,s);break}if(n.declareVariable(e,r.value),s>=this.elements.length)break}}}dependency(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependencyPath(e)))}toString(){return`[ ${this.elements.map((e=>e?.toString())).toString()} ]`}toJson(){return{elements:this.elements.map((e=>e?.toJSON()))}}};return i=t})(),Ye=(()=>{let e,t,s=[x("BindExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}object;property;computed;optional;static fromJSON(e,t){return new i(t(e.object),t(e.property),e.computed,e.optional,e.range,e.loc)}static visit(e,t){t(e.object),t(e.property)}constructor(e,t,s,r=!1,n,i){super(n,i),this.object=e,this.property=t,this.computed=s,this.optional=r}getObject(){return this.object}getProperty(){return this.property}set(e){throw new Error("BindExpression#set() has no implementation.")}get(e,t){const s=t??this.object.get(e);if(void 0===s)throw new TypeError(`Cannot read property '${this.property.toString()}' of undefined`);let r;if(r=this.computed?s[this.property.get(e)]:this.property.get(e,s),!this.optional||null!=r){if("function"!=typeof r)throw new Error(`can't bind to non-function type ${r}`);return r.bind(s)}}findScope(e,t){return t||(t=this.object.findScope(e)),this.property.findScope(e,t)}dependency(e){return this.object.dependency(e).concat(this.property.dependency(e))}dependencyPath(e){return this.object.dependencyPath(e).concat(this.property.dependencyPath(e))}toString(){return this.computed?`${this.object.toString()}${this.optional?"?::":"::"}[${this.property.toString()}]`:`${this.object.toString()}${this.optional?"?::":"::"}${this.property.toString()}`}toJson(){return{object:this.object.toJSON(),property:this.property.toJSON(),computed:this.computed,optional:this.optional}}};return i=t})(),Xe=(()=>{let e,t,s=[x("AssignmentPattern")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}left;right;static fromJSON(e,t){return new i(t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}constructor(e,t,s,r){super(s,r),this.left=e,this.right=t}getLeft(){return this.left}getRight(){return this.right}set(e,t){throw new Error("AssignmentPattern#set() has no implementation.")}get(e){throw new Error("AssignmentPattern#get() has no implementation.")}declareVariable(e,t){void 0===t&&(t=this.right.get(e)),this.left.declareVariable(e,t)}dependency(e){return[this.right]}dependencyPath(e){return this.right.dependencyPath(e)||[]}toString(){return`${this.left.toString()} = ${this.right.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON()}}};return i=t})(),Qe=(()=>{let e,t,s=[x("FunctionExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}params;body;async;generator;id;static fromJSON(e,t){return new i(e.params.map(t),t(e.body),e.async,e.generator,e.id?t(e.id):void 0,e.range,e.loc)}static visit(e,t){e.id&&t(e.id),e.params.forEach(t),t(e.body)}constructor(e,t,s,r,n,i,a){super(i,a),this.params=e,this.body=t,this.async=s,this.generator=r,this.id=n}getParams(){return this.params}getBody(){return this.body}getGenerator(){return this.generator}getId(){return this.id}getAsync(){return this.async}set(e,t){throw new Error(`${this.constructor.name}#set() has no implementation.`)}defineFunctionArguments(e,t){const s=this.params[this.params.length-1]instanceof Ge,r=s?this.params.length-1:this.params.length;for(let s=0;s<r;s++)this.params[s].declareVariable(e,t[s]);s&&this.params[r].declareVariable(e,t.slice(r))}get(e){let t;return e=e.copyStack(),t=this.async&&this.generator?this.getAsyncGeneratorFunction(e):this.async?this.getAsyncFunction(e):this.generator?this.getGeneratorFunction(e):this.getFunction(e),t}getAsyncFunction(e){const t=this;return async function(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),r.awaitPromise?.length>0){for(const e of r.awaitPromise){const t=await e.promise;e.declareVariable?e.node.declareVariable(r,t):e.node.set(r,t)}r.awaitPromise.splice(0)}else if(r.forAwaitAsyncIterable){for await(let e of r.forAwaitAsyncIterable.iterable){const t=r.forAwaitAsyncIterable.forAwaitBody(e);if(t instanceof R){if("continue"===t.type)continue;break}if(t instanceof b){n=t;break}}r.forAwaitAsyncIterable=void 0}if(n instanceof b)return n=n.value,n instanceof w&&(n=await n.promise),n}}}getGeneratorFunction(e){const t=this;return function*(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),n instanceof b)return n.value;n instanceof S?yield n.value:n instanceof E&&(yield*n.value)}}}getAsyncGeneratorFunction(e){const t=this;return async function*(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),r.awaitPromise?.length>0){for(const e of r.awaitPromise){const t=await e.promise;e.declareVariable?e.node.declareVariable(r,t):e.node.set(r,t)}r.awaitPromise.splice(0)}else if(r.forAwaitAsyncIterable){for await(let e of r.forAwaitAsyncIterable.iterable){const t=r.forAwaitAsyncIterable.forAwaitBody(e);if(t instanceof R){if("continue"===t.type)continue;break}if(t instanceof b)return n=n.value,n instanceof w?await n.promise:(n instanceof S?yield n.value:n instanceof E&&(yield*n.value),n)}r.forAwaitAsyncIterable=void 0}if(n instanceof b)return n=n.value,n instanceof w?await n.promise:n}}}getFunction(e){const t=this;return function(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i)if(n=e.get(r),n instanceof b)return n.value}}dependency(e){return this.params.flatMap((e=>e.dependency()))}dependencyPath(e){return this.params.flatMap((t=>t.dependencyPath(e)))}toString(){let e="function ";return this.async&&this.generator?e="async function* ":this.async?e="async function ":this.generator&&(e="function* "),`${e}${this.id?.toString()||""}${this.paramsAndBodyToString()}`}paramsAndBodyToString(){return`(${this.params.map((e=>e.toString())).join(", ")}) ${this.body.toString()}`}toJson(){return{params:this.params.map((e=>e.toJSON())),body:this.body.toJSON(),async:this.async,id:this.id?.toJSON(),generator:this.generator}}};return i=t})(),et=(()=>{let e,t,s=[x("FunctionDeclaration")],r=[],n=Qe;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(e.params.map(t),t(e.body),e.async,e.generator,t(e.id),e.range,e.loc)}static visit(e,t){t(e.id),e.params.forEach(t),t(e.body)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e){const t=super.get(e);return this.declareVariable(e,t),t}declareVariable(e,t){this.id.declareVariable(e,t)}};return i=t})(),tt=(()=>{let e,t,s=[x("ArrowFunctionExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}params;body;expression;async;static fromJSON(e,t){return new i(e.params.map(t),Array.isArray(e.body)?e.body.map(t):t(e.body),e.expression,e.async,e.range,e.loc)}static visit(e,t){e.params.forEach(t),Array.isArray(e.body)?e.body.forEach(t):t(e.body)}generator=!1;constructor(e,t,s,r,n,i){super(n,i),this.params=e,this.body=t,this.expression=s,this.async=r}getParams(){return this.params}getBody(){return this.body}getExpression(){return this.expression}set(e,t){throw new Error("ArrowFunctionExpression#set() has no implementation.")}setParameter(e,t){const s=this.params[this.params.length-1]instanceof Ge,r=s?this.params.length-1:this.params.length;for(let s=0;s<r;s++)this.params[s].declareVariable(e,t[s]);s&&this.params[r].declareVariable(e,t.slice(r))}get(e){return e=e.copyStack(),this.async?this.getAsyncArrowFunction(e):this.getArrowFunction(e)}getAsyncArrowFunction(e){}getArrowFunction(e){return(...t)=>{const s=e.copyStack();let r;s.pushBlockScope(),this.setParameter(s,t);const n=Array.isArray(this.body)?this.body:[this.body];for(const e of n)if(r=e.get(s),r instanceof b)return r.value;if(this.expression)return r}}dependency(e){return this.params.flatMap((e=>e.dependency()))}dependencyPath(e){return this.params.flatMap((t=>t.dependencyPath(e)))}toString(){let e=this.async?"async ":"";return 1===this.params.length?e+=this.params[0].toString():e+=`(${this.params.map((e=>e.toString())).join(", ")})`,e+=" => ",e+=this.body.toString(),e}toJson(){return{params:this.params.map((e=>e.toJSON())),body:Array.isArray(this.body)?this.body.map((e=>e.toJSON())):this.body.toJSON(),expression:!0,async:this.async,generator:this.generator}}};return i=t})(),st=(()=>{let e,t,s=[x("Property")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}key;value;kind;method;shorthand;computed;static fromJSON(e,t){return new i(t(e.key),t(e.value),e.kind,e.method,e.shorthand,e.computed,e.range,e.loc)}static visit(e,t){t(e.key),t(e.value)}constructor(e,t,s,r,n,i,a,o){super(a,o),this.key=e,this.value=t,this.kind=s,this.method=r,this.shorthand=n,this.computed=i}getKey(){return this.key}getValue(){return this.value}set(e,t){this.key.set(e,t)}get(e,t){const s=this.key instanceof k?this.key.getName():this.key.get(e);let r;switch(this.kind){case"get":const n=this.value.get(e);Object.defineProperty(t,s,{get:n,configurable:!0,enumerable:!0}),r=n;break;case"set":const i=this.value.get(e);Object.defineProperty(t,s,{set:i,configurable:!0,enumerable:!0}),r=i;break;default:r=this.value.get(e),Object.defineProperty(t,s,{value:r,configurable:!0,enumerable:!0,writable:!0})}return r}declareVariable(e,t){const s=t[this.shorthand?this.key.getName():this.key.get(e)];this.value.declareVariable(e,s)}dependency(e){return this.key.dependency(e).concat(this.value.dependency(e))}dependencyPath(e){return this.key.dependencyPath(e).concat(this.value.dependencyPath(e))}toString(){const e=this.computed?`[${this.key.toString()}]`:this.key.toString();if(this.shorthand)return e;let t="";switch(this.kind){case"get":case"set":const s=this.value;t+=this.kind,t+=" "+e,t+=s.paramsAndBodyToString();break;case"init":if(!this.method)return t+=this.value.toString(),`${e}: ${t}`;t+=" "+e,t+=this.value.paramsAndBodyToString()}return t}toJson(){return{key:this.key.toJSON(),value:this.value.toJSON(),kind:this.kind}}};return i=t})(),rt=(()=>{let e,t,s=[x("ObjectExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}properties;static fromJSON(e,t){return new i(e.properties.map(t),e.range,e.loc)}static visit(e,t){e.properties.forEach(t)}constructor(e,t,s){super(t,s),this.properties=e}getProperties(){return this.properties}set(e){throw new Error("ObjectExpression#set() has no implementation.")}get(e){const t={};for(const s of this.properties)s.get(e,t);return t}dependency(e){return this.properties.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.properties.flatMap((t=>t.dependencyPath(e)))}toString(){return`{ ${this.properties.map((e=>e.toString())).join(", ")} }`}toJson(){return{properties:this.properties.map((e=>e.toJSON()))}}};return i=t})(),nt=(()=>{let e,t,s=[x("ObjectPattern")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}properties;static fromJSON(e,t){return new i(e.properties.map(t),e.range,e.loc)}static visit(e,t){e.properties.forEach(t)}constructor(e,t,s){super(t,s),this.properties=e}getProperties(){return this.properties}set(e,t){throw new Error("ObjectPattern#set() has no implementation.")}get(e){throw new Error("ObjectPattern#get() has no implementation.")}declareVariable(e,t){for(const s of this.properties)s instanceof Ge&&(t=this.getFromObject(e,t)),s.declareVariable(e,t)}getFromObject(e,t){const s=[];s.push(...Object.keys(t)),s.push(...Object.getOwnPropertySymbols(t));const r={},n=e.lastScope().getContext();for(const e of s)e in n||(r[e]=t[e]);return r}dependency(e){return this.properties.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.properties.flatMap((t=>t.dependencyPath(e)))}toString(){return`{ ${this.properties.map((e=>e.toString())).join(", ")} }`}toJson(){return{properties:this.properties.map((e=>e.toJSON()))}}};return i=t})(),it=(()=>{let e,t,s=[x("ExpressionStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}body;static fromJSON(e,t){return new i(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("ExpressionStatement#set() has no implementation.")}get(e){let t;return this.body.forEach((s=>t=s.get(e))),t}dependency(e){return this.body.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.body.flatMap((t=>t.dependencyPath(e)))}toString(){return this.body.map((e=>({insert:!B(e),string:e.toString()}))).map((e=>`${e.string}${e.insert?";":""}`)).join("\n")}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return i=t})();class at extends g{local;constructor(e,t,s){super(t,s),this.local=e}getLocal(){return this.local}getLocalName(){return this.local.getName()}toJson(){return{local:this.local.toJSON()}}}let ot=(()=>{let e,t,s=[x("ImportAttribute")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}key;value;static fromJSON(e,t){return new i(t(e.key),t(e.value),e.range,e.loc)}static visit(e,t){t(e.key),t(e.value)}constructor(e,t,s,r){super(s,r),this.key=e,this.value=t}getKey(){return this.key}getValue(){return this.value}set(e,t){throw new Error("Method not implemented.")}get(e,t){return{[this.key.get(e)]:this.value.get()}}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.key.toString()}: ${this.value.toString()}`}toJson(){return{key:this.key.toJSON(),value:this.value.toJSON()}}};return i=t})(),ct=(()=>{let e,t,s=[x("ExportSpecifier")],r=[],n=at;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}exported;static fromJSON(e,t){return new i(t(e.local),t(e.exported),e.range,e.loc)}static visit(e,t){t(e.local),t(e.exported)}constructor(e,t,s,r){super(e,s,r),this.exported=t}getExported(){return this.exported}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){const e=this.local.toString(),t=this.exported.toString();return e==t?e:`${e} as ${t}`}toJson(){return{local:this.local.toJSON(),exported:this.exported.toJSON()}}};return i=t})(),lt=(()=>{let e,t,s=[x("ExportNamedDeclaration")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}specifiers;declaration;source;assertions;static fromJSON(e,t){return new i(e.specifiers.map(t),e.declaration?t(e.declaration):void 0,e.source?t(e.source):void 0,e.assertions?e.assertions.map(t):void 0,e.range,e.loc)}static visit(e,t){e.specifiers.map(t),e.source&&t(e.source),e.declaration&&t(e.declaration),e.assertions?.forEach(t)}constructor(e,t,s,r,n,i){super(n,i),this.specifiers=e,this.declaration=t,this.source=s,this.assertions=r}getSource(){return this.source}getSpecifiers(){return this.specifiers}getDeclaration(){return this.declaration}getAssertions(){return this.assertions}set(e){throw new Error("ExportNamedDeclaration.#set() has no implementation.")}get(e){this.declaration?this.exportDeclaration(e):this.source?this.exportFromSource(e):this.exportLocal(e)}exportDeclaration(e){if(!this.declaration)return;this.declaration.get(e);const t=this.declaration.getDeclarationName?.();if(!t)throw new Error(`Name is not defined for ${this.declaration.toString()}`);const s=e.get(t);e.getModule().set(t,s)}exportFromSource(e){if(!this.source)return;let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}const s=e.importModule(this.source.get(),t),r=e.getModule();this.specifiers.forEach((t=>{const n=t.getLocal().get(e),i=t.getExported().get(e),a=s.get(n);r.set(i,a);const o=s.subscribe(n,((e,t)=>{e!==t&&r.set(i,e)}));e.onDestroy((()=>o.unsubscribe()))}))}exportLocal(e,t){const s=e.getModule();this.specifiers.forEach((t=>{const r=t.getLocal().get(e),n=t.getExported().get(e),i=e.get(r);s.set(n,i);const a=e.findScope(r);if(a instanceof o){const t=a.subscribe(r,((e,t)=>{e!==t&&s.set(n,e)}));e.onDestroy((()=>t.unsubscribe()))}}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){if(this.declaration)return`export ${this.declaration.toString()}`;let e=`export {${this.specifiers.map((e=>e.toString())).join(",")}}`;return this.source?`${e} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`:`${e};`}toJson(){return{specifiers:this.specifiers.map((e=>e.toJSON())),source:this.source?.toJSON(),declaration:this.declaration?.toJSON(),assertions:this.assertions?.map((e=>e.toJSON()))}}};return i=t})(),ht=(()=>{let e,t,s=[x("ExportDefaultDeclaration")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}declaration;static fromJSON(e,t){return new i(t(e.declaration),e.range,e.loc)}static visit(e,t){t(e.declaration)}constructor(e,t,s){super(t,s),this.declaration=e}getDeclaration(){return this.declaration}set(e){throw new Error("ExportDefaultDeclaration.#set() has no implementation.")}get(e){const t=this.declaration.get(e);e.getModule().set("default",t)}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`export default ${this.declaration.toString()}`}toJson(){return{declaration:this.declaration.toJSON()}}};return i=t})(),ut=(()=>{let e,t,s=[x("ExportAllDeclaration")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}source;exported;assertions;static fromJSON(e,t){return new i(t(e.source),e.exported?t(e.exported):void 0,e.assertions?.map(t),e.range,e.loc)}static visit(e,t){t(e.source),e.exported&&t(e.exported),e.assertions?.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.source=e,this.exported=t,this.assertions=s}getSource(){return this.source}getExported(){return this.exported}getAssertions(){return this.assertions}set(e){throw new Error("ExportDefaultDeclaration.#set() has no implementation.")}get(e){let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}let s=e.getModule();const r=e.importModule(this.source.get(),t);if(this.exported){const t=this.exported.get(e);s.set(t,{}),s=s.getInnerScope(t)}Object.keys(r.getContext()).forEach((t=>{const n=r.get(t);s.set(t,n);const i=r.subscribe(t,((e,r)=>{e!==r&&s.set(t,e)}));e.onDestroy((()=>i.unsubscribe()))}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`export *${this.exported?` as ${this.exported.toString()}`:""} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`}toJson(){return{source:this.source.toJSON(),exported:this.exported?.toJSON(),assertions:this.assertions?.map((e=>e.toJSON()))}}};return i=t})(),pt=(()=>{let e,t,s=[x("ImportSpecifier")],r=[],n=at;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}imported;static fromJSON(e,t){return new i(t(e.local),t(e.imported),e.range,e.loc)}static visit(e,t){t(e.local),t(e.imported)}constructor(e,t,s,r){super(e,s,r),this.imported=t}getImported(){return this.imported}getImportedName(){return this.imported.getName()}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){const e=this.local.toString(),t=this.imported.toString();return e==t?e:`${t} as ${e}`}toJson(){return{local:this.local.toJSON(),imported:this.imported.toJSON()}}};return i=t})(),dt=(()=>{let e,t,s=[x("ImportDefaultSpecifier")],r=[],n=at;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.local),e.range,e.loc)}static visit(e,t){t(e.local)}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return this.local.toString()}};return i=t})(),mt=(()=>{let e,t,s=[x("ImportNamespaceSpecifier")],r=[],n=at;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.local),e.range,e.loc)}static visit(e,t){t(e.local)}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`* as ${this.local.toString()}`}};return i=t})(),ft=(()=>{let e,t,s=[x("ImportDeclaration")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}source;specifiers;assertions;static fromJSON(e,t){return new i(t(e.source),e.specifiers?.map(t),e.assertions?.map(t),e.range,e.loc)}static visit(e,t){t(e.source),e.specifiers?.forEach(t),e.assertions?.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.source=e,this.specifiers=t,this.assertions=s}getSource(){return this.source}getSpecifiers(){return this.specifiers}getAssertions(){return this.assertions}set(e){throw new Error("ImportDeclaration.#set() has no implementation.")}get(e){let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}const s=e.importModule(this.source.get(),t);this.specifiers&&this.specifiers.forEach((t=>{const r=t.getLocalName();if(t instanceof pt){const n=t.getImportedName(),i=s.get(n);e.getModule()?.set(r,i);const a=s.subscribe(r,((t,s)=>{t!==s&&e.getModule()?.set(r,t)}));e.onDestroy((()=>a.unsubscribe()))}else if(t instanceof dt){const t=s.get("default");e.getModule()?.set(r,t);const n=s.subscribe("default",((t,s)=>{t!==s&&e.getModule()?.set(r,t)}));e.onDestroy((()=>n.unsubscribe()))}else t instanceof mt&&e.getModule()?.importModule(r,s)}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){if(!this.specifiers)return`import '${this.source.toString()}'`;const e=[],t=this.specifiers.filter((e=>e instanceof dt));t?.length&&e.push(t[0].toString());const s=this.specifiers.filter((e=>e instanceof mt));s?.length&&e.push(s[0].toString());const r=this.specifiers.filter((e=>e instanceof pt));if(r?.length){const t=r.map((e=>e.toString())).join(",");e.push(`{ ${t} }`)}return`import ${e.join(", ")} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`}toJson(){return{source:this.source.toJSON(),specifiers:this.specifiers?.map((e=>e.toJSON())),assertions:this.assertions?.map((e=>e.toJSON()))}}};return i=t})(),gt=(()=>{let e,t,s=[x("ImportExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}source;attributes;static fromJSON(e,t){return new i(t(e.source),e.attributes&&t(e.attributes)||void 0,e.range,e.loc)}static visit(e,t){t(e.source),e.attributes&&t(e.attributes)}constructor(e,t,s,r){super(s,r),this.source=e,this.attributes=t}getSource(){return this.source}set(e){throw new Error("ImportDeclaration.#set() has no implementation.")}get(e){let t;this.attributes&&(t=this.attributes.get(e));const s=e.importModule(this.source.get(),t);return Promise.resolve(s)}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`import(${this.source.toString()}${this.attributes?`, ${this.attributes.toString()}`:""})`}toJson(){return{source:this.source.toJSON()}}};return i=t})(),yt=(()=>{let e,t,s=[x("AssignmentExpression")],r=[],n=y;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static fromJSON(e,t){return new i(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"=":e=>e.left=e.right,"*=":e=>e.left*=e.right,"**=":e=>e.left**=e.right,"/=":e=>e.left/=e.right,"%=":e=>e.left%=e.right,"+=":e=>e.left+=e.right,"-=":e=>e.left-=e.right,"<<=":e=>e.left<<=e.right,">>=":e=>e.left>>=e.right,">>>=":e=>e.left>>>=e.right,"&=":e=>e.left&=e.right,"^=":e=>e.left^=e.right,"|=":e=>e.left|=e.right,"%%=":e=>e.left%=(e.left%e.right+e.right)%e.right,">?=":e=>e.left=e.left>e.right?e.left:e.right,"<?=":e=>e.left=e.left>e.right?e.right:e.left};static LogicalEvaluations={"&&=":(e,t)=>{let s=e.left.get(t);return s&&(s=e.right.get(t),e.set(t,s)),s},"||=":(e,t)=>{let s=e.left.get(t);return s||(s=e.right.get(t),e.set(t,s)),s},"??=":(e,t)=>{let s=e.left.get(t);return null==s&&(s=e.right.get(t),e.set(t,s)),s}};constructor(e,t,s,r,n){super(e,t,s,r,n)}set(e,t){return this.left.set(e,t)}get(e){switch(this.operator){case"&&=":case"||=":case"??=":return i.LogicalEvaluations[this.operator](this,e)}const t={left:this.left.get(e),right:this.right.get(e)},s=i.Evaluations[this.operator](t);return this.set(e,s),s}static{(0,m.Co)(t,r)}};return i=t})(),bt=(()=>{let e,t,s=[x("AwaitExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}argument;static fromJSON(e,t){return new i(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("AwaitExpression#set() has no implementation.")}get(e,t){const s=this.argument.get(e);return new w(s)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`await ${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return i=t})(),St=(()=>{let e,t,s=[x("BinaryExpression")],r=[],n=y;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static fromJSON(e,t){return new i(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"==":e=>e.left==e.right,"!=":e=>e.left!=e.right,"===":e=>e.left===e.right,"!==":e=>e.left!==e.right,"<":e=>e.left<e.right,"<=":e=>e.left<=e.right,">":e=>e.left>e.right,">=":e=>e.left>=e.right,"*":e=>e.left*e.right,"/":e=>e.left/e.right,"%":e=>e.left%e.right,"+":e=>e.left+e.right,"-":e=>e.left-e.right,in:e=>e.left in e.right,instanceof:e=>e.left instanceof e.right,"<<":e=>e.left<<e.right,">>":e=>e.left>>e.right,">>>":e=>e.left>>>e.right,"&":e=>e.left&e.right,"^":e=>e.left^e.right,"|":e=>e.left|e.right,"**":e=>e.left**e.right,"%%":e=>(e.left%e.right+e.right)%e.right,">?":e=>e.left>e.right?e.left:e.right,"<?":e=>e.left>e.right?e.right:e.left,"<=>":e=>null===e.left||null===e.right||typeof e.left!=typeof e.right?null:"string"==typeof e.left?e.left.localeCompare(e.right):e.left>e.right?1:e.left<e.right?-1:0};set(e,t){throw new Error(`BinaryExpression#set() for operator:(${this.operator}) has no implementation.`)}get(e){const t={left:this.left.get(e),right:this.right.get(e)};return i.Evaluations[this.operator](t)}static{(0,m.Co)(t,r)}};return i=t})(),Et=(()=>{let e,t,s=[x("ChainExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}expression;static fromJSON(e,t){return new i(t(e.expression),e.range,e.loc)}static visit(e,t){t(e.expression)}constructor(e,t,s){super(t,s),this.expression=e}getExpression(){return this.expression}set(e,t){throw new Error("ChainExpression.#set() has no implementation.")}get(e,t){return this.expression.get(e,t)}findScope(e,t){return this.expression.findScope(e,t)}dependency(e){return this.expression.dependency(e)}dependencyPath(e){return this.expression.dependencyPath(e)}toString(){return this.expression.toString()}toJson(){return{expression:this.expression.toJSON()}}};return i=t})(),wt=(()=>{let e,t,s=[x("SequenceExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}expressions;static fromJSON(e,t){return new i(e.expressions.map(t),e.range,e.loc)}static visit(e,t){e.expressions.forEach(t)}constructor(e,t,s){super(t,s),this.expressions=e}getExpressions(){return this.expressions}set(e){throw new Error("SequenceExpression.#set() has no implementation.")}get(e){return this.expressions.map((t=>t.get(e))).pop()}dependency(e){return this.expressions.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.expressions.flatMap((t=>t.dependencyPath(e)))}toString(){return this.expressions.map((e=>e.toString())).join(", ")}toJson(){return{expressions:this.expressions.map((e=>e.toJSON()))}}};return i=t})(),vt=(()=>{let e,t,s=[x("GroupingExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}node;static fromJSON(e,t){return new i(t(e.node),e.range,e.loc)}static visit(e,t){t(e.node)}constructor(e,t,s){super(t,s),this.node=e}getNode(){return this.node}set(e,t){this.node.set(e,t)}get(e){return this.node.get(e)}dependency(e){return this.node.dependency(e)}dependencyPath(e){return this.node.dependencyPath(e)}toString(){return`(${this.node.toString()})`}toJson(){return{node:this.node.toJSON()}}};return i=t})(),At=(()=>{let e,t,s=[x("LogicalExpression")],r=[],n=y;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}static fromJSON(e,t){return new i(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"&&":(e,t)=>{let s=e.left.get(t);return s&&(s=e.right.get(t)),s},"||":(e,t)=>{let s=e.left.get(t);return s||(s=e.right.get(t)),s},"??":(e,t)=>{let s=e.left.get(t);return null==s&&(s=e.right.get(t)),s}};get(e){return i.Evaluations[this.operator](this,e)}static{(0,m.Co)(t,r)}};return i=t})(),xt=(()=>{let e,t,s=[x("PipelineExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}left;right;static fromJSON(e,t){return new i(t(e.left),t(e.right),e.arguments.map((e=>"string"==typeof e?e:t(e))),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),e.arguments.forEach((e=>"object"==typeof e&&t(e)))}arguments;constructor(e,t,s=[],r,n){super(r,n),this.left=e,this.right=t,this.arguments=s}getLeft(){return this.left}getRight(){return this.right}getArguments(){return this.arguments}set(e,t){throw new Error("PipelineNode#set() has no implementation.")}get(e){const t=this.left.get(e),s=[];let r=!1;for(const n of this.arguments)if("?"===n)s.push(t),r=!0;else if("...?"===n)s.push(...t),r=!0;else if(n instanceof H){const t=e.pushBlockScopeFor(s);n.get(e),e.clearTo(t)}else s.push(n.get(e));r||s.unshift(t);const n=this.right.get(e);if(this.right instanceof $){const t=this.right.getObject().get(e);return n.apply(t,s)}return n(...s)}dependency(e){return this.right.dependency(e).concat(this.left.dependency(e),this.arguments.filter((e=>"?"!==e&&"...?"!==e)).flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.right.dependencyPath(e).concat(this.left.dependencyPath(e),this.arguments.filter((e=>"?"!==e&&"...?"!==e)).flatMap((t=>t.dependencyPath(e))))}toString(){return`${this.left.toString()} |> ${this.right.toString()}${this.arguments.flatMap((e=>`:${e.toString()}`)).join("")}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),arguments:this.arguments.map((e=>"string"==typeof e?e:e.toJSON()))}}};return i=t})(),Tt=(()=>{let e,t,s=[x("ConditionalExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}test;alternate;consequent;static fromJSON(e,t){return new i(t(e.test),t(e.alternate),t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.test),t(e.alternate),t(e.consequent)}constructor(e,t,s,r,n){super(r,n),this.test=e,this.alternate=t,this.consequent=s}getTest(){return this.test}getAlternate(){return this.alternate}getConsequent(){return this.consequent}set(e,t){throw new Error("ConditionalExpression#set() has no implementation.")}get(e){return this.test.get(e)?this.consequent.get(e):this.alternate.get(e)}dependency(e){return this.test.dependency(e).concat(this.alternate.dependency(e),this.consequent.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.alternate.dependencyPath(e),this.consequent.dependencyPath(e))}toString(){return`${this.test.toString()} ? (${this.alternate.toString()}):(${this.consequent.toString()})`}toJson(){return{test:this.test.toJSON(),alternate:this.alternate.toJSON(),consequent:this.consequent.toJSON()}}};return i=t})(),kt=(()=>{let e,t,s=[x("UnaryExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}operator;argument;static fromJSON(e,t){return new i(e.operator,t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}static Evaluations={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e,void:e=>{},typeof:e=>typeof e};constructor(e,t,s,r){super(s,r),this.operator=e,this.argument=t}getOperator(){return this.operator}getArgument(){return this.argument}set(e,t){return this.argument.set(e,t)}get(e,t){if("delete"===this.operator)return this.executeDelete(e,t);{const t=this.argument.get(e);return i.Evaluations[this.operator](t)}}executeDelete(e,t){if(this.argument instanceof $){const t=this.argument.findScope(e);let s;const r=this.argument.getProperty();return s=r instanceof $?this.argument.getProperty().get(e):r instanceof N?r.getValue():this.argument.getProperty().get(e),t.delete(s)}return!1}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){switch(this.operator){case"void":case"delete":case"typeof":return`${this.operator} ${this.argument.toString()}`;default:return`${this.operator}${this.argument.toString()}`}}toJson(){return{operator:this.operator,argument:this.argument.toJSON(),prefix:!0}}static{(0,m.Co)(t,r)}};return i=t})(),Ct=(()=>{let e,t,s=[x("UpdateExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}operator;argument;prefix;static fromJSON(e,t){return new i(e.operator,t(e.argument),e.prefix,e.range,e.loc)}static visit(e,t){t(e.argument)}static PostfixEvaluations={"++":e=>e.value++,"--":e=>e.value--};static PrefixEvaluations={"++":e=>++e.value,"--":e=>--e.value};constructor(e,t,s,r,n){super(r,n),this.operator=e,this.argument=t,this.prefix=s}getOperator(){return this.operator}getArgument(){return this.argument}set(e,t){this.argument.set(e,t)}get(e){const t={value:this.argument.get(e)},s=this.prefix?i.PrefixEvaluations[this.operator](t):i.PostfixEvaluations[this.operator](t);return this.set(e,t.value),s}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return this.prefix?`${this.operator}${this.argument.toString()}`:`${this.argument.toString()}${this.operator}`}toJson(){return{operator:this.operator,argument:this.argument.toJSON(),prefix:this.prefix}}static{(0,m.Co)(t,r)}};return i=t})(),Nt=(()=>{let e,t,s=[x("Program")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}sourceType;body;static fromJSON(e,t){return new i(e.sourceType,e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s,r){super(s,r),this.sourceType=e,this.body=t}set(e,t){throw new Error("Program#set() has no implementation.")}get(e){return this.body.map((t=>t.get(e))).at(-1)}dependency(e){return this.body.flatMap((e=>e.dependency()))}dependencyPath(e){return this.body.flatMap((e=>e.dependencyPath()))}toString(){return this.body.map((e=>e.toString())).join("\n")}toJson(){return{sourceType:this.sourceType,body:this.body.map((e=>e.toJSON()))}}};return i=t})(),Ot=(()=>{let e,t,s=[x("IfStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}test;consequent;alternate;static fromJSON(e,t){return new i(t(e.test),t(e.consequent),e.alternate?t(e.alternate):void 0,e.range,e.loc)}static visit(e,t){t(e.test),t(e.consequent),e.alternate&&t(e.alternate)}constructor(e,t,s,r,n){super(r,n),this.test=e,this.consequent=t,this.alternate=s}getTest(){return this.test}getConsequent(){return this.consequent}getAlternate(){return this.alternate}set(e,t){throw new Error("IfStatement#set() has no implementation.")}get(e){if(this.test.get(e)){const t=e.pushBlockScope(),s=this.consequent.get(e);return e.clearTo(t),s}if(this.alternate){const t=e.pushBlockScope(),s=this.alternate.get(e);return e.clearTo(t),s}}dependency(e){return this.test.dependency(e).concat(this.consequent.dependency(e),this.alternate?.dependency(e)||[])}dependencyPath(e){return this.test.dependencyPath(e).concat(this.consequent.dependencyPath(e),this.alternate?.dependencyPath(e)||[])}toString(){return`if (${this.test.toString()}) ${this.consequent.toString()}${this.alternate?" else ":""}${this.alternate?this.alternate.toString():""}`}toJson(){return{test:this.test.toJSON(),consequent:this.consequent.toJSON(),alternate:this.alternate?.toJSON()}}};return i=t})(),_t=(()=>{let e,t,s=[x("SwitchCase")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}test;consequent;static fromJSON(e,t){return new i(t(e.test),t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.test),t(e.consequent)}constructor(e,t,s,r){super(s,r),this.test=e,this.consequent=t}getTest(){return this.test}getConsequent(){return this.consequent}set(e,t){throw new Error("SwitchCase#set() has no implementation.")}get(e){return this.consequent.get(e)}dependency(e){return this.test.dependency(e).concat(this.consequent.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.consequent.dependencyPath(e))}toString(){return`case ${this.test.toString()}: ${this.consequent.toString()};`}toJson(){return{test:this.test.toJSON(),consequent:this.consequent.toJSON()}}};return i=t})(),It=(()=>{let e,t,s=[x("default")],r=[],n=_t;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}static fromJSON(e,t){return new i(t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.consequent)}constructor(e,t,s){super(new k("default"),e,t,s)}dependency(e){return this.consequent.dependency(e)}dependencyPath(e){return this.consequent.dependencyPath(e)}toString(){return`default: ${this.consequent.toString()};`}toJson(){return{consequent:this.consequent.toJSON()}}};return i=t})(),Pt=(()=>{let e,t,s=[x("SwitchStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}discriminant;cases;static fromJSON(e,t){return new i(t(e.discriminant),e.cases.map(t),e.range,e.loc)}static visit(e,t){t(e.discriminant),e.cases.forEach(t)}constructor(e,t,s,r){super(s,r),this.discriminant=e,this.cases=t}getDiscriminant(){return this.discriminant}getCases(){return this.cases}set(e,t){throw new Error("SwitchStatement#set() has no implementation.")}get(e){const t=this.discriminant.get(e);let s=this.cases.map((t=>t.getTest().get(e))).findIndex((e=>t===e));if(-1===s&&(s=this.cases.findIndex((e=>e instanceof It)),-1===s))return;const r=e.pushBlockScope();for(let r=s;r<this.cases.length;r++)if(this.cases[r].get(e),t instanceof R){if("continue"===t.type)continue;break}e.clearTo(r)}dependency(e){return this.discriminant.dependency(e).concat(this.cases.flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.discriminant.dependencyPath(e).concat(this.cases.flatMap((t=>t.dependencyPath(e))))}toString(){return`switch (${this.discriminant.toString()}) {${this.cases.map((e=>e.toString()))}`}toJson(){return{discriminant:this.discriminant.toJSON(),cases:this.cases.map((e=>e.toJSON()))}}};return i=t})(),Rt=(()=>{let e,t,s=[x("WithStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}object;body;static fromJSON(e,t){return new i(t(e.object),t(e.body),e.range,e.loc)}static visit(e,t){t(e.object),t(e.body)}constructor(e,t,s,r){super(s,r),this.object=e,this.body=t}getObject(){return this.object}getBody(){return this.body}set(e,t){throw new Error("WithStatement#set() has no implementation.")}get(e){const t=this.object.get(e);let s;if(t[Symbol.unscopables]){const e=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],r=Object.entries(t[Symbol.unscopables]).filter((e=>e[1])).map((e=>e[0]));s=e.filter((e=>!r.includes(e)))}const r=e.pushBlockScopeFor(t,s);r.getContextProxy=()=>t;const n=this.body.get(e);return e.clearTo(r),n}dependency(e){return this.object.dependency(e).concat(this.body.dependency(e))}dependencyPath(e){return this.object.dependencyPath(e).concat(this.body.dependencyPath(e))}toString(){return`with (${this.object.toString()}) ${this.body.toString()}`}toJson(){return{object:this.object.toJSON(),body:this.body.toJSON()}}};return i=t})(),Lt=(()=>{let e,t,s=[x("VariableDeclarator")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}id;init;static fromJSON(e,t){return new i(t(e.id),e.init?t(e.init):void 0,e.range,e.loc)}static visit(e,t){t(e.id),e.init&&t(e.init)}constructor(e,t,s,r){super(s,r),this.id=e,this.init=t}getId(){return this.id}getInit(){return this.init}set(e,t){throw new Error("VariableNode#set() has no implementation.")}get(e){this.declareVariable(e)}declareVariable(e,t){if(void 0!==t)return void this.id.declareVariable(e,t);const s=this.init?.get(e);s instanceof w?(s.node=this.id,s.declareVariable=!0,s.node.declareVariable(e),e.resolveAwait(s)):this.id.declareVariable(e,s)}getDeclarationName(){return this.id.getDeclarationName()}dependency(e){return this.init?.dependency()||[]}dependencyPath(e){return this.init?.dependencyPath(e)||[]}toString(){return`${this.id.toString()}${this.init?` = ${this.init.toString()}`:""}`}toJson(){return{id:this.id.toJSON(),init:this.init?.toJSON()}}};return i=t})(),Dt=(()=>{let e,t,s=[x("VariableDeclaration")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}declarations;kind;static fromJSON(e,t){return new i(e.declarations.map(t),e.kind,e.range,e.loc)}static visit(e,t){e.declarations.forEach(t)}constructor(e,t,s,r){super(s,r),this.declarations=e,this.kind=t}getDeclarations(){return this.declarations}getKind(){return this.kind}set(e,t){if(Array.isArray(t))throw new Error("VariableDeclarationNode#set() has no implementation.");this.declarations[0].id.set(e,t)}get(e){for(const t of this.declarations)t.declareVariable(e)}getDeclarationName(){return this.declarations[0].getDeclarationName()}declareVariable(e,t){this.declarations[0].declareVariable(e,t)}dependency(e){return this.declarations.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.declarations.flatMap((t=>t.dependencyPath(e)))}toString(){return`${this.kind} ${this.declarations.map((e=>e.toString())).join(", ")};`}toJson(){return{kind:this.kind,declarations:this.declarations.map((e=>e.toJSON()))}}};return i=t})(),Mt=(()=>{let e,t,s=[x("ForStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}body;init;test;update;static fromJSON(e,t){return new i(t(e.body),e.init&&t(e.init),e.test&&t(e.test),e.update&&t(e.update),e.range,e.loc)}static visit(e,t){t(e.body),e.init&&t(e.init),e.test&&t(e.test),e.update&&t(e.update)}constructor(e,t,s,r,n,i){super(n,i),this.body=e,this.init=t,this.test=s,this.update=r}getBody(){return this.body}getInit(){return this.init}getTest(){return this.test}getUpdate(){return this.update}set(e,t){throw new Error("ForNode#set() has no implementation.")}get(e){const t=e.pushBlockScope();for(this.init?.get(e);this.test?.get(e)??1;this.update?.get(e)){const s=this.body.get(e);if(s instanceof R){if("continue"===s.type)continue;break}if(s instanceof b)return e.clearTo(t),s}e.clearTo(t)}dependency(e){let t=this.body.dependency(e);return this.init&&(t=t.concat(this.init.dependency(e))),this.test&&(t=t.concat(this.test.dependency(e))),this.update&&(t=t.concat(this.update.dependency(e))),t}dependencyPath(e){let t=this.body.dependencyPath(e);return this.init&&(t=t.concat(this.init.dependencyPath(e))),this.test&&(t=t.concat(this.test.dependencyPath(e))),this.update&&(t=t.concat(this.update.dependencyPath(e))),t}toString(){return`for (${this.init?.toString()};${this.test?.toString()};${this.init?.toString()}) ${this.body.toString()}`}toJson(){return{body:this.body.toJSON(),init:this.init?.toJSON(),test:this.test?.toJSON(),update:this.update?.toJSON()}}};return i=t})(),Ft=(()=>{let e,t,s=[x("ForOfStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}left;right;body;static fromJSON(e,t){return new i(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);for(const s of t){const t=e.pushBlockScope();this.left.declareVariable(e,s);const r=this.body.get(e);if(r instanceof R){if("continue"===r.type)continue;break}if(r instanceof b)return e.clearTo(t),r;e.clearTo(t)}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left?.toString()} of ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return i=t})(),Bt=(()=>{let e,t,s=[x("ForInStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}left;right;body;static fromJSON(e,t){return new i(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);for(const s in t){const t=e.pushBlockScope();this.left.declareVariable(e,s);const r=this.body.get(e);if(r instanceof R){if("continue"===r.type)continue;break}if(r instanceof b)return e.clearTo(t),r;e.clearTo(t)}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left.toString()} in ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return i=t})(),jt=(()=>{let e,t,s=[x("ForAwaitOfStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}left;right;body;static fromJSON(e,t){return new i(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForAwaitOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);e.forAwaitAsyncIterable={iterable:t,forAwaitBody:t=>{const s=e.pushBlockScope();this.left.declareVariable(e,t);const r=this.body.get(e);return e.clearTo(s),r}}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left?.toString()} of ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return i=t})(),Ht=(()=>{let e,t,s=[x("WhileStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}test;body;static fromJSON(e,t){return new i(t(e.test),t(e.body),e.range,e.loc)}static visit(e,t){t(e.body),t(e.test)}constructor(e,t,s,r){super(s,r),this.test=e,this.body=t}getTest(){return this.test}getBody(){return this.body}set(e,t){throw new Error("WhileNode#set() has no implementation.")}get(e){const t=this.test.get(e),s=e.pushBlockScope();for(;t;){const t=this.body.get(e);if(t instanceof R){if("continue"===t.type)continue;break}if(t instanceof b)return e.clearTo(s),t}e.clearTo(s)}dependency(e){return this.test.dependency(e).concat(this.body.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.body.dependencyPath(e))}toString(){return`while (${this.test.toString()}) ${this.body.toString()}`}toJson(){return{test:this.test.toJSON(),body:this.body.toJSON()}}};return i=t})(),$t=(()=>{let e,t,s=[x("DoWhileStatement")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}test;body;static fromJSON(e,t){return new i(t(e.test),t(e.body),e.range,e.loc)}static visit(e,t){t(e.test),t(e.body)}constructor(e,t,s,r){super(s,r),this.test=e,this.body=t}getTest(){return this.test}getBody(){return this.body}set(e,t){throw new Error("WhileNode#set() has no implementation.")}get(e){const t=e.pushBlockScope();do{const s=this.body.get(e);if(s instanceof R){if("continue"===s.type)continue;break}if(s instanceof b)return e.clearTo(t),s}while(this.test.get(e));e.clearTo(t)}dependency(e){return this.body.dependency(e).concat(this.test.dependency(e))}dependencyPath(e){return this.body.dependencyPath(e).concat(this.test.dependencyPath(e))}toString(){return`do {${this.body.toString()}} while (${this.test.toString()})`}toJson(){return{test:this.test.toJSON(),body:this.body.toJSON()}}};return i=t})();class Vt{source;newLineRegex=new RegExp("\n","g");constructor(e){this.source=e}getLineNumber(e,t){return this.source.substring(0,e).match(this.newLineRegex)?.length??t}getColumnNumber(e){const t=this.source.lastIndexOf("\n",e);return-1===t?e:e-t-1}createSourcePosition(e){if(!e||!this.source)return;const t=this.getLineNumber(e[0],1),s=this.getLineNumber(e[1],t);return{start:{line:t,column:this.getColumnNumber(e[0])},end:{line:s,column:this.getColumnNumber(e[1])}}}}class Gt{rangeFactory;constructor(e){this.rangeFactory=e}createDebuggerStatement(e){const t=this.rangeFactory?.createSourcePosition(e);return new Re(e,t)}createSuper(e){const t=this.rangeFactory?.createSourcePosition(e);return new z(e,t)}createThis(e){const t=this.rangeFactory?.createSourcePosition(e);return new C(e,t)}createNull(e){const t=this.rangeFactory?.createSourcePosition(e);return new N(null,void 0,void 0,void 0,e,t)}createTrue(e){const t=this.rangeFactory?.createSourcePosition(e);return new N(!0,void 0,void 0,void 0,e,t)}createFalse(e){const t=this.rangeFactory?.createSourcePosition(e);return new N(!1,void 0,void 0,void 0,e,t)}createVoidZero(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new kt("void",e,t,s)}createEmptyStatement(e){const t=this.rangeFactory?.createSourcePosition(e);return new Pe(e,t)}createExpressionStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new it(e,t,s)}createCatchClause(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ze(e,t,s,r)}createTryStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new We(e,t,s,r,n)}createThrowStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ue(e,t,s)}createBlock(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new j(e,t,s)}createIfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Ot(e,t,s,r,n)}createDoStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new $t(e,t,s,r)}createClassDeclaration(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new te(e,t,s,r,n,i)}createFunctionDeclaration(e,t,s,r,n,i){const a=this.rangeFactory?.createSourcePosition(i);return new et(e,t,s,r,n,i,a)}createFunctionExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Qe(e,t,s,r,void 0,n,i)}createWhileStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Ht(e,t,s,r)}createSwitchStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Pt(e,t,s,r)}createCaseBlock(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new _t(e,t,s,r)}createDefaultClause(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new It(e,t,s)}createWithStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Rt(e,t,s,r)}createForStatement(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Mt(e,t,s,r,n,i)}createForOfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Ft(e,t,s,r,n)}createForAwaitOfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new jt(e,t,s,r,n)}createForInStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Bt(e,t,s,r,n)}createVariableDeclaration(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Lt(e,t,s,r)}createVariableStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Dt(e,t,s,r)}createContinueStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new M(e,t,s)}createBreakStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new D(e,t,s)}createReturnStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Je(e,t,s)}createLabeledStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new F(e,t,s,r)}createAssignmentPattern(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Xe(e,t,s,r)}createSpreadElement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new H(e,t,s)}createCommaListExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new wt(e,t,s)}createTemplateExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new I(e,t,s,r)}createTaggedTemplateExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new P(e,t,s,r,n)}createNewExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Ve(e,t,s,r)}createObjectBindingPattern(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new nt(e,t,s)}createObjectLiteralExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new rt(e,t,s)}createArrayBindingPattern(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ze(e,t,s)}createArrayLiteralExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new qe(e,t,s)}createAssignment(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new yt(e,t,s,r,n)}createRestElement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ge(e,t,s)}createArrowFunction(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new tt(e,t,s,r,n,i)}createPropertyDeclaration(e,t,s,r,n,i,a){const o=this.rangeFactory?.createSourcePosition(a);return new st(e,t,s,r,n,i,a,o)}createIdentifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new k(e,t,s)}createPropertyAssignment(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new $(e,t,s,r,n,i)}createPipelineExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new xt(e,t,s,r,n)}createCallExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new V(e,t,s,r,n)}createBindExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Ye(e,t,s,r,n,i)}createChainExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Et(e,t,s)}createLogicalExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new At(e,t,s,r,n)}createConditionalExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Tt(e,t,s,r,n)}createYieldExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Ke(e,t,s,r)}createMetaProperty(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new W(e,t,s,r)}createProgram(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Nt(e,t,s,r)}createClassExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new se(e,t,s,r,n,i)}createClassStaticBlockDeclaration(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new q(e,t,s)}createMethodSignature(e,t,s,r,n,i,a){const o=this.rangeFactory?.createSourcePosition(a);return new Y(e,t,s,r,n,i,a,o)}createPropertySignature(e,t,s,r,n,i){const a=this.rangeFactory?.createSourcePosition(i);return new X(e,t,s,r,n,i,a)}createClassBody(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Q(e,t,s)}createNamespaceExportDeclaration(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new lt(e,t,s,r,n,i)}createExportSpecifier(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ct(e,t,s,r)}createImportSpecifier(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new pt(e,t,s,r)}createImportDeclaration(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new ft(e,t,s,r,n)}createImportNamespaceSpecifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new mt(e,t,s)}createImportDefaultSpecifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new dt(e,t,s)}createImportExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new gt(e,t,s,r)}createAssertEntry(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ot(e,t,s,r)}createExportDefault(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new ht(e,t,s)}createExportAllDeclaration(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new ut(e,t,s,r,n)}createInfixExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);switch(e){case"=":case"+=":case"-=":case"**=":case"/=":case"%=":case"<<=":case">>=":case">>>=":case"&=":case"^=":case"|=":case"&&=":case"||=":case"??=":return new yt(e,t,s,r,n);case"&&":case"||":case"??":return new At(e,t,s,r,n);case"**":case"*":case"/":case"%":case"+":case"-":case"<":case"<=":case">":case">=":case"in":case"instanceof":case"==":case"!=":case"===":case"!==":case"<<":case">>":case">>>":case"&":case"^":case"|":case">?":case"<?":case"<=>":return new St(e,t,s,r,n);default:throw new Error(`Not Supported Operator: ${e}`)}}createUnaryExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);switch(e){case"++":case"--":return new Ct(e,t,!0,s,r);case"+":case"-":case"!":case"~":case"typeof":case"void":case"delete":return new kt(e,t,s,r);case"await":return new bt(t,s,r);default:throw new Error(`${e} is not prefix operator`)}}createUpdateExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Ct(e,t,s,r,n)}createAwaitExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new bt(e,t,s)}isIdentifier(e){return e instanceof k||"Identifier"===e?.type}isObjectExpression(e){return e instanceof rt||"ObjectExpression"===e?.type}isArrayExpression(e){return e instanceof qe||"ArrayExpression"===e?.type}isObjectPattern(e){return e instanceof nt||"ObjectPattern"===e?.type}isArrayPattern(e){return e instanceof Ze||"ArrayPattern"===e?.type}isAssignmentPattern(e){return e instanceof Xe||"AssignmentPattern"===e?.type}isPattern(e){return this.isObjectPattern(e)||this.isArrayPattern(e)||this.isAssignmentPattern(e)}canBePattern(e){return this.isObjectExpression(e)||this.isArrayExpression(e)}isProperty(e){return e instanceof st||"Property"===e?.type}isMemberExpression(e){return e instanceof $||"MemberExpression"===e?.type}isPropertyOrMemberExpression(e){return this.isProperty(e)||this.isMemberExpression(e)}isEmptyStatement(e){return e instanceof Pe||"EmptyStatement"===e?.type}isSequenceExpression(e){return e instanceof wt||"SequenceExpression"===e?.type}isSuper(e){return e instanceof z||"Super"===e?.type}isAssignmentExpression(e){return e instanceof yt||"AssignmentExpression"===e?.type}isGroupingExpression(e){return e instanceof vt||"GroupingExpression"===e?.type}isSpreadElement(e){return e instanceof H||"SpreadElement"===e?.type}}class Jt{scanner;factory;acceptIN;previousAcceptIN=[];functionKind;previousFunctionKind=[];get languageMode(){return this.scanner.getLanguageMode()}set languageMode(e){this.scanner.setLanguageMode(e)}constructor(e,t,s){this.scanner=e,this.factory=t,this.previousAcceptIN.push(this.acceptIN=s??!1),this.previousFunctionKind.push(this.functionKind=pe.NormalFunction)}position(){return this.scanner.getPos()}setAcceptIN(e){this.previousAcceptIN.push(this.acceptIN),this.acceptIN=e}restoreAcceptIN(){this.acceptIN=this.previousAcceptIN.pop()??!1}getLastFunctionKind(){return this.previousFunctionKind.at(-2)??pe.NormalFunction}setFunctionKind(e){this.previousFunctionKind.push(this.functionKind),this.functionKind=e}restoreFunctionKind(){this.functionKind=this.previousFunctionKind.pop()??pe.NormalFunction}setStatue(e,t){this.setFunctionKind(t),this.setAcceptIN(e)}restoreStatue(){this.restoreFunctionKind(),this.restoreAcceptIN()}current(){return this.scanner.currentToken()}next(){return this.scanner.next()}peek(){return this.scanner.peek()}peekAhead(){return this.scanner.peekAhead()}peekAheadPosition(){return this.scanner.peekAheadPosition()}peekPosition(){return this.scanner.peekPosition()}createRange(e){if(!Number.isNaN(e?.range?.[0]))return[e.range[0],this.scanner.getPos()]}createRangeByStart(e){return[e.range[0],this.scanner.getPos()]}createStartPosition(){return[this.scanner.getPos(),-1]}updateRangeEnd(e){e[1]=this.scanner.getPos()}consume(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Parsing ${JSON.stringify(e)}`));return t}check(e){return!!this.scanner.peek().isType(e)&&(this.scanner.next(),!0)}checkAndGetValue(e){const t=this.scanner.peek();if(t.isType(e))return this.scanner.next(),t.value}checkValue(e){return this.scanner.peek().value==e&&(this.scanner.next(),!0)}expect(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(e)}, current is ${JSON.stringify(t)}`));return t}expectAndGetValue(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(e)}, current is ${JSON.stringify(t)}`));return t.getValue()}checkInOrOf(){const e=this.peekInOrOf();return e&&this.scanner.next(),e}peekInOrOf(){var e=this.peek();return e.isType(re.IN)?"IN":!(!this.factory.isIdentifier(e.value)||"of"!==e.value.getName())&&"OF"}isArguments(e){return this.factory.isIdentifier(e)&&"arguments"===e.getName()}isEval(e){return this.factory.isIdentifier(e)&&"eval"===e.getName()}isEvalOrArguments(e){return this.factory.isIdentifier(e)&&("eval"===e.getName()||"arguments"===e.getName())}isNextLetKeyword(){if(this.peek().isNotType(re.LET))return!1;switch(this.peekAhead().token){case re.LBRACE:case re.LBRACK:case re.IDENTIFIER:case re.STATIC:case re.LET:case re.YIELD:case re.AWAIT:case re.GET:case re.SET:case re.ASYNC:return!0;default:return!1}}markParenthesized(e){Reflect.set(e,"parenthesized",!0)}clearParenthesized(e){Reflect.deleteProperty(e,"parenthesized")}isParenthesized(e){return!0===Reflect.get(e,"parenthesized")}isAssignableIdentifier(e){return!(!this.factory.isIdentifier(e)||d(this.languageMode)&&this.isEvalOrArguments(e))}isValidReferenceExpression(e){return this.isAssignableIdentifier(e)||this.factory.isPropertyOrMemberExpression(e)}expectSemicolon(){const e=this.peek();if(e.isType(re.SEMICOLON))this.next();else if(!this.scanner.hasLineTerminatorBeforeNext()&&!re.isAutoSemicolon(e.token)&&this.scanner.currentToken().isType(re.AWAIT)&&!Ne(this.functionKind))throw new Error(this.errorMessage("Await Not In Async Context/Function"))}peekAnyIdentifier(){return re.isAnyIdentifier(this.peek().token)}expectContextualKeyword(e){const t=this.scanner.next();if(!t.test(((t,s)=>re.IDENTIFIER.equal(t)&&e===s?.toString())))throw new Error(this.errorMessage(`Unexpected Token: current Token is ${JSON.stringify(t)}`));return!0}checkContextualKeyword(e){return!!this.scanner.peek().test(((t,s)=>re.IDENTIFIER.equal(t)&&e===s?.toString()))&&(this.scanner.next(),!0)}peekContextualKeyword(e){return this.scanner.peek().test(((t,s)=>re.IDENTIFIER.equal(t)&&e===s?.toString()))}methodKindFor(e,t){return s=e?ge.StaticMethod:ge.NonStaticMethod,fe[s][0!=((r=t)&ue.IsGenerator)?1:0][0!=(r&ue.IsAsync)?1:0];var s,r}isGenerator(){return Ce(this.functionKind)}isAsyncFunction(){return Ne(this.functionKind)}is_async_function(){return Ne(this.functionKind)}is_async_generator(){return ke(this.functionKind)}is_resumable(){return Ce(e=this.functionKind)||Ne(e)||Te(e);var e}isAwaitAllowed(){return this.isAsyncFunction()||Te(this.functionKind)}isAwaitAsIdentifierDisallowed(){return d(this.languageMode)||Oe(this.functionKind)}shouldBanArguments(){return ie(this.functionKind,pe.ClassMembersInitializerFunction,pe.ClassStaticInitializerFunction)}errorMessage(e){return this.scanner.createError(e)}reportErrorMessage(e){console.error(this.scanner.createError(e))}}class Ut extends Jt{static parse(e,{mode:t,acceptIN:s,factory:r,addLocation:n}={}){t??=u.Strict;const i="string"==typeof e?je.getTokenStream(e,t):Array.isArray(e)?je.getTokenStream(e):e;if(s??=!1,null==r){const t=n&&"string"==typeof e?new Vt(e):void 0;r=new Gt(t)}return new Ut(i,r,s).scan()}constructor(e,t,s){super(e,t,s)}scan(){const e=this.scanner.getPos(),t=this.parseStatementList(re.EOS);return 1===t.length?t[0]:this.factory.createExpressionStatement(t,[e,this.scanner.getPos()])}parseStatement(e=xe.DisallowLabelledFunctionStatement){switch(this.peek().token){case re.LBRACE:return this.parseBlock();case re.SEMICOLON:const t=this.consume(re.SEMICOLON);return this.factory.createEmptyStatement(t.range);case re.IF:return this.parseIfStatement();case re.DO:return this.parseDoWhileStatement();case re.WHILE:return this.parseWhileStatement();case re.FOR:return this.isAwaitAllowed()&&this.peekAhead().isType(re.AWAIT)?this.parseForAwaitStatement():this.parseForStatement();case re.CONTINUE:return this.parseContinueStatement();case re.BREAK:return this.parseBreakStatement();case re.RETURN:return this.parseReturnStatement();case re.THROW:return this.parseThrowStatement();case re.TRY:return this.parseTryStatement();case re.SWITCH:return this.parseSwitchStatement();case re.WITH:return this.parseWithStatement();case re.FUNCTION:throw new SyntaxError(this.errorMessage("FunctionDeclaration only allowed as a StatementListItem not in an arbitrary Statement position."));case re.DEBUGGER:return this.parseDebuggerStatement();case re.VAR:return this.parseVariableDeclarations(Ae.Statement);case re.ASYNC:if(!this.scanner.hasLineTerminatorAfterNext()&&this.peekAhead().isType(re.FUNCTION))throw new SyntaxError(this.errorMessage("async function in single statement context."));default:return this.parseExpressionOrLabelledStatement(e)}}parseDebuggerStatement(){const e=this.consume(re.DEBUGGER);return this.expectSemicolon(),this.factory.createDebuggerStatement(e.range)}parseTryStatement(){const e=this.consume(re.TRY),t=this.parseBlock();let s,r,n,i=this.peek();if(i.isNotType(re.CATCH)&&i.isNotType(re.FINALLY))throw new Error(this.errorMessage("Uncaught SyntaxError: Missing catch or finally after try"));if(this.check(re.CATCH)){let t;this.check(re.LPAREN)&&(t=this.peekAnyIdentifier()?this.parseNonRestrictedIdentifier():this.parseBindingPattern(!0),this.expect(re.RPAREN));const n=this.parseBlock();r=this.factory.createCatchClause(n,t,this.createRange(i)),s=this.createRange(e)}return this.check(re.FINALLY)&&(n=this.parseBlock(),s=this.createRange(e)),this.factory.createTryStatement(t,r,n,s)}parseNonRestrictedIdentifier(){const e=this.parseIdentifier();if(d(this.languageMode)&&this.isEvalOrArguments(e))throw new SyntaxError(this.errorMessage("Strict Eval/Arguments "));return e}parseBlock(){const e=this.expect(re.LBRACE),t=[],s=this.createRangeByStart(e),r=this.factory.createBlock(t,s);for(;this.peek().isNotType(re.RBRACE);){const e=this.parseStatementListItem();if(!e)return r;this.factory.isEmptyStatement(e)||t.push(e)}return this.expect(re.RBRACE),this.updateRangeEnd(s),r}parseStatementListItem(){switch(this.peek().token){case re.FUNCTION:return this.parseHoistableDeclaration(void 0,!1,this.peek());case re.CLASS:const e=this.consume(re.CLASS);return this.parseClassDeclaration(void 0,!1,e);case re.VAR:case re.CONST:return this.parseVariableDeclarations(Ae.StatementListItem);case re.LET:if(this.isNextLetKeyword())return this.parseVariableDeclarations(Ae.StatementListItem);break;case re.ASYNC:if(this.peekAhead().isType(re.FUNCTION)&&!this.scanner.hasLineTerminatorAfterNext()){const e=this.consume(re.ASYNC);return this.parseAsyncFunctionDeclaration(void 0,!1,e)}}return this.parseStatement(xe.AllowLabelledFunctionStatement)}parseFunctionExpression(){const e=this.consume(re.FUNCTION),t=this.check(re.MUL)?pe.GeneratorFunction:pe.NormalFunction;let s,r=be.AnonymousExpression;return this.peek().isNotType(re.LPAREN)&&(s=this.parseIdentifier(this.getLastFunctionKind()),r=be.NamedExpression),this.parseFunctionLiteral(t,r,s,e)}parseAsyncFunctionDeclaration(e,t,s){if(this.scanner.hasLineTerminatorBeforeNext())throw new SyntaxError(this.errorMessage("Line Terminator Before `function` parsing `async function`."));return this.consume(re.FUNCTION),this.parseHoistableDeclaration01(pe.AsyncFunction,e,t,s)}parseIfStatement(){const e=this.consume(re.IF);this.consume(re.LPAREN);const t=this.parseExpression();this.consume(re.RPAREN);const s=this.parseScopedStatement();let r,n;return this.peek().isType(re.ELSE)&&(this.consume(re.ELSE),n=this.parseScopedStatement()),r=this.createRange(e),this.factory.createIfStatement(t,s,n,r)}parseScopedStatement(){return d(this.languageMode)||this.peek().isNotType(re.FUNCTION)?this.parseStatement():this.parseFunctionDeclaration()}parseDoWhileStatement(){const e=this.consume(re.DO),t=this.parseStatement();this.expect(re.WHILE),this.expect(re.LPAREN);const s=this.parseExpression();return this.expect(re.RPAREN),this.check(re.SEMICOLON),this.factory.createDoStatement(s,t,this.createRange(e))}parseWhileStatement(){const e=this.consume(re.WHILE);this.expect(re.LPAREN);const t=this.parseExpression();this.expect(re.RPAREN);const s=this.parseStatement();return this.factory.createWhileStatement(t,s,this.createRange(e))}parseThrowStatement(){const e=this.consume(re.THROW);if(this.scanner.hasLineTerminatorBeforeNext())throw new Error(this.scanner.createError("New line After Throw"));const t=this.parseExpression(),s=this.createRange(e);return this.expectSemicolon(),this.factory.createThrowStatement(t,s)}parseSwitchStatement(){const e=this.consume(re.SWITCH),t=this.createRangeByStart(e);this.expect(re.LPAREN);const s=this.parseExpression();this.expect(re.RPAREN);const r=[],n=this.factory.createSwitchStatement(s,r,t);let i=!1;for(this.expect(re.LBRACE);this.peek().isNotType(re.RBRACE);){const e=[];let t;const s=this.scanner.peek();if(this.check(re.CASE))t=this.parseExpression();else{if(this.expect(re.DEFAULT),i)throw new Error(this.errorMessage("Multiple Defaults In Switch"));i=!0}const n=this.expect(re.COLON);for(;this.peek().isNotType(re.CASE)&&this.peek().isNotType(re.DEFAULT)&&this.peek().isNotType(re.RBRACE);){const t=this.parseStatementListItem();t&&!this.factory.isEmptyStatement(t)&&e.push(t)}const a=this.factory.createBlock(e,this.createRange(n)),o=this.createRange(s),c=i?this.factory.createDefaultClause(a,o):this.factory.createCaseBlock(t,a,o);r.push(c)}return this.expect(re.RBRACE),this.updateRangeEnd(t),n}parseForStatement(){const e=this.consume(re.FOR);this.expect(re.LPAREN);const t=this.peek(),s=t.isType(re.LET);if(t.isType(re.CONST)||s&&this.isNextLetKeyword()){const t=this.parseVariableDeclarations(Ae.ForStatement),s=this.checkInOrOf();return s?this.parseForEachStatementWithDeclarations(t,s,e):(this.expect(re.SEMICOLON),this.parseStandardForLoopWithLexicalDeclarations(t,e))}let r;if(t.isType(re.VAR)){r=this.parseVariableDeclarations(Ae.ForStatement);const t=this.checkInOrOf();if(t)return this.parseForEachStatementWithDeclarations(r,t,e)}else if(this.peek().isNotType(re.SEMICOLON)){this.setAcceptIN(!1),r=this.parseExpressionCoverGrammar(),this.restoreAcceptIN();const t=this.current().isType(re.ASYNC),n=this.checkInOrOf();if(n){if("OF"===n&&s||t)throw new SyntaxError(this.errorMessage(s?"For Of Let":"For Of Async"));return this.parseForEachStatementWithoutDeclarations(r,n,e)}}return this.expect(re.SEMICOLON),this.parseStandardForLoop(r,e)}parseStandardForLoopWithLexicalDeclarations(e,t){return this.parseStandardForLoop(e,t)}parseForEachStatementWithDeclarations(e,t,s){if(1!=e.getDeclarations().length)throw new SyntaxError(this.errorMessage("For In/Of loop Multi Bindings"));return this.parseForEachStatementWithoutDeclarations(e,t,s)}parseForEachStatementWithoutDeclarations(e,t,s){let r;"OF"==t?(this.setAcceptIN(!0),r=this.parseAssignmentExpression(),this.restoreAcceptIN()):r=this.parseExpression(),this.expect(re.RPAREN);const n=this.parseStatement(),i=this.createRange(s);if("OF"===t)return this.factory.createForOfStatement(e,r,n,i);if("IN"===t)return this.factory.createForInStatement(e,r,n,i);throw new Error(this.errorMessage(`parsing for loop: ${this.position()}`))}parseStandardForLoop(e,t){let s=this.factory.createEmptyStatement();this.peek().isNotType(re.SEMICOLON)&&(s=this.parseExpression()),this.expect(re.SEMICOLON);let r=this.factory.createEmptyStatement();this.peek().isNotType(re.RPAREN)&&(r=this.parseExpression()),this.expect(re.RPAREN);const n=this.parseStatement();return this.factory.createForStatement(n,e,s,r,this.createRange(t))}parseForAwaitStatement(){if(!this.isAwaitAllowed())throw new SyntaxError(this.errorMessage('"await" is not allowed'));const e=this.expect(re.FOR);this.expect(re.AWAIT),this.expect(re.LPAREN);let t,s=!1,r=this.peek(),n=r.isType(re.LET);if(r.isType(re.VAR)||r.isType(re.CONST)||n&&this.isNextLetKeyword()){s=!0;const e=this.parseVariableDeclarations(Ae.ForStatement);if(1!=e.getDeclarations().length)throw new SyntaxError(this.errorMessage('For In/Of Loop MultiBindings, "for-await-of"'));t=e}else{if(n)throw new SyntaxError(this.errorMessage('The initializer does not contain declarations, For Of Let, "for-await-of"'));t=this.parseLeftHandSideExpression()}this.expectContextualKeyword("of"),this.setAcceptIN(!0);const i=this.parseAssignmentExpression();this.restoreAcceptIN(),this.expect(re.RPAREN);const a=this.parseStatement(),o=this.createRange(e);return this.factory.createForAwaitOfStatement(t,i,a,o)}parseVariableDeclarations(e){let t;const s=this.peek(),r=s.token;switch(r){case re.CONST:this.consume(r),t="const";break;case re.VAR:this.consume(r),t="var";break;case re.LET:default:this.consume(r),t="let"}const n=[];do{let s,r;const i=this.createStartPosition();if(re.isAnyIdentifier(this.peek().token)){if(s=this.parseAndClassifyIdentifier(this.next()),d(this.languageMode)&&this.isEvalOrArguments(s))throw new Error(this.errorMessage("Strict Eval Arguments"))}else s=this.parseBindingPattern(!0);if(this.check(re.ASSIGN))this.setAcceptIN(e!==Ae.ForStatement),r=this.parseAssignmentExpression(),this.restoreAcceptIN();else if(!this.peekInOrOf()&&"const"===t&&(void 0===s||void 0===r))throw new Error(this.errorMessage("Declaration Missing Initializer"));this.updateRangeEnd(i),n.push(this.factory.createVariableDeclaration(s,r,i))}while(this.check(re.COMMA));const i=this.createRange(s);return this.factory.createVariableStatement(n,t,i)}parseBindingPattern(e){const t=this.peek().token;if(re.isAnyIdentifier(t)){const e=this.parseAndClassifyIdentifier(this.next());if(d(this.languageMode)&&this.isEvalOrArguments(e))throw new Error(this.errorMessage("Strict Eval Arguments"));return e}if(t==re.LBRACK)return this.parseArrayLiteral(e);if(t==re.LBRACE)return this.parseObjectLiteral(e);throw new Error(this.errorMessage(`Unexpected Token: ${this.next().getValue()}`))}parseAndClassifyIdentifier(e){if(re.isInRangeIdentifierAndAsync(e.token)){const t=e.getValue();if(this.isArguments(t)&&this.shouldBanArguments())throw new SyntaxError(this.errorMessage("Arguments Disallowed In Initializer And Static Block"));return t}if(!re.isValidIdentifier(e.token,this.languageMode,this.isGenerator(),this.isAwaitAsIdentifierDisallowed()))throw new SyntaxError(this.errorMessage("Invalid Identifier"));return e.isType(re.AWAIT),e.getValue()}parseContinueStatement(){const e=this.consume(re.CONTINUE);let t;this.scanner.hasLineTerminatorBeforeNext()||re.isAutoSemicolon(this.peek().token)||(t=this.parseIdentifier());const s=this.createRange(e);return this.expectSemicolon(),this.factory.createContinueStatement(t,s)}parseBreakStatement(){const e=this.consume(re.BREAK);let t;this.scanner.hasLineTerminatorBeforeNext()||re.isAutoSemicolon(this.peek().token)||(t=this.parseIdentifier());const s=this.createRange(e);return this.expectSemicolon(),this.factory.createBreakStatement(t,s)}parseReturnStatement(){const e=this.consume(re.RETURN),t=this.peek();let s;this.scanner.hasLineTerminatorBeforeNext()||re.isAutoSemicolon(t.token)||(s=this.parseExpression());const r=this.createRange(e);return this.expectSemicolon(),this.factory.createReturnStatement(s,r)}parseExpressionOrLabelledStatement(e){switch(this.peek().token){case re.FUNCTION:case re.LBRACE:throw new Error(this.errorMessage("Unreachable state"));case re.CLASS:throw new Error(this.errorMessage(`Unexpected Token ${this.next().getValue().toString()}`));case re.LET:{const e=this.peekAhead();if(e.isNotType(re.LBRACK)&&e.isNotType(re.LBRACE)&&e.isNotType(re.IDENTIFIER))break;throw new Error(this.errorMessage(`Unexpected Lexical Declaration ${this.position()}`))}}const t=this.createStartPosition(),s=re.isAnyIdentifier(this.peek().token);this.setAcceptIN(!0);const r=this.parseExpressionCoverGrammar();if(this.peek().isType(re.COLON)&&s&&this.factory.isIdentifier(r)){if(this.consume(re.COLON),this.peek().isType(re.FUNCTION)&&p(this.languageMode)&&e==xe.AllowLabelledFunctionStatement){const e=this.parseFunctionDeclaration();return this.restoreAcceptIN(),this.updateRangeEnd(t),this.factory.createLabeledStatement(r,e,t)}const s=this.parseStatement(e);return this.restoreAcceptIN(),this.updateRangeEnd(t),this.factory.createLabeledStatement(r,s,t)}return this.restoreAcceptIN(),this.expectSemicolon(),r}parseExpression(){this.setAcceptIN(!0);const e=this.parseExpressionCoverGrammar();return this.restoreAcceptIN(),e}parseFunctionDeclaration(){const e=this.consume(re.FUNCTION);if(this.check(re.MUL))throw new Error(this.errorMessage("Error Generator In Single Statement Context"));return this.parseHoistableDeclaration01(pe.NormalFunction,void 0,!1,e)}parseAsyncFunctionLiteral(){if(this.current().isNotType(re.ASYNC))throw new SyntaxError(this.errorMessage("invalid token"));const e=this.consume(re.FUNCTION);let t,s=be.AnonymousExpression,r=pe.AsyncFunction;return this.check(re.MUL)&&(r=pe.AsyncGeneratorFunction),this.peekAnyIdentifier()&&(s=be.NamedExpression,t=this.parseIdentifier(this.getLastFunctionKind())),this.parseFunctionLiteral(r,s,t,e)}parseHoistableDeclaration(e,t,s){this.consume(re.FUNCTION);let r=pe.NormalFunction;return this.check(re.MUL)&&(r=pe.GeneratorFunction),this.parseHoistableDeclaration01(r,e,t,s)}parseHoistableDeclaration01(e,t,s,r){let n;if(0!=(e&ue.IsAsync)&&this.check(re.MUL)&&(e|=ue.IsGenerator),this.peek().isType(re.LPAREN)){if(!s)throw new SyntaxError(this.errorMessage("Missing Function Name"));n=this.factory.createIdentifier("default",this.createRange(r))}else n=this.parseIdentifier(this.getLastFunctionKind());return t?.push(n.toString()),this.parseFunctionLiteral(e,be.Declaration,n,r)}parseIdentifier(e){e??=this.functionKind;const t=this.next();if(!re.isValidIdentifier(t.token,this.languageMode,Ce(e),Oe(e)))throw new Error(this.errorMessage(`Unexpected Token: ${t.getValue()}`));return t.isType(re.IDENTIFIER)?t.getValue():this.getIdentifier()}getIdentifier(){const e=this.current();switch(e.token){case re.AWAIT:return this.factory.createIdentifier("await",e.range);case re.ASYNC:return this.factory.createIdentifier("async",e.range);case re.IDENTIFIER:case re.PRIVATE_NAME:return e.getValue()}const t=e.getValue().toString();return"constructor"==t?this.factory.createIdentifier("constructor",e.range):"name"==t?this.factory.createIdentifier("name",e.range):"eval"==t?this.factory.createIdentifier("eval",e.range):"arguments"==t?this.factory.createIdentifier("arguments",e.range):e.getValue()}parseFunctionLiteral(e,t,s,r){this.setFunctionKind(e),this.expect(re.LPAREN);const n=this.parseFormalParameterList({});this.expect(re.RPAREN);const i=this.expect(re.LBRACE);this.setAcceptIN(!0);const a=this.parseFunctionBody(e,he.BLOCK,t);this.restoreAcceptIN(),this.restoreFunctionKind();const o=this.createRange(i),c=this.createRange(r),l=this.factory.createBlock(a,o);return s?this.factory.createFunctionDeclaration(n,l,Ne(e),Ce(e),s,c):this.factory.createFunctionExpression(n,l,Ne(e),Ce(e),c)}parseFunctionBody(e,t,s){let r;if(t==he.EXPRESSION)r=this.parseAssignmentExpression();else{const t=s==be.Wrapped?re.EOS:re.RBRACE;r=ke(e)?this.parseAndRewriteAsyncGeneratorFunctionBody(e):Ce(e)?this.parseAndRewriteGeneratorFunctionBody(e):Ne(e)?this.parseAsyncFunctionBody():this.parseStatementList(t),this.expect(t)}return r}parseAndRewriteAsyncGeneratorFunctionBody(e){return this.parseStatementList(re.RBRACE)}parseAndRewriteGeneratorFunctionBody(e){return this.parseStatementList(re.RBRACE)}parseAsyncFunctionBody(){return this.parseStatementList(re.RBRACE)}parseStatementList(e){this.peek().test(((e,t)=>re.STRING===e&&"use strict"===t.getValue()))&&(this.languageMode=u.Strict);const t=[];for(;this.peek().isNotType(e);){const e=this.parseStatementListItem();if(!e)break;this.factory.isEmptyStatement(e)||t.push(e)}return t}parseFormalParameterList(e){const t=[];if(this.peek().isNotType(re.RPAREN))for(;;){const s=this.parseFormalParameter(e);if(t.push(s),e.rest){if(this.peek().isType(re.COMMA))throw new Error(this.errorMessage("Param After Rest"));break}if(!this.check(re.COMMA))break;if(this.peek().isType(re.RPAREN))break}return t}parseFormalParameter(e){const t=this.createStartPosition();e.rest=this.check(re.ELLIPSIS);const s=this.parseBindingPattern(!0);let r;if(this.check(re.ASSIGN)){if(e.rest)throw new Error(this.errorMessage("Rest Default Initializer"));this.setAcceptIN(!0);const n=this.parseAssignmentExpression();this.restoreAcceptIN(),this.updateRangeEnd(t);const i=this.checkParamType(s);r=this.factory.createAssignmentPattern(i,n,t)}else{this.updateRangeEnd(t);const n=this.checkParamType(s);r=e.rest?this.factory.createRestElement(n,n.range&&[t[0],n.range[1]]):n}return r}parseExpressionCoverGrammar(){const e=[];let t;for(;;){if(this.peek().isType(re.ELLIPSIS))return this.parseArrowParametersWithRest(e);if(t=this.parseAssignmentExpressionCoverGrammar(),e.push(t),!this.check(re.COMMA))break;if(this.peek().isType(re.RPAREN)&&this.peekAhead().isType(re.ARROW))break}return 1==e.length?t:this.expressionListToExpression(e)}parseArrowParametersWithRest(e){const t=this.consume(re.ELLIPSIS),s=this.parseBindingPattern(!0),r=this.createRange(t);if(this.peek().isType(re.ASSIGN))throw new Error(this.errorMessage("Error A rest parameter cannot have an initializer"));if(this.peek().isType(re.COMMA))throw new Error(this.errorMessage("Error A rest parameter or binding pattern may not have a trailing comma"));if(this.peek().isNotType(re.RPAREN)||this.peekAhead().isNotType(re.ARROW))throw new Error(this.errorMessage(`Error Unexpected Token At ${this.position()}`));return e.push(this.factory.createSpreadElement(s,r)),this.expressionListToExpression(e)}expressionListToExpression(e){const t=e[0];if(1===e.length)return t;if(this.factory.isSequenceExpression(t))return t.getExpressions().push(...e.slice(1)),t;const s=this.createRange(e.at(0));return s&&this.updateRangeEnd(s),this.factory.createCommaListExpression(e,s)}parseMemberExpression(){const e=this.parsePrimaryExpression();return this.parseMemberExpressionContinuation(e)}parsePrimaryExpression(){let e=this.peek();if(re.isAnyIdentifier(e.token)){this.consume(e.token);let t=pe.NormalFunction;if(e.isType(re.ASYNC)&&!this.scanner.hasLineTerminatorBeforeNext()){if(this.peek().isType(re.FUNCTION))return this.parseAsyncFunctionLiteral();re.isAnyIdentifier(this.peek().token)&&this.peekAhead().isType(re.ARROW)&&(e=this.next(),t=pe.AsyncFunction)}if(this.peek().isType(re.ARROW)){this.setFunctionKind(t);const s=this.parseAndClassifyIdentifier(e),r=this.factory.isSequenceExpression(s)?s.getExpressions():[s],n=this.parseArrowFunctionLiteral(r,t,this.createRange(e));return this.restoreFunctionKind(),n}return this.parseAndClassifyIdentifier(e)}if(re.isLiteral(e.token))return this.next().getValue();switch(e.token){case re.NEW:return this.parseMemberWithPresentNewPrefixesExpression();case re.THIS:return this.consume(re.THIS),this.factory.createThis(e.range);case re.DIV:case re.DIV_ASSIGN:return this.parseRegExpLiteral();case re.FUNCTION:return this.parseFunctionExpression();case re.SUPER:return this.parseSuperExpression();case re.IMPORT:return this.parseImportExpressions();case re.LBRACK:return this.parseArrayLiteral(!1);case re.LBRACE:return this.parseObjectLiteral(!1);case re.LPAREN:{if(this.consume(re.LPAREN),this.check(re.RPAREN)){if(!this.peek().isType(re.ARROW))throw new Error(this.errorMessage(`Unexpected Token: ${re.RPAREN.getName()}`));const t=this.factory.createCommaListExpression([],this.createRange(e));return this.markParenthesized(t),t}this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();return this.markParenthesized(t),this.expect(re.RPAREN),this.restoreAcceptIN(),t}case re.CLASS:return this.parseClassExpression();case re.TEMPLATE_SPAN:case re.TEMPLATE_TAIL:return this.parseTemplateLiteral()}throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(this.next())}`))}parseTemplateLiteral(e){let t=this.peek();if(!re.isTemplate(t.token))throw new SyntaxError(this.errorMessage(`Unexpected Token: ${JSON.stringify(this.next())}`));if(t.isType(re.TEMPLATE_TAIL)){this.consume(re.TEMPLATE_TAIL);const s=t.getValue();return this.createTemplateLiteralExpressionNode([s.string],[],e,s.range)}const s=this.consume(re.TEMPLATE_SPAN),r=[],n=[];n.push(t.getValue().string);do{this.setAcceptIN(!0);const e=this.parseExpressionCoverGrammar();if(r.push(e),t=this.next(),t.isNotType(re.RBRACE))throw this.restoreAcceptIN(),new SyntaxError(this.errorMessage("Unterminated Template Expr"));t=this.scanner.scanTemplateContinuation(),n.push(t.getValue().string),this.restoreAcceptIN()}while(t.isType(re.TEMPLATE_SPAN));if(t.isNotType(re.TEMPLATE_TAIL))throw new SyntaxError(this.errorMessage(`Unexpected Token: ${JSON.stringify(t)}`));const i=this.createRange(s);return this.createTemplateLiteralExpressionNode(n,r,e,i)}createTemplateLiteralExpressionNode(e,t,s,r){return s?this.factory.createTaggedTemplateExpression(s,e,t,r):this.factory.createTemplateExpression(e,t,r)}parseMemberWithPresentNewPrefixesExpression(){const e=this.consume(re.NEW);let t;if(this.peek().isType(re.IMPORT)&&this.peekAhead().isType(re.LPAREN))throw new SyntaxError(this.errorMessage("Import Call Not New Expression"));if(this.peek().isType(re.PERIOD))return t=this.parseNewTargetExpression(e),this.parseMemberExpressionContinuation(t);if(t=this.parseMemberExpression(),this.factory.isSuper(t))throw new SyntaxError(this.errorMessage("Unexpected Super, new super() is never allowed"));if(this.peek().isType(re.LPAREN)){const s=this.parseArguments();return t=this.factory.createNewExpression(t,s,this.createRange(e)),this.parseMemberExpressionContinuation(t)}if(this.peek().isType(re.QUESTION_PERIOD))throw new SyntaxError(this.errorMessage("Optional Chaining with New not allowed,  new x?.y()"));return this.factory.createNewExpression(t,void 0,this.createRange(e))}parseArguments(e){this.consume(re.LPAREN);const t=[];for(;this.peek().isNotType(re.RPAREN);){const s=this.createStartPosition(),r=this.check(re.ELLIPSIS);this.setAcceptIN(!0);let n=this.parseAssignmentExpressionCoverGrammar();if(ae.MaybeArrowHead===e&&r){if(this.factory.isAssignmentExpression(n))throw this.restoreAcceptIN(),new Error(this.errorMessage(" Rest parameter may not have a default initializer'"));if(this.peek().isType(re.COMMA))throw this.restoreAcceptIN(),new Error(this.errorMessage("parsing '...spread,arg =>'"))}if(r&&(this.updateRangeEnd(s),n=this.factory.createSpreadElement(n,s)),t.push(n),this.restoreAcceptIN(),!this.check(re.COMMA))break}if(!this.check(re.RPAREN))throw new Error(this.errorMessage("parsing arguments call, expecting ')'"));return t}parseAssignmentExpressionCoverGrammar(){const e=this.createStartPosition();if(this.peek().isType(re.YIELD)&&Ce(this.functionKind))return this.parseYieldExpression();let t=this.parseConditionalExpression();const s=this.peek().token;if(!re.isArrowOrAssignmentOp(s))return this.clearParenthesized(t),t;if(s===re.ARROW){if(!this.factory.isIdentifier(t)&&!this.isParenthesized(t))throw new Error(this.errorMessage("Malformed Arrow Fun Param List"));const s=pe.NormalFunction;let r;return this.setFunctionKind(s),this.factory.isSequenceExpression(t)?r=this.parseArrowFunctionLiteral(t.getExpressions(),pe.NormalFunction,e):this.factory.isGroupingExpression(t)?r=this.parseArrowFunctionLiteral([t.getNode()],pe.NormalFunction,e):(this.clearParenthesized(t),r=this.parseArrowFunctionLiteral([t],pe.NormalFunction,e)),this.restoreFunctionKind(),r}if(this.isAssignableIdentifier(t));else if(this.factory.isPropertyOrMemberExpression(t));else if(this.factory.canBePattern(t)&&re.isAssignment(s))t=this.factory.isObjectExpression(t)?this.factory.createObjectBindingPattern(t.getProperties(),t.range):this.factory.createArrayBindingPattern(t.getElements(),t.range);else{if(!this.isValidReferenceExpression(t))throw new Error(this.errorMessage("Invalid Reference Expression"));if(re.isLogicalAssignmentOp(s))throw new Error(this.errorMessage("Invalid Lhs In Assignment"))}this.consume(s);const r=this.parseAssignmentExpression();if(!re.isAssignment(s))throw new Error(this.errorMessage("Invalid Destructuring Target"));return this.updateRangeEnd(e),this.factory.createAssignment(s.getName(),t,r,e)}parseAssignmentExpression(){return this.parseAssignmentExpressionCoverGrammar()}checkParamType(e){if(this.factory.isArrayExpression(e))return this.factory.createArrayBindingPattern(e.getElements(),e.range);if(this.factory.isObjectExpression(e))return this.factory.createObjectBindingPattern(e.getProperties(),e.range);if(this.factory.isSpreadElement(e)){let t=e.getArgument();return this.factory.isArrayExpression(t)?t=this.factory.createArrayBindingPattern(t.getElements(),t.range):this.factory.isObjectExpression(t)&&(t=this.factory.createObjectBindingPattern(t.getProperties(),t.range)),this.factory.createRestElement(t,e.range)}return e}parseArrowFunctionLiteral(e,t,s){if(e=e.map((e=>this.checkParamType(e))),this.peek().isNotType(re.ARROW))throw new SyntaxError(this.errorMessage("SyntaxError Expecting Arrow Token"));if(this.scanner.hasLineTerminatorBeforeNext())throw new SyntaxError(this.errorMessage('Unexpected Token "\n" a line terminator after arrow token"'));let r,n=!0;return this.consume(re.ARROW),this.peek().isType(re.LBRACE)?(this.consume(re.LBRACE),this.setStatue(!0,t),r=this.parseFunctionBody(t,he.BLOCK,be.AnonymousExpression),this.restoreStatue()):(n=!1,r=this.parseFunctionBody(t,he.EXPRESSION,be.AnonymousExpression)),this.updateRangeEnd(s),this.factory.createArrowFunction(e,r,!n,Ne(t),s)}parseRegExpLiteral(){if(!this.scanner.scanRegExpPattern())throw new Error("Unterminated RegExp");return this.scanner.currentToken().getValue()}parseArrayLiteral(e){const t=this.consume(re.LBRACK);let s=-1;const r=[];for(;!this.check(re.RBRACK);){let t;const n=this.peek();if(n.isType(re.COMMA))t=null;else if(this.check(re.ELLIPSIS)){this.setAcceptIN(!0);const i=this.parsePossibleDestructuringSubPattern();if(this.restoreAcceptIN(),t=this.factory.createSpreadElement(i,this.createRange(n)),s<0&&(s=r.length),this.factory.isAssignmentExpression(i)&&e)throw new SyntaxError(this.errorMessage("Invalid Destructuring Target"));if(this.peek().isType(re.COMMA))throw new SyntaxError(this.errorMessage("Element After Rest"))}else this.setAcceptIN(!0),t=this.parsePossibleDestructuringSubPattern(),this.restoreAcceptIN();r.push(t),this.peek().isNotType(re.RBRACK)&&this.expect(re.COMMA)}const n=this.createRange(t);return e?this.factory.createArrayBindingPattern(r,n):this.factory.createArrayLiteralExpression(r,n)}parsePossibleDestructuringSubPattern(){return this.parseAssignmentExpressionCoverGrammar()}parseObjectLiteral(e){const t=this.consume(re.LBRACE),s=[];for(;!this.check(re.RBRACE);){const t=this.parseObjectPropertyDefinition(e);s.push(t),this.peek().isNotType(re.RBRACE)&&this.expect(re.COMMA)}const r=this.createRange(t);return e?this.factory.createObjectBindingPattern(s,r):this.factory.createObjectLiteralExpression(s,r)}parseObjectPropertyDefinition(e){const t=new me,s=this.parseProperty(t);switch(t.kind){case oe.Spread:let r=s;e&&(r=this.factory.createRestElement(r.getArgument(),r.range));const n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(r.getArgument(),r,"init",!1,!1,t.isComputedName,n);case oe.Value:{this.consume(re.COLON),this.setAcceptIN(!0);const e=this.parsePossibleDestructuringSubPattern();this.restoreAcceptIN();const r=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,e,"init",!1,!1,t.isComputedName,r)}case oe.Assign:case oe.ShorthandOrClassField:case oe.Shorthand:{const e=this.factory.createIdentifier(t.name,this.createRange(t.rangeStart));if(!this.isAssignableIdentifier(e))throw new Error(this.errorMessage("Strict Eval Arguments"));let r;if(this.peek().isType(re.ASSIGN)){this.consume(re.ASSIGN),this.setAcceptIN(!0);const s=this.parseAssignmentExpression();this.restoreAcceptIN(),r=this.factory.createAssignment(re.ASSIGN.getName(),e,s,this.createRange(t.rangeStart))}else r=e;const n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,r,"init",!1,t.kind!==oe.Assign,t.isComputedName,n)}case oe.Method:{const e=this.methodKindFor(t.isStatic,t.funcFlag),r=this.parseFunctionLiteral(e,be.AccessorOrMethod,t.name?this.factory.createIdentifier(t.name):void 0,t.rangeStart),n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,r,"init",!0,!1,t.isComputedName,n)}case oe.AccessorGetter:case oe.AccessorSetter:{const e=t.kind==oe.AccessorGetter,r=this.methodKindFor(t.isStatic,t.funcFlag),n=this.parseFunctionLiteral(r,be.AccessorOrMethod,t.name?this.factory.createIdentifier(t.name,this.createRange(t.rangeStart)):void 0,t.rangeStart),i=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,n,e?"get":"set",!1,!1,t.isComputedName,i)}case oe.ClassField:case oe.NotSet:return this.factory.createNull(this.createRange(t.rangeStart))}}parseProperty(e){let t,s=this.peek();if(e.rangeStart=s,this.check(re.ASYNC)){if(s=this.peek(),s.isNotType(re.MUL)&&e.parsePropertyKindFromToken(s.token)||this.scanner.hasLineTerminatorBeforeNext())return this.factory.createIdentifier("async",this.createRange(e.rangeStart));e.kind=oe.Method,e.funcFlag=ue.IsAsync}if(s=this.peek(),this.check(re.MUL)&&(e.kind=oe.Method,e.funcFlag=ue.IsGenerator),s=this.peek(),e.kind==oe.NotSet&&s.isType(re.GET)||s.isType(re.SET)){const t=this.next();if(e.parsePropertyKindFromToken(this.peek().token))return this.factory.createIdentifier(s.isType(re.GET)?"get":"set",this.createRange(e.rangeStart));t.isType(re.GET)?e.kind=oe.AccessorGetter:t.isType(re.SET)&&(e.kind=oe.AccessorSetter),s=this.peek()}switch(s.token){case re.PRIVATE_NAME:if(e.isPrivate=!0,this.consume(re.PRIVATE_NAME),e.kind==oe.NotSet&&e.parsePropertyKindFromToken(this.peek().token),t=this.getIdentifier(),e.name=t.getName(),e.position==ce.ObjectLiteral)throw new TypeError(this.errorMessage("UnexpectedToken PRIVATE_NAME"));break;case re.STRING:case re.NUMBER:case re.BIGINT:this.consume(s.token),t=s.getValue(),e.name=t.getValue();break;case re.LBRACK:return this.consume(re.LBRACK),this.setAcceptIN(!0),t=this.parseAssignmentExpression(),this.expect(re.RBRACK),e.kind===oe.NotSet&&e.parsePropertyKindFromToken(this.peek().token),e.name=t.toString(),this.restoreAcceptIN(),t;case re.ELLIPSIS:if(e.kind==oe.NotSet){if(this.consume(re.ELLIPSIS),this.setAcceptIN(!0),t=this.parsePossibleDestructuringSubPattern(),e.kind=oe.Spread,!this.isValidReferenceExpression(t))throw new Error(this.errorMessage("Invalid Rest Binding/Assignment Pattern"));if(this.peek().isNotType(re.RBRACE))throw new Error(this.errorMessage("Element After Rest"));return e.name=t.toString(),this.restoreAcceptIN(),this.factory.createSpreadElement(t,this.createRange(s))}default:t=this.parsePropertyOrPrivatePropertyName(),e.name=t.toString()}return e.kind===oe.NotSet&&e.parsePropertyKindFromToken(this.peek().token),t}parseMemberExpressionContinuation(e){return re.isMember(this.peek().token)?this.doParseMemberExpressionContinuation(e):e}doParseMemberExpressionContinuation(e){if(!re.isMember(this.peek().token))throw new Error(this.errorMessage("Parsing member expression"));do{switch(this.peek().token){case re.LBRACK:{this.consume(re.LBRACK),this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();e=this.factory.createPropertyAssignment(e,t,!0,!1,this.createRange(e)),this.expect(re.RBRACK),this.restoreAcceptIN();break}case re.PERIOD:{this.consume(re.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,t,!1,!1,this.createRange(e));break}case re.TEMPLATE_SPAN:case re.TEMPLATE_TAIL:e=this.parseTemplateLiteral(e);break;default:throw new SyntaxError(this.errorMessage("unknown token position"))}}while(re.isMember(this.peek().token));return e}parsePropertyOrPrivatePropertyName(){const e=this.next();if(e.isType(re.IDENTIFIER)||e.isType(re.PRIVATE_NAME))return e.getValue();if(re.isPropertyName(e.token)&&e.isNotType(re.EOS))return this.factory.createIdentifier(e.token.getName(),e.range);throw new SyntaxError(this.errorMessage("Parsing property expression: Unexpected Token"))}parsePipelineExpression(e){let t;for(;re.isPipelineOperator(t=this.peek().token);)this.consume(t),e=this.parsePipelineBody(e);return e}parsePipelineBody(e){let t,s=this.peek();switch(s.token){case re.FUNCTION:t=this.parseFunctionExpression();break;case re.ASYNC:this.peekAhead().isType(re.FUNCTION)&&!this.scanner.hasLineTerminatorAfterNext()&&(this.consume(re.ASYNC),t=this.parseAsyncFunctionLiteral())}if(t)return this.factory.createPipelineExpression(e,t,void 0,this.createRange(e));if(s.isType(re.LPAREN))return t=this.parsePrimaryExpression(),this.factory.createPipelineExpression(e,t,void 0,this.createRange(e));const r=this.parseMemberExpression();let n=[];switch(this.peek().token){case re.COLON:do{this.consume(re.COLON);const e=this.peek(),t=this.check(re.ELLIPSIS);if(this.peek().isType(re.CONDITIONAL))this.consume(re.CONDITIONAL),t?n.push("...?"):n.push("?");else{const s=this.parseAssignmentExpressionCoverGrammar();t?n.push(this.factory.createSpreadElement(s,this.createRange(e))):n.push(s)}}while(this.peek().isType(re.COLON));break;case re.LPAREN:this.consume(re.LPAREN);let s=!1;for(;this.peek().isNotType(re.RPAREN);){const e=this.peek(),t=this.check(re.ELLIPSIS);if(this.peek().isType(re.CONDITIONAL))this.consume(re.CONDITIONAL),s=!0,t?n.push("...?"):n.push("?");else{const s=this.parseAssignmentExpressionCoverGrammar();t?n.push(this.factory.createSpreadElement(s,this.createRange(e))):n.push(s)}this.check(re.COMMA)}if(this.expect(re.RPAREN),!s)return t=this.factory.createCallExpression(r,n,!1,this.createRange(r)),this.factory.createPipelineExpression(e,t,void 0,this.createRange(e))}return this.factory.createPipelineExpression(e,r,n,this.createRange(e))}parseConditionalExpression(){let e=this.parseLogicalExpression();return e=this.parsePipelineExpression(e),this.peek().isType(re.CONDITIONAL)?this.parseConditionalContinuation(e):e}parseLogicalExpression(){let e=this.parseBinaryExpression(6);const t=this.peek();if(t.isType(re.AND)||t.isType(re.OR)){const s=re.precedence(t.token,this.acceptIN);e=this.parseBinaryContinuation(e,4,s)}else t.isType(re.NULLISH)&&(e=this.parseNullishExpression(e));return e}parseBinaryContinuation(e,t,s){do{for(;re.precedence(this.peek().token,this.acceptIN)===s;){let t,r=this.next();const n=r.isType(re.EXP)?s:s+1;if(t=this.parseBinaryExpression(n),re.isCompare(r.token)){let s=r.token;switch(r.token){case re.NE:s=re.EQ;break;case re.NE_STRICT:s=re.EQ_STRICT}e=this.factory.createInfixExpression(s.getName(),e,t,this.createRange(e)),r.isNotType(s)&&(e=this.factory.createUnaryExpression(re.NOT.getName(),e,this.createRange(r)))}else e=this.factory.createInfixExpression(r.token.getName(),e,t,this.createRange(e))}--s}while(s>=t);return e}parseBinaryExpression(e){if(this.peek().isType(re.PRIVATE_NAME)){const t=this.parsePropertyOrPrivatePropertyName(),s=re.precedence(this.peek().token,this.acceptIN);if(this.peek().isNotType(re.IN)||s<e)throw new SyntaxError(this.errorMessage('Unexpected Token Token.PRIVATE_NAME "#name"'));return this.parseBinaryContinuation(t,e,s)}const t=this.parseUnaryExpression(),s=re.precedence(this.peek().token,this.acceptIN);return s>=e?this.parseBinaryContinuation(t,e,s):t}parseUnaryExpression(){const e=this.peek();return re.isUnaryOrCount(e.token)?this.parseUnaryOrPrefixExpression():e.isType(re.AWAIT)&&this.isAwaitAllowed()?this.parseAwaitExpression():this.parsePostfixExpression()}parseUnaryOrPrefixExpression(){const e=this.next(),t=this.parseUnaryExpression();if(re.isUnary(e.token)){if(e.isType(re.DELETE)){if(this.factory.isIdentifier(t)&&d(this.languageMode))throw new Error(this.errorMessage('"delete identifier" is a syntax error in strict mode'));if(this.factory.isMemberExpression(t)&&t.getProperty().toString().startsWith("#"))throw new Error(this.errorMessage('"Delete Private Field" is a syntax error'))}if(this.peek().isType(re.EXP))throw new Error(this.errorMessage("Unexpected Token Unary Exponentiation"))}if(re.isCount(e.token)||re.isUnary(e.token))return this.factory.createUnaryExpression(e.token.getName(),t,this.createRangeByStart(e));throw new Error(this.errorMessage("while rewrite unary operation"))}parsePostfixExpression(){const e=this.parseLeftHandSideExpression();return!re.isCount(this.peek().token)||this.scanner.hasLineTerminatorBeforeNext()?e:this.parsePostfixContinuation(e)}parsePostfixContinuation(e){if(!this.isValidReferenceExpression(e))throw new Error(this.errorMessage("Invalid LHS In Postfix Op."));const t=this.next();return this.factory.createUpdateExpression(t.token.getName(),e,!1,this.createRange(e))}parseLeftHandSideExpression(){const e=this.parseMemberExpression();return re.isPropertyOrCall(this.peek().token)?this.parseLeftHandSideContinuation(e):e}parseLeftHandSideContinuation(e){if(this.peek().isType(re.LPAREN)&&this.factory.isIdentifier(e)&&this.scanner.currentToken().isType(re.ASYNC)&&!this.scanner.hasLineTerminatorBeforeNext()){const t=this.parseArguments(ae.AsyncArrowFunction);if(this.peek().isType(re.ARROW))return t.length?this.expressionListToExpression(t):new Pe;if(e=this.factory.createCallExpression(e,t,!1,this.createRange(e)),!re.isPropertyOrCall(this.peek().token))return e}let t=!1,s=!1;do{switch(this.peek().token){case re.QUESTION_PERIOD:{if(s)throw new Error(this.errorMessage("Failure Expression"));if(this.consume(re.QUESTION_PERIOD),s=!0,t=!0,re.isPropertyOrCall(this.peek().token))continue;const r=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,r,!1,s,this.createRange(e));break}case re.LBRACK:{this.consume(re.LBRACK),this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();this.restoreAcceptIN(),e=this.factory.createPropertyAssignment(e,t,!0,s,this.createRange(e)),this.expect(re.RBRACK);break}case re.PERIOD:{if(s)throw new Error(this.errorMessage(`Unexpected Token:${this.position()}`));this.consume(re.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,t,!1,s,this.createRange(e));break}case re.LPAREN:{const t=this.parseArguments();e=this.factory.createCallExpression(e,t,s,this.createRange(e));break}case re.BIND:{if(s)throw new Error(this.errorMessage(`Unexpected Token:${this.position()}`));this.consume(re.BIND);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createBindExpression(e,t,!1,s,this.createRange(e));break}case re.QUESTION_BIND:{if(s)throw new Error(this.errorMessage("Failure Expression"));this.consume(re.QUESTION_BIND),s=!0,t=!0;const r=this.parsePropertyOrPrivatePropertyName();e=this.factory.createBindExpression(e,r,!0,s,this.createRange(e));break}default:if(t)throw new Error(this.errorMessage("Optional Chaining No Template support"));e=this.parseTemplateLiteral(e)}s&&(s=!1)}while(re.isPropertyOrCall(this.peek().token));return t&&(e=this.factory.createChainExpression(e,this.createRange(e))),e}parseAwaitExpression(){const e=this.consume(re.AWAIT),t=this.parseUnaryExpression();if(this.peek().isType(re.EXP))throw new Error(this.scanner.createError("Unexpected Token Unary Exponentiation"));return this.factory.createAwaitExpression(t,this.createRange(e))}parseNullishExpression(e){const t=[];for(t.push(e);this.peek().isType(re.NULLISH);)this.consume(re.NULLISH),e=this.parseBinaryExpression(6),t.push(e);return e=t.pop(),t.reverse().reduce(((e,t)=>this.factory.createLogicalExpression(re.NULLISH.getName(),t,e)),e)}parseConditionalContinuation(e){this.consume(re.CONDITIONAL),this.setAcceptIN(!0);const t=this.parseAssignmentExpression();this.restoreAcceptIN(),this.expect(re.COLON);const s=this.parseAssignmentExpression();return this.factory.createConditionalExpression(e,t,s)}parseYieldExpression(){this.consume(re.YIELD);let e,t=!1;if(!this.scanner.hasLineTerminatorBeforeNext())switch(this.check(re.MUL)&&(t=!0),this.peek().token){case re.EOS:case re.SEMICOLON:case re.RBRACE:case re.RBRACK:case re.RPAREN:case re.COLON:case re.COMMA:case re.IN:if(!t)break;throw new Error(this.errorMessage("Delegating yields require an RHS"));default:e=this.parseAssignmentExpressionCoverGrammar()}return this.factory.createYieldExpression(t,e)}parseNewTargetExpression(e){throw new Error(this.errorMessage("Expression (new.target) not supported."))}parseClassExpression(){throw new Error(this.errorMessage("Expression (class) not supported."))}parseClassDeclaration(e,t,s){throw new Error(this.errorMessage("Expression (class) not supported."))}parseClassLiteral(e,t){throw new Error(this.errorMessage("Expression (class) not supported."))}parseSuperExpression(){throw new Error(this.errorMessage("Expression (supper) not supported."))}parseImportExpressions(){throw new Error(this.errorMessage("Expression (import) not supported."))}parseWithStatement(){throw new Error(this.errorMessage("Expression (with) not supported."))}}class zt extends Ut{static parse(e,{mode:t,factory:s,addLocation:r}={}){t??=u.Strict;const n="string"==typeof e||Array.isArray(e)?je.getTokenStream(e,t):e;if(null==s){const t=r&&"string"==typeof e?new Vt(e):void 0;s=new Gt(t)}return new zt(n,s,!1).scan()}static parseScript(e,t){return Ut.parse(e,t)}scan(){const e=this.createStartPosition(),t=d(this.languageMode);t&&this.setFunctionKind(pe.Module);const s=t?this.parseModuleItemList():this.parseStatementList(re.EOS);return this.updateRangeEnd(e),this.factory.createProgram(t?"module":"script",s,e)}parseNewTargetExpression(e){this.consume(re.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();if("target"!==t.toString())throw new Error(this.errorMessage(`Expression (new.${t.toString()}) not supported.`));return this.factory.createMetaProperty(this.factory.createIdentifier("new",e?.range),this.factory.createIdentifier("target",t.range),this.createRange(e))}parseClassExpression(){let e;this.consume(re.CLASS);let t=!1;this.peekAnyIdentifier()&&(e=this.parseAndClassifyIdentifier(this.next()),t=re.isStrictReservedWord(this.current().token));const s=this.parseClassLiteral(e,t);return this.factory.createClassExpression(s.getBody(),s.getDecorators(),s.getId(),s.getSuperClass())}parseClassDeclaration(e,t,s){const r=this.peek().token,n=re.isStrictReservedWord(r);let i,a;if(!t||r!=re.EXTENDS&&r!=re.LBRACE){const e=this.parseIdentifier();a=e.getName(),i=e}else i=new N("default"),a=".default";const o=this.parseClassLiteral(i,n),c=this.createRange(s);return this.factory.createClassDeclaration(o.getBody(),o.getDecorators(),o.getId(),o.getSuperClass(),c)}parseClassLiteral(e,t){const s=!e;if(!s){if(t)throw new Error(this.errorMessage("Unexpected Strict Reserved class name"));if(this.isEvalOrArguments(e))throw new Error(this.errorMessage("Strict Eval Arguments not allowed for class name"))}const r={publicMembers:[],privateMembers:[],staticElements:[],instanceFields:[],constructor:void 0,hasSeenConstructor:!1,hasStaticComputedNames:!1,hasStaticElements:!1,hasStaticPrivateMethods:!1,hasStaticBlocks:!1,hasInstanceMembers:!1,requiresBrand:!1,isAnonymous:!1,hasPrivateMethods:!1,computedFieldCount:0};r.isAnonymous=s,this.check(re.EXTENDS)&&(r.extends=this.parseLeftHandSideExpression());const n=this.expect(re.LBRACE),i=!!r.extends;for(;this.peek().isNotType(re.RBRACE);){if(this.check(re.SEMICOLON))continue;if(this.peek().isType(re.STATIC)&&this.peekAhead().isType(re.LBRACE)){const e=this.parseClassStaticBlock(r);r.staticElements.push(e),r.hasStaticBlocks=!0;continue}let t=!r.hasSeenConstructor;const s=new me;s.position=ce.ClassLiteral;const n=this.parseClassPropertyDefinition(r,s,i),a=Ie(s.kind);!r.hasStaticComputedNames&&s.isStatic&&s.isComputedName&&(r.hasStaticComputedNames=!0),t&&=r.hasSeenConstructor;const o=a==we.FIELD;if(s.isPrivate){if(t)throw new Error(this.errorMessage("private constructor is not allowed"));r.requiresBrand||=!o&&!s.isStatic;const e=a==we.METHOD;r.hasPrivateMethods||=e,r.hasStaticPrivateMethods||=e&&s.isStatic,this.declarePrivateClassMember(s.name,n,a,s.isStatic,r)}else o?(s.isComputedName&&r.computedFieldCount++,this.declarePublicClassField(n,s.isStatic,s.isComputedName,r)):this.declarePublicClassMethod(e,n,t,r)}const a=this.expect(re.RBRACE),o=this.rewriteClassLiteral(r,e,[n.range[0],a.range[1]]);return new ee(o,[],e,r.extends)}declarePublicClassMethod(e,t,s,r){if(s){if(r.constructor)throw new SyntaxError(this.errorMessage("A class may only have one constructor."));return r.constructor=t,void Reflect.set(r.constructor,"id",e)}r.publicMembers.push(t)}declarePublicClassField(e,t,s,r){t?r.staticElements.push(e):r.instanceFields.push(e)}declarePrivateClassMember(e,t,s,r,n){n.privateMembers.push(t)}parseClassPropertyDefinition(e,t,s){if(!e)throw new Error(this.errorMessage("class info is undefined"));if(t.position!==ce.ClassLiteral)throw new Error(this.errorMessage("expected property position ClassLiteral"));let r;switch(this.peek().isType(re.STATIC)?(this.consume(re.STATIC),this.peek().isType(re.LPAREN)?(t.kind=oe.Method,r=this.parseIdentifier(),t.name=r.getName()):this.peek().isType(re.ASSIGN)||this.peek().isType(re.SEMICOLON)||this.peek().isType(re.RBRACK)?(r=this.parseIdentifier(),t.name=r.getName()):(t.isStatic=!0,r=this.parseProperty(t))):r=this.parseProperty(t),t.kind){case oe.Assign:case oe.ClassField:case oe.ShorthandOrClassField:case oe.NotSet:{t.kind=oe.ClassField;const s=this.parseMemberInitializer(e,t.isStatic);this.expectSemicolon();const n=this.newClassLiteralProperty(r,s,we.FIELD,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart);return this.setFunctionNameFromPropertyName(n,t.name),n}case oe.Method:{t.isComputedName||this.checkClassMethodName(t,e);let n=this.methodKindFor(t.isStatic,t.funcFlag);t.isStatic||"constructor"!==t.name.toString()||(e.hasSeenConstructor=!0,n=s?pe.DerivedConstructor:pe.BaseConstructor);const i=this.parseFunctionLiteral(n,be.AccessorOrMethod,r,t.rangeStart),a=this.newClassLiteralProperty(r,i,_e.Kind.METHOD,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart);return this.setFunctionNameFromPropertyName(a,t.name),a}case oe.AccessorGetter:case oe.AccessorSetter:{if(t.funcFlag!==ue.IsNormal)throw new Error(this.errorMessage("accessor is not normal function"));const s=t.kind==oe.AccessorGetter;let n;t.isComputedName||(this.checkClassMethodName(t,e),r=new N(t.name)),n=t.isStatic?s?pe.StaticGetterFunction:pe.StaticSetterFunction:s?pe.GetterFunction:pe.SetterFunction;const i=this.parseFunctionLiteral(n,be.AccessorOrMethod,r,t.rangeStart),a=s?_e.Kind.GETTER:_e.Kind.SETTER,o=this.newClassLiteralProperty(r,i,a,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart),c=s?"get ":"set ";return this.setFunctionNameFromPropertyName(o,t.name,c),o}case oe.Value:case oe.Shorthand:case oe.Spread:return this.factory.createNull(t.rangeStart?.range)}throw new Error(this.errorMessage("UNREACHABLE"))}checkClassMethodName(e,t){if(e.kind!=oe.Method&&!de(e.kind))throw new Error(this.errorMessage("not kind of method or setter or getter"));if(e.isPrivate&&"constructor"===e.name.toString())throw new Error(this.errorMessage("constructor is private"));if(e.isStatic&&"prototype"===e.name.toString())throw new Error(this.errorMessage("static prototype"));if("constructor"===e.name.toString()){if(e.funcFlag!==ue.IsNormal||de(e.kind)){if(e.funcFlag===ue.IsGenerator)throw new Error(this.errorMessage("constructor is generator"));if(e.funcFlag===ue.IsAsync)throw new Error(this.errorMessage("constructor is async"));if(t.hasSeenConstructor)throw new Error(this.errorMessage("duplicate constructor"))}t.hasSeenConstructor=!0}}parseClassStaticBlock(e){this.consume(re.STATIC),this.setStatue(!0,pe.ClassStaticInitializerFunction);const t=this.parseBlock();return this.restoreStatue(),e.hasStaticElements=!0,this.factory.createClassStaticBlockDeclaration(t.getBody(),t.range)}newClassLiteralProperty(e,t,s,r,n,i,a){const o=this.createRange(a);switch(s){case we.METHOD:return"constructor"===e.toString()?this.factory.createMethodSignature("constructor",e,t,[],n,r,o):this.factory.createMethodSignature("method",e,t,[],n,r,o);case we.GETTER:return this.factory.createMethodSignature("get",e,t,[],n,r,o);case we.SETTER:return this.factory.createMethodSignature("set",e,t,[],n,r,o);case we.FIELD:return this.factory.createPropertySignature(e,[],n,r,t,o)}throw new Error(this.errorMessage("UNREACHABLE"))}parseMemberInitializer(e,t){const s=t?pe.ClassStaticInitializerFunction:pe.ClassMembersInitializerFunction;let r;return this.check(re.ASSIGN)&&(this.setStatue(!0,s),r=this.parseAssignmentExpression(),this.restoreStatue()),t?e.hasStaticElements=!0:e.hasInstanceMembers=!0,r}setFunctionNameFromPropertyName(e,t,s){}parseSuperExpression(){const e=this.consume(re.SUPER);if(re.isProperty(this.peek().token)){if(this.peek().isType(re.PERIOD)&&this.peekAhead().isType(re.PRIVATE_NAME))throw this.consume(re.PERIOD),this.consume(re.PRIVATE_NAME),new Error(this.errorMessage("Unexpected Private Field"));if(this.peek().isType(re.QUESTION_PERIOD))throw this.consume(re.QUESTION_PERIOD),new Error(this.errorMessage("Optional Chaining No Super"));return this.factory.createSuper(e.range)}throw new Error(this.errorMessage("Unexpected Super"))}rewriteClassLiteral(e,t,s){const r=[];return e.hasSeenConstructor&&r.push(e.constructor),r.push(...e.staticElements),r.push(...e.instanceFields),r.push(...e.publicMembers),r.push(...e.privateMembers),this.factory.createClassBody(r,s)}parseModuleItemList(){const e=[];for(;this.peek().isNotType(re.EOS);){const t=this.parseModuleItem();if(!t)break;this.factory.isEmptyStatement(t)||e.push(t)}return e}parseModuleItem(){const e=this.peek();if(e.isType(re.EXPORT))return this.parseExportDeclaration();if(e.isType(re.IMPORT)){const e=this.peekAhead();if(e.isNotType(re.LPAREN)&&e.isNotType(re.PERIOD))return this.parseImportDeclaration()}return this.parseStatementListItem()}parseExportDeclaration(){const e=this.expect(re.EXPORT);let t;const s=[];switch(this.peek().token){case re.DEFAULT:return this.parseExportDefault(e);case re.MUL:return this.parseExportStar(e);case re.LBRACE:{const t=this.parseExportClause();let s,r;return this.checkContextualKeyword("from")?(s=this.parseModuleSpecifier(),r=this.parseImportAssertClause(),this.expectSemicolon()):this.expectSemicolon(),this.factory.createNamespaceExportDeclaration(t,void 0,s,r,this.createRange(e))}case re.FUNCTION:{const s=this.parseFunctionDeclaration(),r=s.getId(),n=this.factory.createExportSpecifier(r,r,r.range);t=this.factory.createNamespaceExportDeclaration([n],s,void 0,void 0,this.createRange(e));break}case re.CLASS:{const r=this.consume(re.CLASS),n=this.parseClassDeclaration(s,!1,r),i=n.getId(),a=this.factory.createExportSpecifier(i,i,i.range);t=this.factory.createNamespaceExportDeclaration([a],n,void 0,void 0,this.createRange(e));break}case re.VAR:case re.LET:case re.CONST:const r=this.parseVariableStatement(Ae.StatementListItem,s),n=r.getDeclarations().map((e=>this.factory.createExportSpecifier(e.getId(),e.getId(),e.getId().range)));t=this.factory.createNamespaceExportDeclaration(n,r,void 0,void 0,this.createRange(e));break;case re.ASYNC:const i=this.consume(re.ASYNC);if(this.peek().isType(re.FUNCTION)&&!this.scanner.hasLineTerminatorBeforeNext()){const r=this.parseAsyncFunctionDeclaration(s,!1,i),n=r.getId(),a=this.factory.createExportSpecifier(n,n,n.range);t=this.factory.createNamespaceExportDeclaration([a],r,void 0,void 0,this.createRange(e));break}default:throw new SyntaxError(this.errorMessage("Unexpected Token"))}return t}parseImportDeclaration(){const e=this.expect(re.IMPORT),t=this.peek();if(t.isType(re.STRING)){const t=this.parseModuleSpecifier(),s=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createImportDeclaration(t,void 0,s,this.createRange(e))}let s,r,n;if(t.isNotType(re.MUL)&&t.isNotType(re.LBRACE)&&(s=this.parseNonRestrictedIdentifier()),null==s||this.check(re.COMMA))switch(this.peek().token){case re.MUL:this.consume(re.MUL),this.expectContextualKeyword("as"),r=this.parseNonRestrictedIdentifier();break;case re.LBRACE:n=this.parseNamedImports();break;default:throw new SyntaxError(this.errorMessage("Unexpected Token"))}this.expectContextualKeyword("from");const i=this.parseModuleSpecifier(),a=this.parseImportAssertClause();this.expectSemicolon();const o=[];return r&&o.push(this.factory.createImportNamespaceSpecifier(r,r.range)),s&&o.push(this.factory.createImportDefaultSpecifier(s,s.range)),n?.length&&o.push(...n),this.factory.createImportDeclaration(i,o.length?o:void 0,a,this.createRange(e))}parseImportExpressions(){const e=this.consume(re.IMPORT);if(this.check(re.PERIOD)){const t=this.peek();return this.expectContextualKeyword("meta"),this.factory.createMetaProperty(this.factory.createIdentifier("import",e.range),this.factory.createIdentifier("meta",t.range),this.createRange(e))}if(this.peek().isNotType(re.LPAREN))throw new SyntaxError(this.errorMessage("Unexpected Token"));if(this.consume(re.LPAREN),this.peek().isType(re.RPAREN))throw new SyntaxError(this.errorMessage("Import Missing Specifier"));this.setAcceptIN(!0);const t=this.parseAssignmentExpressionCoverGrammar();if(this.check(re.COMMA)){if(this.check(re.RPAREN))return this.factory.createImportExpression(t,void 0,this.createRange(e));{const s=this.parseAssignmentExpressionCoverGrammar();return this.check(re.COMMA),this.expect(re.RPAREN),this.factory.createImportExpression(t,s,this.createRange(e))}}return this.expect(re.RPAREN),this.restoreAcceptIN(),this.factory.createImportExpression(t,void 0,this.createRange(e))}parseVariableStatement(e,t){const s=this.parseVariableDeclarations(e);return this.expectSemicolon(),t.push(...s.getDeclarations().map((e=>e.getId().toString()))),s}parseImportAssertClause(){if(this.scanner.hasLineTerminatorBeforeNext()||!this.checkContextualKeyword("assert"))return;this.expect(re.LBRACE);const e={},t=[];for(;this.peek().isNotType(re.RBRACE);){let s=this.checkAndGetValue(re.STRING);s||(s=this.parsePropertyOrPrivatePropertyName()),this.expect(re.COLON);const r=this.expectAndGetValue(re.STRING);if(t.push(this.factory.createAssertEntry(s,r,this.createRange(s))),e[s.toString()]=(e[s.toString()]??0)+1,e[s.toString()]>1)throw new SyntaxError(this.errorMessage("Import Assertion  Duplicate Key"));if(this.peek().isType(re.RBRACE))break;if(!this.check(re.COMMA))throw new SyntaxError("Unexpected Token")}return this.expect(re.RBRACE),t}parseModuleSpecifier(){return this.expectAndGetValue(re.STRING)}parseExportClause(){this.expect(re.LBRACE);const e=[];let t=this.peek();for(;t.isNotType(re.RBRACE);){const t=this.parseExportSpecifierName();let s;if(s=this.checkContextualKeyword("as")?this.parseExportSpecifierName():t,e.push(this.factory.createExportSpecifier(s,t)),this.peek().isType(re.RBRACE))break;if(!this.check(re.COMMA))throw new SyntaxError("Unexpected Token")}return this.expect(re.RBRACE),e}parseExportSpecifierName(){const e=this.next();if(e.isType(re.IDENTIFIER)||re.isPropertyName(e.token))return e.getValue();if(e.isType(re.STRING))return e.getValue();throw new SyntaxError(this.errorMessage("Unexpected Token"))}parseNamedImports(){this.expect(re.LBRACE);const e=[];for(;this.peek().isNotType(re.RBRACE);){const t=this.parseExportSpecifierName();let s=t;if(this.checkContextualKeyword("as")&&(s=this.parsePropertyOrPrivatePropertyName()),!re.isValidIdentifier(this.current().token,u.Strict,!1,d(this.languageMode)))throw new SyntaxError(this.errorMessage("Unexpected Reserved Keyword"));if(this.isEvalOrArguments(s))throw new SyntaxError(this.errorMessage("Strict Eval Arguments"));if(e.push(this.factory.createImportSpecifier(s,t,this.createRange(t))),this.peek().isType(re.RBRACE))break;this.expect(re.COMMA)}return this.expect(re.RBRACE),e}parseExportDefault(e){this.expect(re.DEFAULT);const t=[];let s;switch(this.peek().token){case re.FUNCTION:s=this.parseHoistableDeclaration(t,!0,this.peek());break;case re.CLASS:const e=this.consume(re.CLASS);s=this.parseClassDeclaration(t,!0,e);break;case re.ASYNC:if(this.peekAhead().isType(re.FUNCTION)&&!this.scanner.hasLineTerminatorBeforeNext()){const e=this.consume(re.ASYNC);s=this.parseHoistableDeclaration(t,!0,e);break}default:this.setAcceptIN(!0),s=this.parseAssignmentExpression(),this.expectSemicolon(),this.restoreAcceptIN()}return this.factory.createExportDefault(s,this.createRange(e))}parseExportStar(e){if(this.consume(re.MUL),!this.peekContextualKeyword("as")){this.expectContextualKeyword("from");const t=this.parseModuleSpecifier(),s=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createExportAllDeclaration(t,void 0,s,this.createRange(e))}this.expectContextualKeyword("as");const t=this.parseExportSpecifierName();this.expectContextualKeyword("from");const s=this.parseModuleSpecifier(),r=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createExportAllDeclaration(s,t,r,this.createRange(e))}parseWithStatement(){const e=this.consume(re.WITH);if(d(this.languageMode))throw new SyntaxError(this.errorMessage("With is not allowed in Strict mode."));this.expect(re.LPAREN);const t=this.parseExpression();this.expect(re.RPAREN);const s=this.parseStatement(),r=this.createRange(e);return this.factory.createWithStatement(t,s,r)}}const Wt=FinalizationRegistry?new FinalizationRegistry((e=>e.forEach((e=>{try{e()}catch(e){}})))):void 0;class Kt{static for(...e){return 0===e.length?new Kt:new Kt(e.map((e=>new r(e))))}static forScopes(...e){return 0===e.length&&e.push(r.blockScope()),new Kt(e)}static moduleScope(e,t,...s){return new Kt(s,e,t)}awaitPromise=[];forAwaitAsyncIterable;stack;moduleScope;moduleSource;resolver;onDestroyActions=[];constructor(e,t,s){var r;Array.isArray(e)?this.stack=e.slice():this.stack=e instanceof Kt?e.stack.slice():"object"==typeof e?[e]:[],t&&s?(this.resolver=t,this.moduleSource=s,this.moduleScope=new l(this.initModuleContext()),this.pushScope(this.moduleScope),this.pushReactiveScope()):0===this.stack.length&&this.pushBlockScope(),r=this.onDestroyActions,Wt?.register(this,r,this)}initModuleContext(){const e=e=>{const t=this.importModule(e);return t instanceof h?t.resolveImport():Promise.resolve(t.getContext())};return e.meta={url:Zt(this.moduleSource),resolve:(t,s)=>Promise.resolve(this.resolver.resolveURL(t,s??e.meta.url))},{import:e}}has(e){return!!this.stack.find((t=>t.has(e)))}get(e){return this.findScope(e).get(e)}set(e,t,s){return this.findScope(e).set(e,t,s)}declareVariable(e,t){return this.lastScope().set(e,t)}findScope(e){let t=this.stack.length;for(;t--;){const s=this.stack[t];if(s.has(e))return s}return this.lastScope()}resolveAwait(e){this.awaitPromise.push(e)}popScope(){return this.stack.pop()}removeScope(e){const t=this.stack.lastIndexOf(e);this.stack.splice(t,1)}pushScope(e){this.stack.push(e)}pushBlockScope(e){const t=r.blockScope(e);return this.stack.push(t),t}pushBlockScopeFor(e,t){const s=r.for(e,t);return this.stack.push(s),s}pushReactiveScope(e){const t=o.blockScope(e);return this.stack.push(t),t}pushReactiveScopeFor(e,t){const s=o.for(e,t);return this.stack.push(s),s}lastScope(){return this.stack[this.stack.length-1]}clearTo(e){const t=this.stack.lastIndexOf(e);return-1!==t&&(this.stack.splice(t),!0)}clearTill(e){const t=this.stack.lastIndexOf(e);return-1!==t&&(this.stack.splice(t+1),!0)}copyStack(){return new Kt(this.stack.slice(),this.resolver,this.moduleSource)}detach(){this.getReactiveScopeControls().forEach((e=>e.detach()))}reattach(){this.getReactiveScopeControls().forEach((e=>e.reattach()))}detectChanges(){this.getReactiveScope().forEach((e=>e.detectChanges()))}getReactiveScopeControls(){return this.stack.filter((e=>e instanceof c))}getReactiveScope(){return this.stack.filter((e=>e instanceof o))}importModule(e,t){if(!this.resolver||!this.moduleScope)throw new Error("Module Resolver is undefined");return this.resolver.resolve(e,this.moduleScope,t)}getModule(){return this.moduleScope}onDestroy(e){this.onDestroyActions.push(e)}}const qt="https://root";function Zt(e){return new URL(e,qt)}class Yt{globalStack;provider;config;modules=[];constructor(e,t,s){this.globalStack=e,this.provider=t,this.config=s}register(e,t){const s=this.modules.find((s=>s[0]==e&&s[1]==t));s?s[1]=t:this.modules.push([e,t])}resolve(e,t,s){if(this.isValidHTTPUrl(e))return this.resolveExternalModule(e,s);if(e.startsWith("/"))return this.findScopeBySource(e,s);const r=this.findSourceByScope(t),n=this.resolveURL(e,r);return this.findScopeBySource(n,s)}resolveURL(e,t){const s=t instanceof URL?t.href:Zt(t).href;return new URL(e,s).href.replace(qt,"")}findScopeBySource(e,t){if(t?.assert?.type){const s=t.assert.type;if(!e.endsWith(`.${s}`))throw new Error("Can't find module scope")}const s=this.modules.find((t=>t[0]==e))?.[1];if(!s){const t=this.provider[e];if(t||""==t){const s=zt.parse(t,{mode:u.Strict}),r=new Kt(this.globalStack,this,e);return this.register(e,r.getModule()),s.get(r),r.getModule()}throw new Error("Can't find module scope")}return s}findSourceByScope(e){const t=this.modules.find((t=>t[1]==e))?.[0];if(!t)throw new Error("Can't resolve scope source");return t}resolveExternalModule(e,t){if(!this.config?.allowImportExternal)throw new Error("Error: Import External Module is not allowed.");const s=new h(e,t);return this.modules.push([e,s]),s}isValidHTTPUrl=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}}function Xt(e){switch(!0){case e instanceof Map:case e instanceof Set:case e instanceof Date:case e instanceof WeakMap:case e instanceof WeakSet:case e instanceof Promise:case HTMLElement&&e instanceof HTMLElement:return!0;default:return!1}}function Qt(e,t,s,r){e.forEach((e=>{if(e.startsWith(":"))return;r.push([e,s]);const n=Object.keys(t[e]);if(!n.length)return;const i=s.getInnerScope(e)??s.setInnerScope(e);Qt(n,t[e],i,r)}))}function es(e,t){const s=[];return Object.keys(e).forEach((r=>{const n=t.findScope(r);s.push([r,n]);const i=Object.keys(e[r]);if(!i.length)return;const a=n.getInnerScope(r)??n.setInnerScope(r);Qt(i,e[r],a,s)})),s}function ts(e,t){return es(e,t).filter((e=>e[1]instanceof o))}function ss(e){try{return e()}catch(e){return e}}class rs extends o{state=[];watch=!0;constructor(){super([])}createSignal(e){const t=new ls(this,this.getContext().length,e);return ls.bindNode(t),t}createSignalFn(e){const t=new ls(this,this.getContext().length,e);return ls.toReactiveSignal(t)}createLazy(e){const t=new cs(this,this.getContext().length,e);return cs.bindNode(t),t}createLazyFn(e){const t=new cs(this,this.getContext().length,e);return cs.toReactiveSignal(t)}createComputed(e){const t=this.getContext().length;this.watchState();const s=ss(e),r=new os(this,t,s);os.bindNode(r);const n=()=>{this.watchState();const s=ss(e),r=this.readState();this.restoreState(),Object.keys(i).filter((e=>!r.includes(+e))).forEach((e=>i[e].pause())),r.forEach((e=>{i[e]?.resume(),i[e]??=this.subscribe(e,n)})),this.set(t,s)},i=this.observeState(n);return this.restoreState(),r}createComputedFn(e){const t=this.createComputed(e);return os.toReactiveSignal(t)}createEffect(e){let t,s=!1;const r=e=>{t=e,s=!0},n=()=>{s=!1;const n=ss((()=>e(r)));n instanceof Error&&console.error(n),s||(t=void 0)};this.watchState(),n();const i=()=>{t?.(),this.watchState(),n();const e=this.readState();this.restoreState(),Object.keys(a).filter((t=>!e.includes(+t))).forEach((e=>a[e].pause())),e.forEach((e=>{a[e]?.resume(),a[e]??=this.subscribe(e,i)}))},a=this.observeState(i);return this.restoreState(),{destroy:()=>{Object.values(a).forEach((e=>e.unsubscribe())),t?.()}}}watchState(){this.state.push([])}untrack(){this.watch=!1}observeIndex(e){this.watch&&this.state.at(-1)?.push(e)}track(){this.watch=!0}readState(){return this.state.at(-1)??[]}observeState(e){return Object.fromEntries(this.readState().map((t=>[t,this.subscribe(t,e)])))}restoreState(){this.state.pop()}}class ns{scope;index;static bindNode(e){e.get=e.get.bind(e)}static toReactiveSignal(e){const t=()=>e.get();return t[is]=e,t}constructor(e,t){this.scope=e,this.index=t}get(){return this.scope.observeIndex(this.index),this.scope.get(this.index)}subscribe(e){return this.scope.subscribe(this.index,e)}}const is=Symbol("Signal");function as(e){return e instanceof ns?e:function(e){const t=e?.[is];return void 0!==t&&t instanceof ns}(e)?e[is]:void 0}class os extends ns{constructor(e,t,s){super(e,t),e.set(t,s)}}class cs extends ns{updateFn;constructor(e,t,s){super(e,t),this.updateFn=s,e.set(t,ss(s))}get(){const e=ss(this.updateFn);return this.scope.set(this.index,e),super.get()}}class ls extends ns{static bindNode(e){e.get=e.get.bind(e),e.set=e.set.bind(e),e.update=e.update.bind(e)}static toReactiveSignal(e){const t=()=>e.get();return t.set=t=>e.set(t),t.update=t=>e.update(t),t[is]=e,t}constructor(e,t,s){super(e,t),e.set(t,s)}set(e){this.scope.set(this.index,e)}update(e){this.set(e(this.get()))}asReadonly(){return hs.toReactiveSignal(new hs(this.scope,this.index))}asReadonlyNode(){const e=new hs(this.scope,this.index);return hs.bindNode(e),e}}class hs extends ns{}(()=>{let e,t,s=[x("CommentExpression")],r=[],n=g;var i=class extends n{static{t=this}static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;(0,m.xE)(null,e={value:t},s,{kind:"class",name:t.name,metadata:a},null,r),i=t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),(0,m.Co)(t,r)}comment;static fromJSON(e){return new i(e.comment,e.range,e.loc)}constructor(e,t,s){super(t,s),this.comment=e}getComment(){return this.comment}set(e,...t){}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return this.comment}toJson(){return{comment:this.comment}}};i=t})();class us extends Error{}const ps=new class{getType(e){return e.constructor.type}visit(e,t){const s={abort(){throw new us("terminate")}},r=e=>{t(e,this.getType(e),s),this.visitExpressionNode(e,r)};try{t(e,this.getType(e),s),this.visitExpressionNode(e,r)}catch(e){if(!(e instanceof us))throw e}}visitExpressionNode(e,t){const s=A.get(this.getType(e)).visit;s&&s(e,t)}}},2970:(e,t,s)=>{"use strict";s.d(t,{CR:()=>p,Co:()=>a,FC:()=>f,Ho:()=>c,Jh:()=>h,KL:()=>g,XA:()=>u,Yc:()=>o,ZT:()=>n,ev:()=>d,mG:()=>l,qq:()=>m,xE:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},r(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}function i(e,t,s,r,n,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",h=!t&&e?r.static?e:e.prototype:null,u=t||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),p=!1,d=s.length-1;d>=0;d--){var m={};for(var f in r)m[f]="access"===f?{}:r[f];for(var f in r.access)m.access[f]=r.access[f];m.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var g=(0,s[d])("accessor"===c?{get:u.get,set:u.set}:u[l],m);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=a(g.get))&&(u.get=o),(o=a(g.set))&&(u.set=o),(o=a(g.init))&&n.unshift(o)}else(o=a(g))&&("field"===c?n.unshift(o):u[l]=o)}h&&Object.defineProperty(h,r.name,u),p=!0}function a(e,t,s){for(var r=arguments.length>2,n=0;n<t.length;n++)s=r?t[n].call(e,s):t[n].call(e);return r?s:void 0}function o(e){return"symbol"==typeof e?e:"".concat(e)}function c(e,t,s){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function l(e,t,s,r){return new(s||(s=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var s,r,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(s=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{s=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,s=t&&e[t],r=0;if(s)return s.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var r,n,i=s.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(s=i.return)&&s.call(i)}finally{if(n)throw n.error}}return a}function d(e,t,s){if(s||2===arguments.length)for(var r,n=0,i=t.length;n<i;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function f(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=s.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){n[e]&&(r[e]=function(t){return new Promise((function(s,r){i.push([e,t,s,r])>1||o(e,t)}))})}function o(e,t){try{(s=n[e](t)).value instanceof m?Promise.resolve(s.value.v).then(c,l):h(i[0][2],s)}catch(e){h(i[0][3],e)}var s}function c(e){o("next",e)}function l(e){o("throw",e)}function h(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function g(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(t){return new Promise((function(r,n){!function(e,t,s,r){Promise.resolve(r).then((function(t){e({value:t,done:s})}),t)}(r,n,(t=e[s](t)).done,t.value)}))}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return s[e](i,i.exports,n),i.exports}n.m=s,n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>e+".bundle.js",n.miniCssF=e=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@ibyar/webpack:",n.l=(s,r,i,a)=>{if(e[s])e[s].push(r);else{var o,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var u=l[h];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=s),e[s]=[r];var p=(t,r)=>{o.onerror=o.onload=null,clearTimeout(d);var n=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),c&&document.head.appendChild(o)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={179:0};n.f.j=(t,s)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var i=new Promise(((s,n)=>r=e[t]=[s,n]));s.push(r[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,(s=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=(t,s)=>{var r,i,[a,o,c]=s,l=0;if(a.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);c&&c(n)}for(t&&t(s);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},s=self.webpackChunk_ibyar_webpack=self.webpackChunk_ibyar_webpack||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{afterMain:()=>O,afterRead:()=>k,afterWrite:()=>P,applyStyles:()=>j,arrow:()=>ie,auto:()=>m,basePlacements:()=>f,beforeMain:()=>C,beforeRead:()=>x,beforeWrite:()=>_,bottom:()=>u,clippingParents:()=>b,computeStyles:()=>le,createPopper:()=>Be,createPopperBase:()=>Fe,createPopperLite:()=>je,detectOverflow:()=>xe,end:()=>y,eventListeners:()=>ue,flip:()=>Te,hide:()=>Ne,left:()=>d,main:()=>N,modifierPhases:()=>R,offset:()=>Oe,placements:()=>A,popper:()=>E,popperGenerator:()=>Me,popperOffsets:()=>_e,preventOverflow:()=>Ie,read:()=>T,reference:()=>w,right:()=>p,start:()=>g,top:()=>h,variationPlacements:()=>v,viewport:()=>S,write:()=>I});var t=n(2970),s=(n(9092),n(8558));(0,s.cIr)("aurora");var r=n(6024);const i=r.Sj.parse("\n\tconst x = 'Hello';\n\tconst y = \"World\";\n\t\n\tlet z = x + ' ' + y + '!';\n\tz = 123 + 456;\n\tz = (x + ' ' + y).toUpperCase();\n\tz = 'Reactive Scope is Awesome!!';\n\n"),a=r.vn.blockScope(),o=a.subscribe("z",((e,t)=>{console.log("new value of Z = "+e,"old value of Z = "+t)})),c=a.subscribe("x",((e,t)=>{console.log("new value of X = "+e,"old value of X = "+t)})),l=new r.Kq(a);i.get(l),o.unsubscribe(),c.unsubscribe();var h="top",u="bottom",p="right",d="left",m="auto",f=[h,u,p,d],g="start",y="end",b="clippingParents",S="viewport",E="popper",w="reference",v=f.reduce((function(e,t){return e.concat([t+"-"+g,t+"-"+y])}),[]),A=[].concat(f,[m]).reduce((function(e,t){return e.concat([t,t+"-"+g,t+"-"+y])}),[]),x="beforeRead",T="read",k="afterRead",C="beforeMain",N="main",O="afterMain",_="beforeWrite",I="write",P="afterWrite",R=[x,T,k,C,N,O,_,I,P];function L(e){return e?(e.nodeName||"").toLowerCase():null}function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function M(e){return e instanceof D(e).Element||e instanceof Element}function F(e){return e instanceof D(e).HTMLElement||e instanceof HTMLElement}function B(e){return"undefined"!=typeof ShadowRoot&&(e instanceof D(e).ShadowRoot||e instanceof ShadowRoot)}const j={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var s=t.styles[e]||{},r=t.attributes[e]||{},n=t.elements[e];F(n)&&L(n)&&(Object.assign(n.style,s),Object.keys(r).forEach((function(e){var t=r[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],n=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:s[e]).reduce((function(e,t){return e[t]="",e}),{});F(r)&&L(r)&&(Object.assign(r.style,i),Object.keys(n).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function H(e){return e.split("-")[0]}var $=Math.max,V=Math.min,G=Math.round;function J(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function U(){return!/^((?!chrome|android).)*safari/i.test(J())}function z(e,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1);var r=e.getBoundingClientRect(),n=1,i=1;t&&F(e)&&(n=e.offsetWidth>0&&G(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&G(r.height)/e.offsetHeight||1);var a=(M(e)?D(e):window).visualViewport,o=!U()&&s,c=(r.left+(o&&a?a.offsetLeft:0))/n,l=(r.top+(o&&a?a.offsetTop:0))/i,h=r.width/n,u=r.height/i;return{width:h,height:u,top:l,right:c+h,bottom:l+u,left:c,x:c,y:l}}function W(e){var t=z(e),s=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:r}}function K(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&B(s)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function q(e){return D(e).getComputedStyle(e)}function Z(e){return["table","td","th"].indexOf(L(e))>=0}function Y(e){return((M(e)?e.ownerDocument:e.document)||window.document).documentElement}function X(e){return"html"===L(e)?e:e.assignedSlot||e.parentNode||(B(e)?e.host:null)||Y(e)}function Q(e){return F(e)&&"fixed"!==q(e).position?e.offsetParent:null}function ee(e){for(var t=D(e),s=Q(e);s&&Z(s)&&"static"===q(s).position;)s=Q(s);return s&&("html"===L(s)||"body"===L(s)&&"static"===q(s).position)?t:s||function(e){var t=/firefox/i.test(J());if(/Trident/i.test(J())&&F(e)&&"fixed"===q(e).position)return null;var s=X(e);for(B(s)&&(s=s.host);F(s)&&["html","body"].indexOf(L(s))<0;){var r=q(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(e)||t}function te(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function se(e,t,s){return $(e,V(t,s))}function re(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ne(e,t){return t.reduce((function(t,s){return t[s]=e,t}),{})}const ie={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,s=e.state,r=e.name,n=e.options,i=s.elements.arrow,a=s.modifiersData.popperOffsets,o=H(s.placement),c=te(o),l=[d,p].indexOf(o)>=0?"height":"width";if(i&&a){var m=function(e,t){return re("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ne(e,f))}(n.padding,s),g=W(i),y="y"===c?h:d,b="y"===c?u:p,S=s.rects.reference[l]+s.rects.reference[c]-a[c]-s.rects.popper[l],E=a[c]-s.rects.reference[c],w=ee(i),v=w?"y"===c?w.clientHeight||0:w.clientWidth||0:0,A=S/2-E/2,x=m[y],T=v-g[l]-m[b],k=v/2-g[l]/2+A,C=se(x,k,T),N=c;s.modifiersData[r]=((t={})[N]=C,t.centerOffset=C-k,t)}},effect:function(e){var t=e.state,s=e.options.element,r=void 0===s?"[data-popper-arrow]":s;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&K(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ae(e){return e.split("-")[1]}var oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ce(e){var t,s=e.popper,r=e.popperRect,n=e.placement,i=e.variation,a=e.offsets,o=e.position,c=e.gpuAcceleration,l=e.adaptive,m=e.roundOffsets,f=e.isFixed,g=a.x,b=void 0===g?0:g,S=a.y,E=void 0===S?0:S,w="function"==typeof m?m({x:b,y:E}):{x:b,y:E};b=w.x,E=w.y;var v=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),x=d,T=h,k=window;if(l){var C=ee(s),N="clientHeight",O="clientWidth";C===D(s)&&"static"!==q(C=Y(s)).position&&"absolute"===o&&(N="scrollHeight",O="scrollWidth"),(n===h||(n===d||n===p)&&i===y)&&(T=u,E-=(f&&C===k&&k.visualViewport?k.visualViewport.height:C[N])-r.height,E*=c?1:-1),n!==d&&(n!==h&&n!==u||i!==y)||(x=p,b-=(f&&C===k&&k.visualViewport?k.visualViewport.width:C[O])-r.width,b*=c?1:-1)}var _,I=Object.assign({position:o},l&&oe),P=!0===m?function(e,t){var s=e.x,r=e.y,n=t.devicePixelRatio||1;return{x:G(s*n)/n||0,y:G(r*n)/n||0}}({x:b,y:E},D(s)):{x:b,y:E};return b=P.x,E=P.y,c?Object.assign({},I,((_={})[T]=A?"0":"",_[x]=v?"0":"",_.transform=(k.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",_)):Object.assign({},I,((t={})[T]=A?E+"px":"",t[x]=v?b+"px":"",t.transform="",t))}const le={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,s=e.options,r=s.gpuAcceleration,n=void 0===r||r,i=s.adaptive,a=void 0===i||i,o=s.roundOffsets,c=void 0===o||o,l={placement:H(t.placement),variation:ae(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ce(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ce(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var he={passive:!0};const ue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,s=e.instance,r=e.options,n=r.scroll,i=void 0===n||n,a=r.resize,o=void 0===a||a,c=D(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",s.update,he)})),o&&c.addEventListener("resize",s.update,he),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",s.update,he)})),o&&c.removeEventListener("resize",s.update,he)}},data:{}};var pe={left:"right",right:"left",bottom:"top",top:"bottom"};function de(e){return e.replace(/left|right|bottom|top/g,(function(e){return pe[e]}))}var me={start:"end",end:"start"};function fe(e){return e.replace(/start|end/g,(function(e){return me[e]}))}function ge(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ye(e){return z(Y(e)).left+ge(e).scrollLeft}function be(e){var t=q(e),s=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+n+r)}function Se(e){return["html","body","#document"].indexOf(L(e))>=0?e.ownerDocument.body:F(e)&&be(e)?e:Se(X(e))}function Ee(e,t){var s;void 0===t&&(t=[]);var r=Se(e),n=r===(null==(s=e.ownerDocument)?void 0:s.body),i=D(r),a=n?[i].concat(i.visualViewport||[],be(r)?r:[]):r,o=t.concat(a);return n?o:o.concat(Ee(X(a)))}function we(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ve(e,t,s){return t===S?we(function(e,t){var s=D(e),r=Y(e),n=s.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,c=0;if(n){i=n.width,a=n.height;var l=U();(l||!l&&"fixed"===t)&&(o=n.offsetLeft,c=n.offsetTop)}return{width:i,height:a,x:o+ye(e),y:c}}(e,s)):M(t)?function(e,t){var s=z(e,!1,"fixed"===t);return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}(t,s):we(function(e){var t,s=Y(e),r=ge(e),n=null==(t=e.ownerDocument)?void 0:t.body,i=$(s.scrollWidth,s.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=$(s.scrollHeight,s.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-r.scrollLeft+ye(e),c=-r.scrollTop;return"rtl"===q(n||s).direction&&(o+=$(s.clientWidth,n?n.clientWidth:0)-i),{width:i,height:a,x:o,y:c}}(Y(e)))}function Ae(e){var t,s=e.reference,r=e.element,n=e.placement,i=n?H(n):null,a=n?ae(n):null,o=s.x+s.width/2-r.width/2,c=s.y+s.height/2-r.height/2;switch(i){case h:t={x:o,y:s.y-r.height};break;case u:t={x:o,y:s.y+s.height};break;case p:t={x:s.x+s.width,y:c};break;case d:t={x:s.x-r.width,y:c};break;default:t={x:s.x,y:s.y}}var l=i?te(i):null;if(null!=l){var m="y"===l?"height":"width";switch(a){case g:t[l]=t[l]-(s[m]/2-r[m]/2);break;case y:t[l]=t[l]+(s[m]/2-r[m]/2)}}return t}function xe(e,t){void 0===t&&(t={});var s=t,r=s.placement,n=void 0===r?e.placement:r,i=s.strategy,a=void 0===i?e.strategy:i,o=s.boundary,c=void 0===o?b:o,l=s.rootBoundary,d=void 0===l?S:l,m=s.elementContext,g=void 0===m?E:m,y=s.altBoundary,v=void 0!==y&&y,A=s.padding,x=void 0===A?0:A,T=re("number"!=typeof x?x:ne(x,f)),k=g===E?w:E,C=e.rects.popper,N=e.elements[v?k:g],O=function(e,t,s,r){var n="clippingParents"===t?function(e){var t=Ee(X(e)),s=["absolute","fixed"].indexOf(q(e).position)>=0&&F(e)?ee(e):e;return M(s)?t.filter((function(e){return M(e)&&K(e,s)&&"body"!==L(e)})):[]}(e):[].concat(t),i=[].concat(n,[s]),a=i[0],o=i.reduce((function(t,s){var n=ve(e,s,r);return t.top=$(n.top,t.top),t.right=V(n.right,t.right),t.bottom=V(n.bottom,t.bottom),t.left=$(n.left,t.left),t}),ve(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(M(N)?N:N.contextElement||Y(e.elements.popper),c,d,a),_=z(e.elements.reference),I=Ae({reference:_,element:C,strategy:"absolute",placement:n}),P=we(Object.assign({},C,I)),R=g===E?P:_,D={top:O.top-R.top+T.top,bottom:R.bottom-O.bottom+T.bottom,left:O.left-R.left+T.left,right:R.right-O.right+T.right},B=e.modifiersData.offset;if(g===E&&B){var j=B[n];Object.keys(D).forEach((function(e){var t=[p,u].indexOf(e)>=0?1:-1,s=[h,u].indexOf(e)>=0?"y":"x";D[e]+=j[s]*t}))}return D}const Te={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=s.mainAxis,i=void 0===n||n,a=s.altAxis,o=void 0===a||a,c=s.fallbackPlacements,l=s.padding,y=s.boundary,b=s.rootBoundary,S=s.altBoundary,E=s.flipVariations,w=void 0===E||E,x=s.allowedAutoPlacements,T=t.options.placement,k=H(T),C=c||(k!==T&&w?function(e){if(H(e)===m)return[];var t=de(e);return[fe(e),t,fe(t)]}(T):[de(T)]),N=[T].concat(C).reduce((function(e,s){return e.concat(H(s)===m?function(e,t){void 0===t&&(t={});var s=t,r=s.placement,n=s.boundary,i=s.rootBoundary,a=s.padding,o=s.flipVariations,c=s.allowedAutoPlacements,l=void 0===c?A:c,h=ae(r),u=h?o?v:v.filter((function(e){return ae(e)===h})):f,p=u.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=u);var d=p.reduce((function(t,s){return t[s]=xe(e,{placement:s,boundary:n,rootBoundary:i,padding:a})[H(s)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:s,boundary:y,rootBoundary:b,padding:l,flipVariations:w,allowedAutoPlacements:x}):s)}),[]),O=t.rects.reference,_=t.rects.popper,I=new Map,P=!0,R=N[0],L=0;L<N.length;L++){var D=N[L],M=H(D),F=ae(D)===g,B=[h,u].indexOf(M)>=0,j=B?"width":"height",$=xe(t,{placement:D,boundary:y,rootBoundary:b,altBoundary:S,padding:l}),V=B?F?p:d:F?u:h;O[j]>_[j]&&(V=de(V));var G=de(V),J=[];if(i&&J.push($[M]<=0),o&&J.push($[V]<=0,$[G]<=0),J.every((function(e){return e}))){R=D,P=!1;break}I.set(D,J)}if(P)for(var U=function(e){var t=N.find((function(t){var s=I.get(t);if(s)return s.slice(0,e).every((function(e){return e}))}));if(t)return R=t,"break"},z=w?3:1;z>0&&"break"!==U(z);z--);t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ke(e,t,s){return void 0===s&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function Ce(e){return[h,p,u,d].some((function(t){return e[t]>=0}))}const Ne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,s=e.name,r=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,a=xe(t,{elementContext:"reference"}),o=xe(t,{altBoundary:!0}),c=ke(a,r),l=ke(o,n,i),h=Ce(c),u=Ce(l);t.modifiersData[s]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}},Oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,s=e.options,r=e.name,n=s.offset,i=void 0===n?[0,0]:n,a=A.reduce((function(e,s){return e[s]=function(e,t,s){var r=H(e),n=[d,h].indexOf(r)>=0?-1:1,i="function"==typeof s?s(Object.assign({},t,{placement:e})):s,a=i[0],o=i[1];return a=a||0,o=(o||0)*n,[d,p].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}(s,t.rects,i),e}),{}),o=a[t.placement],c=o.x,l=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}},_e={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,s=e.name;t.modifiersData[s]=Ae({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ie={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,r=e.name,n=s.mainAxis,i=void 0===n||n,a=s.altAxis,o=void 0!==a&&a,c=s.boundary,l=s.rootBoundary,m=s.altBoundary,f=s.padding,y=s.tether,b=void 0===y||y,S=s.tetherOffset,E=void 0===S?0:S,w=xe(t,{boundary:c,rootBoundary:l,padding:f,altBoundary:m}),v=H(t.placement),A=ae(t.placement),x=!A,T=te(v),k="x"===T?"y":"x",C=t.modifiersData.popperOffsets,N=t.rects.reference,O=t.rects.popper,_="function"==typeof E?E(Object.assign({},t.rects,{placement:t.placement})):E,I="number"==typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(C){if(i){var L,D="y"===T?h:d,M="y"===T?u:p,F="y"===T?"height":"width",B=C[T],j=B+w[D],G=B-w[M],J=b?-O[F]/2:0,U=A===g?N[F]:O[F],z=A===g?-O[F]:-N[F],K=t.elements.arrow,q=b&&K?W(K):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Y=Z[D],X=Z[M],Q=se(0,N[F],q[F]),re=x?N[F]/2-J-Q-Y-I.mainAxis:U-Q-Y-I.mainAxis,ne=x?-N[F]/2+J+Q+X+I.mainAxis:z+Q+X+I.mainAxis,ie=t.elements.arrow&&ee(t.elements.arrow),oe=ie?"y"===T?ie.clientTop||0:ie.clientLeft||0:0,ce=null!=(L=null==P?void 0:P[T])?L:0,le=B+ne-ce,he=se(b?V(j,B+re-ce-oe):j,B,b?$(G,le):G);C[T]=he,R[T]=he-B}if(o){var ue,pe="x"===T?h:d,de="x"===T?u:p,me=C[k],fe="y"===k?"height":"width",ge=me+w[pe],ye=me-w[de],be=-1!==[h,d].indexOf(v),Se=null!=(ue=null==P?void 0:P[k])?ue:0,Ee=be?ge:me-N[fe]-O[fe]-Se+I.altAxis,we=be?me+N[fe]+O[fe]-Se-I.altAxis:ye,ve=b&&be?function(e,t,s){var r=se(e,t,s);return r>s?s:r}(Ee,me,we):se(b?Ee:ge,me,b?we:ye);C[k]=ve,R[k]=ve-me}t.modifiersData[r]=R}},requiresIfExists:["offset"]};function Pe(e,t,s){void 0===s&&(s=!1);var r,n,i=F(t),a=F(t)&&function(e){var t=e.getBoundingClientRect(),s=G(t.width)/e.offsetWidth||1,r=G(t.height)/e.offsetHeight||1;return 1!==s||1!==r}(t),o=Y(t),c=z(e,a,s),l={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!s)&&(("body"!==L(t)||be(o))&&(l=(r=t)!==D(r)&&F(r)?{scrollLeft:(n=r).scrollLeft,scrollTop:n.scrollTop}:ge(r)),F(t)?((h=z(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):o&&(h.x=ye(o))),{x:c.left+l.scrollLeft-h.x,y:c.top+l.scrollTop-h.y,width:c.width,height:c.height}}function Re(e){var t=new Map,s=new Set,r=[];function n(e){s.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!s.has(e)){var r=t.get(e);r&&n(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){s.has(e.name)||n(e)})),r}var Le={placement:"bottom",modifiers:[],strategy:"absolute"};function De(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Me(e){void 0===e&&(e={});var t=e,s=t.defaultModifiers,r=void 0===s?[]:s,n=t.defaultOptions,i=void 0===n?Le:n;return function(e,t,s){void 0===s&&(s=i);var n,a,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Le,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,h={state:o,setOptions:function(s){var n="function"==typeof s?s(o.options):s;u(),o.options=Object.assign({},i,o.options,n),o.scrollParents={reference:M(e)?Ee(e):e.contextElement?Ee(e.contextElement):[],popper:Ee(t)};var a,l,p=function(e){var t=Re(e);return R.reduce((function(e,s){return e.concat(t.filter((function(e){return e.phase===s})))}),[])}((a=[].concat(r,o.options.modifiers),l=a.reduce((function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign({},s,t,{options:Object.assign({},s.options,t.options),data:Object.assign({},s.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return o.orderedModifiers=p.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,s=e.options,r=void 0===s?{}:s,n=e.effect;if("function"==typeof n){var i=n({state:o,name:t,instance:h,options:r});c.push(i||function(){})}})),h.update()},forceUpdate:function(){if(!l){var e=o.elements,t=e.reference,s=e.popper;if(De(t,s)){o.rects={reference:Pe(t,ee(s),"fixed"===o.options.strategy),popper:W(s)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var n=o.orderedModifiers[r],i=n.fn,a=n.options,c=void 0===a?{}:a,u=n.name;"function"==typeof i&&(o=i({state:o,options:c,name:u,instance:h})||o)}else o.reset=!1,r=-1}}},update:(n=function(){return new Promise((function(e){h.forceUpdate(),e(o)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(n())}))}))),a}),destroy:function(){u(),l=!0}};if(!De(e,t))return h;function u(){c.forEach((function(e){return e()})),c=[]}return h.setOptions(s).then((function(e){!l&&s.onFirstUpdate&&s.onFirstUpdate(e)})),h}}var Fe=Me(),Be=Me({defaultModifiers:[ue,_e,le,j,Oe,Te,Ie,ie,Ne]}),je=Me({defaultModifiers:[ue,_e,le,j]});const He="transitionend",$e=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let s=e.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&"#"!==s?s.trim():null}return t},Ve=e=>{const t=$e(e);return t&&document.querySelector(t)?t:null},Ge=e=>{const t=$e(e);return t?document.querySelector(t):null},Je=e=>{e.dispatchEvent(new Event(He))},Ue=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),ze=e=>Ue(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,We=e=>{if(!Ue(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),s=e.closest("details:not([open])");if(!s)return t;if(s!==e){const t=e.closest("summary");if(t&&t.parentNode!==s)return!1;if(null===t)return!1}return t},Ke=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),qe=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?qe(e.parentNode):null},Ze=()=>{},Ye=e=>{e.offsetHeight},Xe=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Qe=[],et=()=>"rtl"===document.documentElement.dir,tt=e=>{var t;t=()=>{const t=Xe();if(t){const s=e.NAME,r=t.fn[s];t.fn[s]=e.jQueryInterface,t.fn[s].Constructor=e,t.fn[s].noConflict=()=>(t.fn[s]=r,e.jQueryInterface)}},"loading"===document.readyState?(Qe.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Qe)e()})),Qe.push(t)):t()},st=e=>{"function"==typeof e&&e()},rt=(e,t,s=!0)=>{if(!s)return void st(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const r=Number.parseFloat(t),n=Number.parseFloat(s);return r||n?(t=t.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(s))):0})(t)+5;let n=!1;const i=({target:s})=>{s===t&&(n=!0,t.removeEventListener(He,i),st(e))};t.addEventListener(He,i),setTimeout((()=>{n||Je(t)}),r)},nt=(e,t,s,r)=>{const n=e.length;let i=e.indexOf(t);return-1===i?!s&&r?e[n-1]:e[0]:(i+=s?1:-1,r&&(i=(i+n)%n),e[Math.max(0,Math.min(i,n-1))])},it=/[^.]*(?=\..*)\.|.*/,at=/\..*/,ot=/::\d+$/,ct={};let lt=1;const ht={mouseenter:"mouseover",mouseleave:"mouseout"},ut=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function pt(e,t){return t&&`${t}::${lt++}`||e.uidEvent||lt++}function dt(e){const t=pt(e);return e.uidEvent=t,ct[t]=ct[t]||{},ct[t]}function mt(e,t,s=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===s))}function ft(e,t,s){const r="string"==typeof t,n=r?s:t||s;let i=St(e);return ut.has(i)||(i=e),[r,n,i]}function gt(e,t,s,r,n){if("string"!=typeof t||!e)return;let[i,a,o]=ft(t,s,r);if(t in ht){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a=e(a)}const c=dt(e),l=c[o]||(c[o]={}),h=mt(l,a,i?s:null);if(h)return void(h.oneOff=h.oneOff&&n);const u=pt(a,t.replace(it,"")),p=i?function(e,t,s){return function r(n){const i=e.querySelectorAll(t);for(let{target:a}=n;a&&a!==this;a=a.parentNode)for(const o of i)if(o===a)return wt(n,{delegateTarget:a}),r.oneOff&&Et.off(e,n.type,t,s),s.apply(a,[n])}}(e,s,a):function(e,t){return function s(r){return wt(r,{delegateTarget:e}),s.oneOff&&Et.off(e,r.type,t),t.apply(e,[r])}}(e,a);p.delegationSelector=i?s:null,p.callable=a,p.oneOff=n,p.uidEvent=u,l[u]=p,e.addEventListener(o,p,i)}function yt(e,t,s,r,n){const i=mt(t[s],r,n);i&&(e.removeEventListener(s,i,Boolean(n)),delete t[s][i.uidEvent])}function bt(e,t,s,r){const n=t[s]||{};for(const i of Object.keys(n))if(i.includes(r)){const r=n[i];yt(e,t,s,r.callable,r.delegationSelector)}}function St(e){return e=e.replace(at,""),ht[e]||e}const Et={on(e,t,s,r){gt(e,t,s,r,!1)},one(e,t,s,r){gt(e,t,s,r,!0)},off(e,t,s,r){if("string"!=typeof t||!e)return;const[n,i,a]=ft(t,s,r),o=a!==t,c=dt(e),l=c[a]||{},h=t.startsWith(".");if(void 0===i){if(h)for(const s of Object.keys(c))bt(e,c,s,t.slice(1));for(const s of Object.keys(l)){const r=s.replace(ot,"");if(!o||t.includes(r)){const t=l[s];yt(e,c,a,t.callable,t.delegationSelector)}}}else{if(!Object.keys(l).length)return;yt(e,c,a,i,n?s:null)}},trigger(e,t,s){if("string"!=typeof t||!e)return null;const r=Xe();let n=null,i=!0,a=!0,o=!1;t!==St(t)&&r&&(n=r.Event(t,s),r(e).trigger(n),i=!n.isPropagationStopped(),a=!n.isImmediatePropagationStopped(),o=n.isDefaultPrevented());let c=new Event(t,{bubbles:i,cancelable:!0});return c=wt(c,s),o&&c.preventDefault(),a&&e.dispatchEvent(c),c.defaultPrevented&&n&&n.preventDefault(),c}};function wt(e,t){for(const[s,r]of Object.entries(t||{}))try{e[s]=r}catch(t){Object.defineProperty(e,s,{configurable:!0,get:()=>r})}return e}const vt=new Map,At={set(e,t,s){vt.has(e)||vt.set(e,new Map);const r=vt.get(e);r.has(t)||0===r.size?r.set(t,s):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,t)=>vt.has(e)&&vt.get(e).get(t)||null,remove(e,t){if(!vt.has(e))return;const s=vt.get(e);s.delete(t),0===s.size&&vt.delete(e)}};function xt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function Tt(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const kt={setDataAttribute(e,t,s){e.setAttribute(`data-bs-${Tt(t)}`,s)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Tt(t)}`)},getDataAttributes(e){if(!e)return{};const t={},s=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of s){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=xt(e.dataset[r])}return t},getDataAttribute:(e,t)=>xt(e.getAttribute(`data-bs-${Tt(t)}`))};class Ct{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const s=Ue(t)?kt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof s?s:{},...Ue(t)?kt.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const r of Object.keys(t)){const n=t[r],i=e[r],a=Ue(i)?"element":null==(s=i)?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${n}".`)}var s}}class Nt extends Ct{constructor(e,t){super(),(e=ze(e))&&(this._element=e,this._config=this._getConfig(t),At.set(this._element,this.constructor.DATA_KEY,this))}dispose(){At.remove(this._element,this.constructor.DATA_KEY),Et.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,s=!0){rt(e,t,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return At.get(ze(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Ot=(e,t="hide")=>{const s=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;Et.on(document,s,`[data-bs-dismiss="${r}"]`,(function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Ke(this))return;const n=Ge(this)||this.closest(`.${r}`);e.getOrCreateInstance(n)[t]()}))},_t=".bs.alert",It=`close${_t}`,Pt=`closed${_t}`;class Rt extends Nt{static get NAME(){return"alert"}close(){if(Et.trigger(this._element,It).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),Et.trigger(this._element,Pt),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Rt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Ot(Rt,"close"),tt(Rt);const Lt='[data-bs-toggle="button"]';class Dt extends Nt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Dt.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}Et.on(document,"click.bs.button.data-api",Lt,(e=>{e.preventDefault();const t=e.target.closest(Lt);Dt.getOrCreateInstance(t).toggle()})),tt(Dt);const Mt={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const s=[];let r=e.parentNode.closest(t);for(;r;)s.push(r),r=r.parentNode.closest(t);return s},prev(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Ke(e)&&We(e)))}},Ft=".bs.swipe",Bt=`touchstart${Ft}`,jt=`touchmove${Ft}`,Ht=`touchend${Ft}`,$t=`pointerdown${Ft}`,Vt=`pointerup${Ft}`,Gt={endCallback:null,leftCallback:null,rightCallback:null},Jt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ut extends Ct{constructor(e,t){super(),this._element=e,e&&Ut.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Gt}static get DefaultType(){return Jt}static get NAME(){return"swipe"}dispose(){Et.off(this._element,Ft)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),st(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&st(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Et.on(this._element,$t,(e=>this._start(e))),Et.on(this._element,Vt,(e=>this._end(e))),this._element.classList.add("pointer-event")):(Et.on(this._element,Bt,(e=>this._start(e))),Et.on(this._element,jt,(e=>this._move(e))),Et.on(this._element,Ht,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zt=".bs.carousel",Wt=".data-api",Kt="next",qt="prev",Zt="left",Yt="right",Xt=`slide${zt}`,Qt=`slid${zt}`,es=`keydown${zt}`,ts=`mouseenter${zt}`,ss=`mouseleave${zt}`,rs=`dragstart${zt}`,ns=`load${zt}${Wt}`,is=`click${zt}${Wt}`,as="carousel",os="active",cs=".active",ls=".carousel-item",hs=cs+ls,us={ArrowLeft:Yt,ArrowRight:Zt},ps={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ds={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ms extends Nt{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Mt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===as&&this.cycle()}static get Default(){return ps}static get DefaultType(){return ds}static get NAME(){return"carousel"}next(){this._slide(Kt)}nextWhenVisible(){!document.hidden&&We(this._element)&&this.next()}prev(){this._slide(qt)}pause(){this._isSliding&&Je(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Et.one(this._element,Qt,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Et.one(this._element,Qt,(()=>this.to(e)));const s=this._getItemIndex(this._getActive());if(s===e)return;const r=e>s?Kt:qt;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Et.on(this._element,es,(e=>this._keydown(e))),"hover"===this._config.pause&&(Et.on(this._element,ts,(()=>this.pause())),Et.on(this._element,ss,(()=>this._maybeEnableCycle()))),this._config.touch&&Ut.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of Mt.find(".carousel-item img",this._element))Et.on(e,rs,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(Zt)),rightCallback:()=>this._slide(this._directionToOrder(Yt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Ut(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=us[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Mt.findOne(cs,this._indicatorsElement);t.classList.remove(os),t.removeAttribute("aria-current");const s=Mt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(os),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const s=this._getActive(),r=e===Kt,n=t||nt(this._getItems(),s,r,this._config.wrap);if(n===s)return;const i=this._getItemIndex(n),a=t=>Et.trigger(this._element,t,{relatedTarget:n,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:i});if(a(Xt).defaultPrevented)return;if(!s||!n)return;const o=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=n;const c=r?"carousel-item-start":"carousel-item-end",l=r?"carousel-item-next":"carousel-item-prev";n.classList.add(l),Ye(n),s.classList.add(c),n.classList.add(c),this._queueCallback((()=>{n.classList.remove(c,l),n.classList.add(os),s.classList.remove(os,l,c),this._isSliding=!1,a(Qt)}),s,this._isAnimated()),o&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Mt.findOne(hs,this._element)}_getItems(){return Mt.find(ls,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return et()?e===Zt?qt:Kt:e===Zt?Kt:qt}_orderToDirection(e){return et()?e===qt?Zt:Yt:e===qt?Yt:Zt}static jQueryInterface(e){return this.each((function(){const t=ms.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}Et.on(document,is,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=Ge(this);if(!t||!t.classList.contains(as))return;e.preventDefault();const s=ms.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(s.to(r),void s._maybeEnableCycle()):"next"===kt.getDataAttribute(this,"slide")?(s.next(),void s._maybeEnableCycle()):(s.prev(),void s._maybeEnableCycle())})),Et.on(window,ns,(()=>{const e=Mt.find('[data-bs-ride="carousel"]');for(const t of e)ms.getOrCreateInstance(t)})),tt(ms);const fs=".bs.collapse",gs=`show${fs}`,ys=`shown${fs}`,bs=`hide${fs}`,Ss=`hidden${fs}`,Es=`click${fs}.data-api`,ws="show",vs="collapse",As="collapsing",xs=`:scope .${vs} .${vs}`,Ts='[data-bs-toggle="collapse"]',ks={parent:null,toggle:!0},Cs={parent:"(null|element)",toggle:"boolean"};class Ns extends Nt{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const s=Mt.find(Ts);for(const e of s){const t=Ve(e),s=Mt.find(t).filter((e=>e===this._element));null!==t&&s.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ks}static get DefaultType(){return Cs}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Ns.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(Et.trigger(this._element,gs).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(vs),this._element.classList.add(As),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(As),this._element.classList.add(vs,ws),this._element.style[t]="",Et.trigger(this._element,ys)}),this._element,!0),this._element.style[t]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(Et.trigger(this._element,bs).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Ye(this._element),this._element.classList.add(As),this._element.classList.remove(vs,ws);for(const e of this._triggerArray){const t=Ge(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(As),this._element.classList.add(vs),Et.trigger(this._element,Ss)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(ws)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=ze(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ts);for(const t of e){const e=Ge(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=Mt.find(xs,this._config.parent);return Mt.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const s of e)s.classList.toggle("collapsed",!t),s.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const s=Ns.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}))}}Et.on(document,Es,Ts,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=Ve(this),s=Mt.find(t);for(const e of s)Ns.getOrCreateInstance(e,{toggle:!1}).toggle()})),tt(Ns);const Os="dropdown",_s=".bs.dropdown",Is=".data-api",Ps="ArrowUp",Rs="ArrowDown",Ls=`hide${_s}`,Ds=`hidden${_s}`,Ms=`show${_s}`,Fs=`shown${_s}`,Bs=`click${_s}${Is}`,js=`keydown${_s}${Is}`,Hs=`keyup${_s}${Is}`,$s="show",Vs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Gs=`${Vs}.${$s}`,Js=".dropdown-menu",Us=et()?"top-end":"top-start",zs=et()?"top-start":"top-end",Ws=et()?"bottom-end":"bottom-start",Ks=et()?"bottom-start":"bottom-end",qs=et()?"left-start":"right-start",Zs=et()?"right-start":"left-start",Ys={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Xs={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qs extends Nt{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Mt.next(this._element,Js)[0]||Mt.prev(this._element,Js)[0]||Mt.findOne(Js,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ys}static get DefaultType(){return Xs}static get NAME(){return Os}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ke(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Et.trigger(this._element,Ms,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))Et.on(e,"mouseover",Ze);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($s),this._element.classList.add($s),Et.trigger(this._element,Fs,e)}}hide(){if(Ke(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Et.trigger(this._element,Ls,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Et.off(e,"mouseover",Ze);this._popper&&this._popper.destroy(),this._menu.classList.remove($s),this._element.classList.remove($s),this._element.setAttribute("aria-expanded","false"),kt.removeDataAttribute(this._menu,"popper"),Et.trigger(this._element,Ds,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Ue(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Os.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===e)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ue(this._config.reference)?t=ze(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const s=this._getPopperConfig();this._popper=Be(t,this._menu,s)}_isShown(){return this._menu.classList.contains($s)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return qs;if(e.classList.contains("dropstart"))return Zs;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?zs:Us:t?Ks:Ws}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(kt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const s=Mt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>We(e)));s.length&&nt(s,t,e===Rs,!s.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Qs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Mt.find(Gs);for(const s of t){const t=Qs.getInstance(s);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),n=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!n||"outside"===t._config.autoClose&&n)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:t._element};"click"===e.type&&(i.clickEvent=e),t._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),s="Escape"===e.key,r=[Ps,Rs].includes(e.key);if(!r&&!s)return;if(t&&!s)return;e.preventDefault();const n=this.matches(Vs)?this:Mt.prev(this,Vs)[0]||Mt.next(this,Vs)[0]||Mt.findOne(Vs,e.delegateTarget.parentNode),i=Qs.getOrCreateInstance(n);if(r)return e.stopPropagation(),i.show(),void i._selectMenuItem(e);i._isShown()&&(e.stopPropagation(),i.hide(),n.focus())}}Et.on(document,js,Vs,Qs.dataApiKeydownHandler),Et.on(document,js,Js,Qs.dataApiKeydownHandler),Et.on(document,Bs,Qs.clearMenus),Et.on(document,Hs,Qs.clearMenus),Et.on(document,Bs,Vs,(function(e){e.preventDefault(),Qs.getOrCreateInstance(this).toggle()})),tt(Qs);const er=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tr=".sticky-top",sr="padding-right",rr="margin-right";class nr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,sr,(t=>t+e)),this._setElementAttributes(er,sr,(t=>t+e)),this._setElementAttributes(tr,rr,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,sr),this._resetElementAttributes(er,sr),this._resetElementAttributes(tr,rr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const n=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${s(Number.parseFloat(n))}px`)}))}_saveInitialAttribute(e,t){const s=e.style.getPropertyValue(t);s&&kt.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const s=kt.getDataAttribute(e,t);null!==s?(kt.removeDataAttribute(e,t),e.style.setProperty(t,s)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(Ue(e))t(e);else for(const s of Mt.find(e,this._element))t(s)}}const ir="backdrop",ar="show",or=`mousedown.bs.${ir}`,cr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class hr extends Ct{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return cr}static get DefaultType(){return lr}static get NAME(){return ir}show(e){if(!this._config.isVisible)return void st(e);this._append();const t=this._getElement();this._config.isAnimated&&Ye(t),t.classList.add(ar),this._emulateAnimation((()=>{st(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(ar),this._emulateAnimation((()=>{this.dispose(),st(e)}))):st(e)}dispose(){this._isAppended&&(Et.off(this._element,or),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ze(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Et.on(e,or,(()=>{st(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){rt(e,this._getElement(),this._config.isAnimated)}}const ur=".bs.focustrap",pr=`focusin${ur}`,dr=`keydown.tab${ur}`,mr="backward",fr={autofocus:!0,trapElement:null},gr={autofocus:"boolean",trapElement:"element"};class yr extends Ct{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return fr}static get DefaultType(){return gr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Et.off(document,ur),Et.on(document,pr,(e=>this._handleFocusin(e))),Et.on(document,dr,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Et.off(document,ur))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const s=Mt.focusableChildren(t);0===s.length?t.focus():this._lastTabNavDirection===mr?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?mr:"forward")}}const br=".bs.modal",Sr=`hide${br}`,Er=`hidePrevented${br}`,wr=`hidden${br}`,vr=`show${br}`,Ar=`shown${br}`,xr=`resize${br}`,Tr=`click.dismiss${br}`,kr=`mousedown.dismiss${br}`,Cr=`keydown.dismiss${br}`,Nr=`click${br}.data-api`,Or="modal-open",_r="show",Ir="modal-static",Pr={backdrop:!0,focus:!0,keyboard:!0},Rr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Lr extends Nt{constructor(e,t){super(e,t),this._dialog=Mt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nr,this._addEventListeners()}static get Default(){return Pr}static get DefaultType(){return Rr}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Et.trigger(this._element,vr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Or),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(Et.trigger(this._element,Sr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_r),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const e of[window,this._dialog])Et.off(e,br);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new hr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Mt.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),Ye(this._element),this._element.classList.add(_r),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Et.trigger(this._element,Ar,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){Et.on(this._element,Cr,(e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),Et.on(window,xr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),Et.on(this._element,kr,(e=>{Et.one(this._element,Tr,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Or),this._resetAdjustments(),this._scrollBar.reset(),Et.trigger(this._element,wr)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Et.trigger(this._element,Er).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Ir)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ir),this._queueCallback((()=>{this._element.classList.remove(Ir),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;if(s&&!e){const e=et()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!s&&e){const e=et()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const s=Lr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e](t)}}))}}Et.on(document,Nr,'[data-bs-toggle="modal"]',(function(e){const t=Ge(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Et.one(t,vr,(e=>{e.defaultPrevented||Et.one(t,wr,(()=>{We(this)&&this.focus()}))}));const s=Mt.findOne(".modal.show");s&&Lr.getInstance(s).hide(),Lr.getOrCreateInstance(t).toggle(this)})),Ot(Lr),tt(Lr);const Dr=".bs.offcanvas",Mr=".data-api",Fr=`load${Dr}${Mr}`,Br="show",jr="showing",Hr="hiding",$r=".offcanvas.show",Vr=`show${Dr}`,Gr=`shown${Dr}`,Jr=`hide${Dr}`,Ur=`hidePrevented${Dr}`,zr=`hidden${Dr}`,Wr=`resize${Dr}`,Kr=`click${Dr}${Mr}`,qr=`keydown.dismiss${Dr}`,Zr={backdrop:!0,keyboard:!0,scroll:!1},Yr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xr extends Nt{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Zr}static get DefaultType(){return Yr}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Et.trigger(this._element,Vr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new nr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jr),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Br),this._element.classList.remove(jr),Et.trigger(this._element,Gr,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(Et.trigger(this._element,Jr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Hr),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Br,Hr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new nr).reset(),Et.trigger(this._element,zr)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new hr({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():Et.trigger(this._element,Ur)}:null})}_initializeFocusTrap(){return new yr({trapElement:this._element})}_addEventListeners(){Et.on(this._element,qr,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():Et.trigger(this._element,Ur))}))}static jQueryInterface(e){return this.each((function(){const t=Xr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}Et.on(document,Kr,'[data-bs-toggle="offcanvas"]',(function(e){const t=Ge(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ke(this))return;Et.one(t,zr,(()=>{We(this)&&this.focus()}));const s=Mt.findOne($r);s&&s!==t&&Xr.getInstance(s).hide(),Xr.getOrCreateInstance(t).toggle(this)})),Et.on(window,Fr,(()=>{for(const e of Mt.find($r))Xr.getOrCreateInstance(e).show()})),Et.on(window,Wr,(()=>{for(const e of Mt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Xr.getOrCreateInstance(e).hide()})),Ot(Xr),tt(Xr);const Qr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),en=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,tn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,sn=(e,t)=>{const s=e.nodeName.toLowerCase();return t.includes(s)?!Qr.has(s)||Boolean(en.test(e.nodeValue)||tn.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(s)))},rn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nn={allowList:rn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},an={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},on={entry:"(string|element|function|null)",selector:"(string|element)"};class cn extends Ct{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nn}static get DefaultType(){return an}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,s]of Object.entries(this._config.content))this._setContent(e,s,t);const t=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&t.classList.add(...s.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,s]of Object.entries(e))super._typeCheckConfig({selector:t,entry:s},on)}_setContent(e,t,s){const r=Mt.findOne(s,e);r&&((t=this._resolvePossibleFunction(t))?Ue(t)?this._putElementInTemplate(ze(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,s){if(!e.length)return e;if(s&&"function"==typeof s)return s(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),n=[].concat(...r.body.querySelectorAll("*"));for(const e of n){const s=e.nodeName.toLowerCase();if(!Object.keys(t).includes(s)){e.remove();continue}const r=[].concat(...e.attributes),n=[].concat(t["*"]||[],t[s]||[]);for(const t of r)sn(t,n)||e.removeAttribute(t.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const ln=new Set(["sanitize","allowList","sanitizeFn"]),hn="fade",un="show",pn=".modal",dn="hide.bs.modal",mn="hover",fn="focus",gn={AUTO:"auto",TOP:"top",RIGHT:et()?"left":"right",BOTTOM:"bottom",LEFT:et()?"right":"left"},yn={allowList:rn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Sn extends Nt{constructor(t,s){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yn}static get DefaultType(){return bn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Et.off(this._element.closest(pn),dn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Et.trigger(this._element,this.constructor.eventName("show")),t=(qe(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),Et.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(un),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Et.on(e,"mouseover",Ze);this._queueCallback((()=>{Et.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Et.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(un),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Et.off(e,"mouseover",Ze);this._activeTrigger.click=!1,this._activeTrigger[fn]=!1,this._activeTrigger[mn]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Et.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(hn,un),t.classList.add(`bs-${this.constructor.NAME}-auto`);const s=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",s),this._isAnimated()&&t.classList.add(hn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new cn({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hn)}_isShown(){return this.tip&&this.tip.classList.contains(un)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,s=gn[t.toUpperCase()];return Be(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Et.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===mn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),s=t===mn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Et.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?fn:mn]=!0,t._enter()})),Et.on(this._element,s,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?fn:mn]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},Et.on(this._element.closest(pn),dn,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=kt.getDataAttributes(this._element);for(const e of Object.keys(t))ln.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:ze(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Sn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}tt(Sn);const En={...Sn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},wn={...Sn.DefaultType,content:"(null|string|element|function)"};class vn extends Sn{static get Default(){return En}static get DefaultType(){return wn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=vn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}tt(vn);const An=".bs.scrollspy",xn=`activate${An}`,Tn=`click${An}`,kn=`load${An}.data-api`,Cn="active",Nn="[href]",On=".nav-link",_n=`${On}, .nav-item > ${On}, .list-group-item`,In={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Pn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Rn extends Nt{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return In}static get DefaultType(){return Pn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ze(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Et.off(this._config.target,Tn),Et.on(this._config.target,Tn,Nn,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const s=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(s.scrollTo)return void s.scrollTo({top:r,behavior:"smooth"});s.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),s=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,n=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const e=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&e){if(s(i),!r)return}else n||e||s(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Mt.find(Nn,this._config.target);for(const t of e){if(!t.hash||Ke(t))continue;const e=Mt.findOne(t.hash,this._element);We(e)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Cn),this._activateParents(e),Et.trigger(this._element,xn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Mt.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Cn);else for(const t of Mt.parents(e,".nav, .list-group"))for(const e of Mt.prev(t,_n))e.classList.add(Cn)}_clearActiveClass(e){e.classList.remove(Cn);const t=Mt.find(`${Nn}.${Cn}`,e);for(const e of t)e.classList.remove(Cn)}static jQueryInterface(e){return this.each((function(){const t=Rn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Et.on(window,kn,(()=>{for(const e of Mt.find('[data-bs-spy="scroll"]'))Rn.getOrCreateInstance(e)})),tt(Rn);const Ln=".bs.tab",Dn=`hide${Ln}`,Mn=`hidden${Ln}`,Fn=`show${Ln}`,Bn=`shown${Ln}`,jn=`click${Ln}`,Hn=`keydown${Ln}`,$n=`load${Ln}`,Vn="ArrowLeft",Gn="ArrowRight",Jn="ArrowUp",Un="ArrowDown",zn="active",Wn="fade",Kn="show",qn=":not(.dropdown-toggle)",Zn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Yn=`.nav-link${qn}, .list-group-item${qn}, [role="tab"]${qn}, ${Zn}`,Xn=`.${zn}[data-bs-toggle="tab"], .${zn}[data-bs-toggle="pill"], .${zn}[data-bs-toggle="list"]`;class Qn extends Nt{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Et.on(this._element,Hn,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),s=t?Et.trigger(t,Dn,{relatedTarget:e}):null;Et.trigger(e,Fn,{relatedTarget:t}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(zn),this._activate(Ge(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Et.trigger(e,Bn,{relatedTarget:t})):e.classList.add(Kn)}),e,e.classList.contains(Wn)))}_deactivate(e,t){e&&(e.classList.remove(zn),e.blur(),this._deactivate(Ge(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Et.trigger(e,Mn,{relatedTarget:t})):e.classList.remove(Kn)}),e,e.classList.contains(Wn)))}_keydown(e){if(![Vn,Gn,Jn,Un].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[Gn,Un].includes(e.key),s=nt(this._getChildren().filter((e=>!Ke(e))),e.target,t,!0);s&&(s.focus({preventScroll:!0}),Qn.getOrCreateInstance(s).show())}_getChildren(){return Mt.find(Yn,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",t),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Ge(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const s=this._getOuterElement(e);if(!s.classList.contains("dropdown"))return;const r=(e,r)=>{const n=Mt.findOne(e,s);n&&n.classList.toggle(r,t)};r(".dropdown-toggle",zn),r(".dropdown-menu",Kn),s.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,s){e.hasAttribute(t)||e.setAttribute(t,s)}_elemIsActive(e){return e.classList.contains(zn)}_getInnerElement(e){return e.matches(Yn)?e:Mt.findOne(Yn,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Qn.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Et.on(document,jn,Zn,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ke(this)||Qn.getOrCreateInstance(this).show()})),Et.on(window,$n,(()=>{for(const e of Mt.find(Xn))Qn.getOrCreateInstance(e)})),tt(Qn);const ei=".bs.toast",ti=`mouseover${ei}`,si=`mouseout${ei}`,ri=`focusin${ei}`,ni=`focusout${ei}`,ii=`hide${ei}`,ai=`hidden${ei}`,oi=`show${ei}`,ci=`shown${ei}`,li="hide",hi="show",ui="showing",pi={animation:"boolean",autohide:"boolean",delay:"number"},di={animation:!0,autohide:!0,delay:5e3};class mi extends Nt{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return di}static get DefaultType(){return pi}static get NAME(){return"toast"}show(){Et.trigger(this._element,oi).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(li),Ye(this._element),this._element.classList.add(hi,ui),this._queueCallback((()=>{this._element.classList.remove(ui),Et.trigger(this._element,ci),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(Et.trigger(this._element,ii).defaultPrevented||(this._element.classList.add(ui),this._queueCallback((()=>{this._element.classList.add(li),this._element.classList.remove(ui,hi),Et.trigger(this._element,ai)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hi),super.dispose()}isShown(){return this._element.classList.contains(hi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){Et.on(this._element,ti,(e=>this._onInteraction(e,!0))),Et.on(this._element,si,(e=>this._onInteraction(e,!1))),Et.on(this._element,ri,(e=>this._onInteraction(e,!0))),Et.on(this._element,ni,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=mi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}function fi(e){const t=s.I63.get(Reflect.get(e,Symbol.metadata));console.log(`${e.name} frozen`,JSON.parse(JSON.stringify(t))),console.log(`${e.name} ref`,t)}Ot(mi),tt(mi);let gi=(()=>{let e,r,n,i=[(0,s.E6H)({name:"pipe"}),(0,s.Xek)({selector:"parent"})],a=[],o=[],c=[];return class{static{r=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;n=[(0,s.IIB)()],(0,t.xE)(null,null,n,{kind:"field",name:"name",static:!1,private:!1,access:{has:e=>"name"in e,get:e=>e.name,set:(e,t)=>{e.name=t}},metadata:l},c,o),(0,t.xE)(null,e={value:r},i,{kind:"class",name:r.name,metadata:l},null,a),r=e.value,l&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),(0,t.Co)(r,a)}name=((0,t.Co)(this,o),(0,t.Co)(this,c,void 0))},r})();fi(gi);let yi=(()=>{let e,r,n,i=[(0,s.wA2)({selector:"first-child-comp"})],a=[],o=gi,c=[],l=[];return class extends o{static{r=this}static{const h="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;n=[(0,s.IIB)()],(0,t.xE)(null,null,n,{kind:"field",name:"age",static:!1,private:!1,access:{has:e=>"age"in e,get:e=>e.age,set:(e,t)=>{e.age=t}},metadata:h},l,c),(0,t.xE)(null,e={value:r},i,{kind:"class",name:r.name,metadata:h},null,a),r=e.value,h&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),(0,t.Co)(r,a)}age=((0,t.Co)(this,c),(0,t.Co)(this,l,void 0))},r})(),bi=(()=>{let e,r,n,i=[(0,s.wA2)({selector:"last-child-comp"})],a=[],o=gi,c=[],l=[];return class extends o{static{r=this}static{const h="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;n=[(0,s.IIB)()],(0,t.xE)(null,null,n,{kind:"field",name:"address",static:!1,private:!1,access:{has:e=>"address"in e,get:e=>e.address,set:(e,t)=>{e.address=t}},metadata:h},l,c),(0,t.xE)(null,e={value:r},i,{kind:"class",name:r.name,metadata:h},null,a),r=e.value,h&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),(0,t.Co)(r,a)}address=((0,t.Co)(this,c),(0,t.Co)(this,l,void 0))},r})();fi(gi),fi(yi),fi(bi);let Si=(()=>{let e,r,n,i=[(0,s.Xek)({selector:"*component-outlet"})],a=[],o=s.J$d,c=[];return class extends o{static{r=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;n=[(0,s.IIB)()],(0,t.xE)(this,null,n,{kind:"setter",name:"component",static:!1,private:!1,access:{has:e=>"component"in e,set:(e,t)=>{e.component=t}},metadata:l},null,c),(0,t.xE)(null,e={value:r},i,{kind:"class",name:r.name,metadata:l},null,a),r=e.value,l&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),(0,t.Co)(r,a)}set component(e){this.viewContainerRef.clear(),e&&this.viewContainerRef.createComponent(e)}onDestroy(){this.viewContainerRef.clear()}constructor(){super(...arguments),(0,t.Co)(this,c)}},r})();(()=>{let e,r,i=[(0,s.wA2)({selector:"app-root",template:'\n\t<h3>{{appName}}</h3>\n\t<div class="container-fluid w-100 h-100">\n\t\t<nav class="nav nav-pills nav-fill gap-1">\n\t\t\t<template *forOf="let app of appList">\n\t\t\t\t<li class="nav-item">\n\t\t\t\t\t<a  class="nav-link" href="javascript:void(0)" \n\t\t\t\t\t\t[class]="{active: selectedComponent == app.component}"\n\t\t\t\t\t\t@click="lazyLoad(app)"\n\t\t\t\t\t>{{app.title}}</a>\n\t\t\t\t</li>\n\t\t\t</template>\n\t\t</nav>\n\t\t<div class="w-100 h-100 d-flex flex-direction-column my-2">\n\t\t\t<div class="w-100 h-100">\n\t\t\t\t<component-outlet [component]="selectedComponent"></component-outlet>\n\t\t\t</div>\n\t\t</div>\n\t</div>',imports:[Si]})],a=[];(class{static{r=this}static{const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,t.xE)(null,e={value:r},i,{kind:"class",name:r.name,metadata:s},null,a),r=e.value,s&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),(0,t.Co)(r,a)}selectedComponent=null;selectedApp;appName="";lazyLoad(e){this.selectedApp=e,this.appName=e.title,e.load().then((t=>this.selectedComponent=e.component=t))}appList=[{title:"Track By Example",load:()=>n.e(406).then(n.bind(n,3406)).then((e=>e.TrackByComponent))},{title:"Directives",load:()=>Promise.all([n.e(946),n.e(57)]).then(n.bind(n,9057)).then((e=>e.PersonApp))},{title:"Pipes",load:()=>Promise.all([n.e(946),n.e(154)]).then(n.bind(n,154)).then((e=>e.PipeAppComponent))},{title:"Two way Binding",load:()=>Promise.all([n.e(946),n.e(545)]).then(n.bind(n,2545)).then((e=>e.Binding2Way))},{title:"Edit",load:()=>n.e(624).then(n.bind(n,5624)).then((e=>e.EditorApp))},{title:"Play List",load:()=>n.e(934).then(n.bind(n,7934)).then((e=>e.VideoPlayList))},{title:"HTTP Fetch",load:()=>n.e(209).then(n.bind(n,6209)).then((e=>e.FetchApp))},{title:"Expression Editor",load:()=>Promise.all([n.e(946),n.e(758)]).then(n.bind(n,1758)).then((e=>e.ExpressionEditorComponent))},{title:"Custom Advanced Form",load:()=>n.e(479).then(n.bind(n,479)).then((e=>e.AdvancedForm))},{title:"Custom Simple Form",load:()=>n.e(964).then(n.bind(n,5964)).then((e=>e.SimpleForm))},{title:"Jsx Components",load:()=>Promise.all([n.e(950),n.e(749)]).then(n.bind(n,3516)).then((e=>e.JsxComponentTest))},{title:"Form Group Component",load:()=>Promise.all([n.e(187),n.e(636)]).then(n.bind(n,1547)).then((e=>e.FormGroupComponent))},{title:"Host Color Picker",load:()=>n.e(88).then(n.bind(n,2088)).then((e=>e.HostColorPickerComponent))},{title:"Automatic Slot",load:()=>n.e(393).then(n.bind(n,2393)).then((e=>e.ElementDetailsExampleComponent))},{title:"Manual Slot",load:()=>n.e(513).then(n.bind(n,513)).then((e=>e.ManualSlotExample))},{title:"Scope Signal",load:()=>n.e(89).then(n.bind(n,2089)).then((e=>e.SimpleCounter))}];onInit(){this.appName="APP NAME",setTimeout((()=>{this.lazyLoad(this.appList.at(-1))}),0)}})})(),Symbol.metadata||Object.defineProperty(Symbol,"metadata",{configurable:!1,enumerable:!1,writable:!1,value:Symbol("Symbol.metadata")});const Ei=new WeakMap,wi=new class{contextMap;constructor(e){this.contextMap=e}has(e){return this.contextMap.has(e)}get(e){return this.contextMap.get(e)}getOrCreate(e){if(this.contextMap.has(e))return this.contextMap.get(e);const t=Object.create(null),s=Object.getPrototypeOf(e);if(this.contextMap.has(s)){const e=this.contextMap.get(s);e&&this.clone(t,e)}return this.contextMap.set(e,t),t}clone(e,t){for(const s in t){const r=t[s];Array.isArray(r)?e[s]=[...r]:e[s]=null==r?r:"object"==typeof r?Object.assign(Object.create(null),r):r}}}(Ei);function vi(e){return t=>(s,r)=>{const n=wi.getOrCreate(r.metadata);return e?.(t,s,r,n),s}}const Ai=vi(),xi=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function Ti(e){return xi.includes(e)}const ki=/^[a-z](?:[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-(?:[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;function Ci(e){return ki.test(e)}const Ni=Object.freeze({classRef:HTMLElement}),Oi=[{name:"a",classRef:HTMLAnchorElement},{name:"abbr",classRef:HTMLElement},{name:"address",classRef:HTMLElement},{name:"area",classRef:HTMLAreaElement},{name:"article",classRef:HTMLElement},{name:"aside",classRef:HTMLElement},{name:"audio",classRef:HTMLAudioElement},{name:"b",classRef:HTMLElement},{name:"base",classRef:HTMLBaseElement},{name:"bdi",classRef:HTMLElement},{name:"bdo",classRef:HTMLElement},{name:"blockquote",classRef:HTMLQuoteElement},{name:"body",classRef:HTMLBodyElement},{name:"br",classRef:HTMLBRElement},{name:"button",classRef:HTMLButtonElement},{name:"canvas",classRef:HTMLCanvasElement},{name:"caption",classRef:HTMLTableCaptionElement},{name:"cite",classRef:HTMLElement},{name:"code",classRef:HTMLElement},{name:"col",classRef:HTMLTableColElement},{name:"colgroup",classRef:HTMLTableColElement},{name:"data",classRef:HTMLDataElement},{name:"datalist",classRef:HTMLDataListElement},{name:"dd",classRef:HTMLElement},{name:"del",classRef:HTMLModElement},{name:"details",classRef:HTMLDetailsElement},{name:"dfn",classRef:HTMLElement},{name:"div",classRef:HTMLDivElement},{name:"dl",classRef:HTMLDListElement},{name:"dt",classRef:HTMLElement},{name:"em",classRef:HTMLElement},{name:"embed",classRef:HTMLEmbedElement},{name:"fieldset",classRef:HTMLFieldSetElement},{name:"figcaption",classRef:HTMLElement},{name:"figure",classRef:HTMLElement},{name:"footer",classRef:HTMLElement},{name:"form",classRef:HTMLFormElement},{name:"h1",classRef:HTMLHeadingElement},{name:"h2",classRef:HTMLHeadingElement},{name:"h3",classRef:HTMLHeadingElement},{name:"h4",classRef:HTMLHeadingElement},{name:"h5",classRef:HTMLHeadingElement},{name:"h6",classRef:HTMLHeadingElement},{name:"head",classRef:HTMLHeadElement},{name:"header",classRef:HTMLElement},{name:"hgroup",classRef:HTMLElement},{name:"hr",classRef:HTMLHRElement},{name:"html",classRef:HTMLHtmlElement},{name:"i",classRef:HTMLElement},{name:"iframe",classRef:HTMLIFrameElement},{name:"img",classRef:HTMLImageElement},{name:"input",classRef:HTMLInputElement},{name:"ins",classRef:HTMLModElement},{name:"kbd",classRef:HTMLElement},{name:"label",classRef:HTMLLabelElement},{name:"legend",classRef:HTMLLegendElement},{name:"li",classRef:HTMLLIElement},{name:"link",classRef:HTMLLinkElement},{name:"main",classRef:HTMLElement},{name:"map",classRef:HTMLMapElement},{name:"mark",classRef:HTMLElement},{name:"menu",classRef:HTMLMenuElement},{name:"meta",classRef:HTMLMetaElement},{name:"meter",classRef:HTMLMeterElement},{name:"nav",classRef:HTMLElement},{name:"noscript",classRef:HTMLElement},{name:"object",classRef:HTMLObjectElement},{name:"ol",classRef:HTMLOListElement},{name:"optgroup",classRef:HTMLOptGroupElement},{name:"option",classRef:HTMLOptionElement},{name:"output",classRef:HTMLOutputElement},{name:"p",classRef:HTMLParagraphElement},{name:"param",classRef:HTMLParamElement},{name:"picture",classRef:HTMLPictureElement},{name:"pre",classRef:HTMLPreElement},{name:"progress",classRef:HTMLProgressElement},{name:"q",classRef:HTMLQuoteElement},{name:"rp",classRef:HTMLElement},{name:"rt",classRef:HTMLElement},{name:"ruby",classRef:HTMLElement},{name:"s",classRef:HTMLElement},{name:"samp",classRef:HTMLElement},{name:"script",classRef:HTMLScriptElement},{name:"section",classRef:HTMLElement},{name:"select",classRef:HTMLSelectElement},{name:"slot",classRef:HTMLSlotElement},{name:"small",classRef:HTMLElement},{name:"source",classRef:HTMLSourceElement},{name:"span",classRef:HTMLSpanElement},{name:"strong",classRef:HTMLElement},{name:"style",classRef:HTMLStyleElement},{name:"sub",classRef:HTMLElement},{name:"summary",classRef:HTMLElement},{name:"sup",classRef:HTMLElement},{name:"table",classRef:HTMLTableElement},{name:"tbody",classRef:HTMLTableSectionElement},{name:"td",classRef:HTMLTableCellElement},{name:"template",classRef:HTMLTemplateElement},{name:"textarea",classRef:HTMLTextAreaElement},{name:"tfoot",classRef:HTMLTableSectionElement},{name:"th",classRef:HTMLTableCellElement},{name:"thead",classRef:HTMLTableSectionElement},{name:"time",classRef:HTMLTimeElement},{name:"title",classRef:HTMLTitleElement},{name:"tr",classRef:HTMLTableRowElement},{name:"track",classRef:HTMLTrackElement},{name:"u",classRef:HTMLElement},{name:"ul",classRef:HTMLUListElement},{name:"var",classRef:HTMLElement},{name:"video",classRef:HTMLVideoElement},{name:"wbr",classRef:HTMLElement}],_i={a:HTMLAnchorElement,abbr:HTMLElement,address:HTMLElement,area:HTMLAreaElement,article:HTMLElement,aside:HTMLElement,audio:HTMLAudioElement,b:HTMLElement,base:HTMLBaseElement,bdi:HTMLElement,bdo:HTMLElement,blockquote:HTMLQuoteElement,body:HTMLBodyElement,br:HTMLBRElement,button:HTMLButtonElement,canvas:HTMLCanvasElement,caption:HTMLTableCaptionElement,cite:HTMLElement,code:HTMLElement,col:HTMLTableColElement,colgroup:HTMLTableColElement,data:HTMLDataElement,datalist:HTMLDataListElement,dd:HTMLElement,del:HTMLModElement,details:HTMLDetailsElement,dfn:HTMLElement,div:HTMLDivElement,dl:HTMLDListElement,dt:HTMLElement,em:HTMLElement,embed:HTMLEmbedElement,fieldset:HTMLFieldSetElement,figcaption:HTMLElement,figure:HTMLElement,footer:HTMLElement,form:HTMLFormElement,h1:HTMLHeadingElement,h2:HTMLHeadingElement,h3:HTMLHeadingElement,h4:HTMLHeadingElement,h5:HTMLHeadingElement,h6:HTMLHeadingElement,head:HTMLHeadElement,header:HTMLElement,hgroup:HTMLElement,hr:HTMLHRElement,html:HTMLHtmlElement,i:HTMLElement,iframe:HTMLIFrameElement,img:HTMLImageElement,input:HTMLInputElement,ins:HTMLModElement,kbd:HTMLElement,label:HTMLLabelElement,legend:HTMLLegendElement,li:HTMLLIElement,link:HTMLLinkElement,main:HTMLElement,map:HTMLMapElement,mark:HTMLElement,menu:HTMLMenuElement,meta:HTMLMetaElement,meter:HTMLMeterElement,nav:HTMLElement,noscript:HTMLElement,object:HTMLObjectElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,option:HTMLOptionElement,output:HTMLOutputElement,p:HTMLParagraphElement,param:HTMLParamElement,picture:HTMLPictureElement,pre:HTMLPreElement,progress:HTMLProgressElement,q:HTMLQuoteElement,rp:HTMLElement,rt:HTMLElement,ruby:HTMLElement,s:HTMLElement,samp:HTMLElement,script:HTMLScriptElement,section:HTMLElement,select:HTMLSelectElement,slot:HTMLSlotElement,small:HTMLElement,source:HTMLSourceElement,span:HTMLSpanElement,strong:HTMLElement,style:HTMLStyleElement,sub:HTMLElement,summary:HTMLElement,sup:HTMLElement,table:HTMLTableElement,tbody:HTMLTableSectionElement,td:HTMLTableCellElement,template:HTMLTemplateElement,textarea:HTMLTextAreaElement,tfoot:HTMLTableSectionElement,th:HTMLTableCellElement,thead:HTMLTableSectionElement,time:HTMLTimeElement,title:HTMLTitleElement,tr:HTMLTableRowElement,track:HTMLTrackElement,u:HTMLElement,ul:HTMLUListElement,var:HTMLElement,video:HTMLVideoElement,wbr:HTMLElement},Ii={a:SVGAElement,animate:SVGAnimateElement,animateMotion:SVGAnimateMotionElement,animateTransform:SVGAnimateTransformElement,circle:SVGCircleElement,clipPath:SVGClipPathElement,defs:SVGDefsElement,desc:SVGDescElement,ellipse:SVGEllipseElement,feBlend:SVGFEBlendElement,feColorMatrix:SVGFEColorMatrixElement,feComponentTransfer:SVGFEComponentTransferElement,feComposite:SVGFECompositeElement,feConvolveMatrix:SVGFEConvolveMatrixElement,feDiffuseLighting:SVGFEDiffuseLightingElement,feDisplacementMap:SVGFEDisplacementMapElement,feDistantLight:SVGFEDistantLightElement,feDropShadow:SVGFEDropShadowElement,feFlood:SVGFEFloodElement,feFuncA:SVGFEFuncAElement,feFuncB:SVGFEFuncBElement,feFuncG:SVGFEFuncGElement,feFuncR:SVGFEFuncRElement,feGaussianBlur:SVGFEGaussianBlurElement,feImage:SVGFEImageElement,feMerge:SVGFEMergeElement,feMergeNode:SVGFEMergeNodeElement,feMorphology:SVGFEMorphologyElement,feOffset:SVGFEOffsetElement,fePointLight:SVGFEPointLightElement,feSpecularLighting:SVGFESpecularLightingElement,feSpotLight:SVGFESpotLightElement,feTile:SVGFETileElement,feTurbulence:SVGFETurbulenceElement,filter:SVGFilterElement,foreignObject:SVGForeignObjectElement,g:SVGGElement,image:SVGImageElement,line:SVGLineElement,linearGradient:SVGLinearGradientElement,marker:SVGMarkerElement,mask:SVGMaskElement,metadata:SVGMetadataElement,mpath:SVGMPathElement,path:SVGPathElement,pattern:SVGPatternElement,polygon:SVGPolygonElement,polyline:SVGPolylineElement,radialGradient:SVGRadialGradientElement,rect:SVGRectElement,script:SVGScriptElement,set:SVGSetElement,stop:SVGStopElement,style:SVGStyleElement,svg:SVGSVGElement,switch:SVGSwitchElement,symbol:SVGSymbolElement,text:SVGTextElement,textPath:SVGTextPathElement,title:SVGTitleElement,tspan:SVGTSpanElement,use:SVGUseElement,view:SVGViewElement},Pi=["class","id","slot","accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","spellcheck","style","tabindex","title","translate"],Ri={a:[...Pi,"href","target","download","ping","rel","hreflang","type","referrerpolicy"],abbr:Pi,address:Pi,area:[...Pi,"alt","coords","shape","href","target","download","ping","rel","referrerpolicy"],article:Pi,aside:Pi,audio:[...Pi,"src","crossorigin","preload","autoplay","loop","muted","controls"],b:Pi,base:[...Pi,"href","targetreferrerpolicy"],bdi:Pi,bdo:Pi,blockquote:[...Pi,"cite"],body:[...Pi,"onafterprint; onbeforeprint; onbeforeunload; onhashchange; onlanguagechange; onmessage; onmessageerror; onoffline; ononline; onpagehide; onpageshow; onpopstate; onrejectionhandled; onstorage; onunhandledrejection; onunload"],br:Pi,button:[...Pi,"disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"],canvas:[...Pi,"width","height"],caption:Pi,cite:Pi,code:Pi,col:[...Pi,"span"],colgroup:[...Pi,"span"],data:[...Pi,"value"],datalist:Pi,dd:Pi,del:[...Pi,"cite","datetime"],details:[...Pi,"open"],dfn:Pi,dialog:[...Pi,"open"],div:Pi,dl:Pi,dt:Pi,em:Pi,embed:[...Pi,"src","type","width","height","any*"],fieldset:[...Pi,"disabled","form","name"],figcaption:Pi,figure:Pi,footer:Pi,form:[...Pi,"accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],h1:Pi,h2:Pi,h3:Pi,h4:Pi,h5:Pi,h6:Pi,head:Pi,header:Pi,hgroup:Pi,hr:Pi,html:[...Pi,"manifest"],i:Pi,iframe:[...Pi,"src","srcdoc","name","sandbox","allow","allowfullscreen","allowpaymentrequest","width","height","referrerpolicy","loading"],img:[...Pi,"alt","src","srcset","sizes","crossorigin","usemap","ismap","width","height","referrerpolicy","decoding","loading"],input:[...Pi,"accept","alt","autocomplete","checked","dirname","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","size","src","step","type","value","width"],ins:[...Pi,"cite","datetime"],kbd:Pi,label:[...Pi,"for"],legend:Pi,li:[...Pi,"value"],link:[...Pi,"href","crossorigin","rel","as","media","hreflang","type","sizes","imagesrcset","imagesizes","referrerpolicy","integrity","color","disabled"],main:Pi,map:[...Pi,"name"],mark:Pi,menu:Pi,meta:[...Pi,"name","http-equiv","content","charset"],meter:[...Pi,"value","min","max","low","high","optimum"],nav:Pi,noscript:Pi,object:[...Pi,"data","type","name","usemap","form","width","height"],ol:[...Pi,"reversed","start","type"],optgroup:[...Pi,"disabled","label"],option:[...Pi,"disabled","label","selected","value"],output:[...Pi,"for","form","name"],p:Pi,param:[...Pi,"name","value"],picture:Pi,pre:Pi,progress:[...Pi,"value","max"],q:[...Pi,"cite"],rp:Pi,rt:Pi,ruby:Pi,s:Pi,samp:Pi,script:[...Pi,"src","type","async","defer","crossorigin","integrity","referrerpolicy"],section:Pi,select:[...Pi,"autocomplete","disabled","form","multiple","name","required","size"],slot:[...Pi,"name"],small:Pi,source:[...Pi,"src","type","srcset","sizes","media"],span:Pi,strong:Pi,style:[...Pi,"media"],sub:Pi,summary:Pi,sup:Pi,table:Pi,tbody:Pi,td:[...Pi,"colspan","rowspan","headers"],template:Pi,textarea:[...Pi,"cols","dirname","disabled","form","maxlength","minlength","name","placeholder","readonly","required","rows","wrap"],tfoot:Pi,th:[...Pi,"colspan","rowspan","headers","scope","abbr"],thead:Pi,time:[...Pi,"datetime"],title:Pi,tr:Pi,track:[...Pi,"default","kind","label","src","srclang"],u:Pi,ul:Pi,var:Pi,video:[...Pi,"src","crossorigin","poster","preload","autoplay","playsinline","loop","muted","controls","width","height"],wbr:Pi},Li=["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"];function Di(e){return Ci(e)&&!!customElements.get(e)?.formAssociated}class Mi{name;value;constructor(e,t){this.name=e,this.value=t}toJSON(){return Object.assign({},this,{type:"Attribute"})}}class Fi extends Mi{toJSON(){return Object.assign({},this,{type:"ElementAttribute"})}}class Bi extends Mi{toJSON(){return Object.assign({},this,{type:"LiveAttribute"})}}class ji extends Mi{static propName="textContent";constructor(e){super(ji.propName,e)}toJSON(){return Object.assign({},this,{type:"TextContent"})}}class Hi extends ji{toJSON(){return Object.assign({},this,{type:"LiveTextContent"})}}function $i(e){return e instanceof Hi}class Vi{comment;constructor(e){this.comment=e}toJSON(){return Object.assign({},this,{type:"CommentNode"})}}class Gi{attributes;inputs;outputs;twoWayBinding;templateAttrs;attributeDirectives;addAttribute(e,t){this.attributes?this.attributes.push(new Fi(e,t??!0)):this.attributes=[new Fi(e,t??!0)]}addInput(e,t){this.inputs?this.inputs.push(new Bi(e,t)):this.inputs=[new Bi(e,t)]}addOutput(e,t){this.outputs?this.outputs.push(new Bi(e,t)):this.outputs=[new Bi(e,t)]}addTwoWayBinding(e,t){this.twoWayBinding?this.twoWayBinding.push(new Bi(e,t)):this.twoWayBinding=[new Bi(e,t)]}addTemplateAttr(e,t){if(t=t.trim(),/^\{\{(.+)\}\}$/g.test(t)){const s=t.substring(2,t.length-2);if(!/\{\{(.+)\}\}/g.test(s))return void this.addInput(e,s)}t="`"+qi(t).map((e=>e instanceof Hi?"${"+e.value+"}":e.value)).join("")+"`",this.templateAttrs?this.templateAttrs.push(new Bi(e,t)):this.templateAttrs=[new Bi(e,t)]}toJSON(){return Object.assign({},this,{type:"BaseNode"})}}class Ji extends Gi{name;constructor(e){super(),this.name=e}toJSON(){return Object.assign({},this,{type:"DomAttributeDirectiveNode"})}}class Ui extends Gi{children;addChild(e){this.children?this.children.push(e):this.children=[e]}addTextChild(e){const t=this.children??=[];qi(e).forEach((e=>t.push(e)))}toJSON(){return Object.assign({},this,{type:"DomParentNode"})}}class zi extends Ui{constructor(e){super(),e&&(this.children=e)}toJSON(){return Object.assign({},this,{type:"DomFragmentNode"})}}class Wi extends Ui{tagName;is;templateRefName;constructor(e,t){super(),this.tagName=e,t&&(this.is=t)}setTagName(e){this.tagName=e}setTemplateRefName(e,t){this.templateRefName=new Mi(e,t)}toJSON(){return Object.assign({},this,{type:"DomElementNode"})}}class Ki extends Gi{name;value;node;constructor(e,t,s){super(),this.name=e,this.node=t,this.value=s}toJSON(){return Object.assign({},this,{type:"DomStructuralDirectiveNode"})}}function qi(e){let t,s=[],r=e,n=r.lastIndexOf("}}");for(;n>-1&&(t=e.lastIndexOf("{{",n),t>-1);){let e=r.substring(n+2);e&&s.push(new ji(e));const i=new Hi(r.substring(t+2,n));s.push(i),r=r.substring(0,t),n=r.lastIndexOf("}}")}return r&&s.push(new ji(r)),s.reverse()}class Zi{inputs;outputs;constructor(e,t){this.inputs=e,this.outputs=t}hasAttributes(){return this.hasInputs()||this.hasOutputs()}hasInputs(){return(this.inputs?.length??0)>0}hasOutputs(){return(this.outputs?.length??0)>0}getAttributes(){return this.inputs&&this.outputs?this.inputs.concat(this.outputs):this.inputs?this.inputs:this.outputs?this.outputs:void 0}getInputs(){return this.inputs}getOutputs(){return this.outputs}hasAttribute(e){return this.hasInput(e)||this.hasOutput(e)}hasInput(e){return this.inputs?.includes(e)||!1}hasOutput(e){return this.outputs?.includes(e)||!1}}const Yi=new class{directives=new Map;register(e,t){if(!this.directives.has(e)){const s=new Zi(t?.inputs,t?.outputs);this.directives.set(e,s)}}replace(e,t){if(this.directives.has(e)){const s=new Zi(t?.inputs,t?.outputs);this.directives.set(e,s)}}has(e){return this.directives.has(e)}get(e){return this.directives.get(e)}hasAttributes(e){return this.hasInputs(e)||this.hasOutputs(e)}hasInputs(e){return this.directives.get(e)?.hasInputs()||!1}hasOutputs(e){return this.directives.get(e)?.hasOutputs()||!1}getAttributes(e){return this.directives.get(e)?.getAttributes()}getInputs(e){return this.directives.get(e)?.getInputs()}getOutputs(e){return this.directives.get(e)?.getOutputs()}hasAttribute(e,t){return this.directives.get(e)?.hasAttribute(t)||!1}hasInput(e,t){return this.directives.get(e)?.hasInput(t)||!1}hasOutput(e,t){return this.directives.get(e)?.hasOutput(t)||!1}filterDirectives(e){return e.filter((e=>this.has(e)))}};class Xi{static ESCAPE_MAP={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"};test;replace;constructor(){const e="(?:"+Object.keys(Xi.ESCAPE_MAP).join("|")+")";this.test=new RegExp(e),this.replace=new RegExp(e,"g")}escaper(e){return Xi.ESCAPE_MAP[e]}unescape(e){return e&&this.test.test(e)?e.replace(this.replace,this.escaper):e}}class Qi{checkNode(e){const t=e.attributes;if(t){let s;s=t.find((e=>"is"===e.name)),s&&(t.splice(t.indexOf(s),1),e.is=s.value),s=t.filter((e=>"string"==typeof e.value&&/\{\{(.+)\}\}/g.test(e.value))),s?.length&&s.forEach((s=>{t.splice(t.indexOf(s),1),e.addTemplateAttr(s.name,s.value)})),s=t.filter((e=>e.name.startsWith("on"))),s?.length&&s.forEach((s=>{t.splice(t.indexOf(s),1),e.addOutput(s.name.substring(2),s.value)}))}const s=this.extractDirectiveNames(e);let r;if(s.length){const t=[];s.forEach((s=>{if(s.startsWith("*"))return r?void console.error(`Only one Structural Directive is allowed on an element [${r}, ${s}]`):void(r=s);const n=new Ji(s);Yi.get(s).hasAttributes()&&this.extractDirectiveAttributesFromNode(s,n,e),t.push(n)})),t.length&&(e.attributeDirectives=t)}if(r){const t=e.attributes.filter((e=>e.name==r))[0];e.attributes.splice(e.attributes.indexOf(t),1);const s="template"===e.tagName,n=s?new zi(e.children):e,i="boolean"==typeof t?.value?new Ki(t.name,n):new Ki(t.name,n,String(t.value)),a=t.name.substring(1);return s?(i.inputs=e.inputs,i.outputs=e.outputs,i.attributes=e.attributes,i.templateAttrs=e.templateAttrs,i.attributeDirectives=e.attributeDirectives):Yi.hasAttributes(a)&&(this.extractDirectiveAttributesFromNode(a,i,e),i.attributeDirectives=e.attributeDirectives),s&&e.templateRefName?(e.children=[i],e):i}if(Yi.has("*"+e.tagName)){const t=new zi(e.children),s=new Ki("*"+e.tagName,t);return s.inputs=e.inputs,s.outputs=e.outputs,s.attributes=e.attributes,s.templateAttrs=e.templateAttrs,s.attributeDirectives=e.attributeDirectives,s}return e}extractDirectiveAttributesFromNode(e,t,s){const r=Yi.getAttributes(e);if(!r)return;const n=function(e){return t=>e.includes(t.name.split(".")[0])}(r);t.attributes=s.attributes?.filter(n),t.inputs=s.inputs?.filter(n),t.outputs=s.outputs?.filter(n),t.twoWayBinding=s.twoWayBinding?.filter(n),t.templateAttrs=s.templateAttrs?.filter(n),s.inputs&&t.inputs?.forEach(ta(s.inputs)),s.outputs&&t.outputs?.forEach(ta(s.outputs)),s.twoWayBinding&&t.twoWayBinding?.forEach(ta(s.twoWayBinding)),s.attributes&&t.attributes?.forEach(ta(s.attributes)),s.templateAttrs&&t.templateAttrs?.forEach(ta(s.templateAttrs))}extractDirectiveNames(e){const t=[];return e.attributes?.length&&t.push(...this.getAttributeDirectives(e.attributes).filter((e=>e.startsWith("*")))),e.inputs?.length&&t.push(...this.getAttributeDirectives(e.inputs)),e.twoWayBinding?.length&&t.push(...this.getAttributeDirectives(e.twoWayBinding)),e.templateAttrs?.length&&t.push(...this.getAttributeDirectives(e.templateAttrs)),e.outputs?.length&&t.push(...this.getAttributeDirectives(e.outputs)),[...new Set(t)]}getAttributeDirectives(e){return Yi.filterDirectives(e.map((e=>e.name.split(".")[0])))}}class ea extends Qi{index;stateFn;tagNameRegExp=/[\-\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]/;childStack;stackTrace;get currentNode(){return this.stackTrace[this.stackTrace.length-1]}commentOpenCount=0;commentCloseCount=0;tempText;propertyName;propertyValue;propType;escaper=new Xi;parse(e){for(this.reset();this.index<e.length;this.index++)this.stateFn=this.stateFn(e[this.index]);if(this.tempText&&this.stateFn===this.parseText&&this.stateFn("<"),this.stackTrace.length>0)throw console.error(this.stackTrace),new Error(`error parsing html, had ${this.stackTrace.length} element, [${this.stackTrace.map((e=>e.tagName)).join(", ")}], with no closing tag`);let t=this.childStack;return this.reset(),t}reset(){this.index=0,this.childStack=[],this.stackTrace=[],this.propType="attr",this.commentOpenCount=0,this.commentCloseCount=0,this.stateFn=this.parseText,this.propertyName=this.propertyValue=this.tempText=""}parseText(e){return"<"===e?(this.tempText&&(this.tempText=this.escaper.unescape(this.tempText),this.stackTrace.push(this.tempText),this.popElement(),this.tempText=""),this.parseTag):(this.tempText+=e,this.parseText)}parseTag(e){return"/"===e?this.parseCloseTag:"!"===e?(this.commentOpenCount=0,this.commentCloseCount=0,this.parseComment):(this.index--,this.parseOpenTag)}parseComment(e){if("-"===e)return this.commentOpenCount<2?this.commentOpenCount++:this.commentCloseCount++,this.parseComment;if(">"===e&&2===this.commentCloseCount)return this.tempText=this.escaper.unescape(this.tempText),this.stackTrace.push(new Vi(this.tempText.trim())),this.popElement(),this.tempText="",this.commentOpenCount=0,this.commentCloseCount=0,this.parseText;if(">"===e&&0===this.commentCloseCount&&"doctype html"===this.tempText.toLowerCase())return this.tempText="",this.parseText;if(this.commentCloseCount>0){for(let e=0;e<this.commentCloseCount;e++)this.tempText+="-";this.commentCloseCount=0}return this.tempText+=e,this.parseComment}parseCloseTag(e){if(">"===e){if(!Ti(this.currentNode.tagName)&&this.currentNode.tagName.trim().toLowerCase()!==this.tempText.trim().toLowerCase())throw new Error(`Wrong closed tag at char ${this.index}, tag name: ${this.currentNode.tagName}`);return this.popElement(),this.tempText="",this.parseText}return this.tempText+=e,this.parseCloseTag}parseOpenTag(e){if(">"===e)return this.stackTrace.push(new Wi(this.tempText)),Ti(this.tempText)&&this.popElement(),this.tempText="",this.parseText;if(this.tagNameRegExp.test(e))return this.tempText+=e,this.parseOpenTag;if(/\s/.test(e))return this.stackTrace.push(new Wi(this.tempText)),this.tempText="",this.propType="attr",this.parsePropertyName;throw new SyntaxError("Error while parsing open tag")}parsePropertyName(e){return">"===e?(this.tempText.trim()&&(this.propertyName=this.tempText,this.currentNode.addAttribute(this.propertyName,!0),this.propertyName,this.propertyValue=this.tempText=""),Ti(this.currentNode.tagName)&&this.popElement(),this.tempText="",this.parseText):"/"===e?this.parsePropertyName:/\[/.test(e)?(this.propType="input",this.parseInputOutput):/\(|@/.test(e)?(this.propType="output",this.parseInputOutput):/#/.test(e)?(this.propType="ref-name",this.parseRefName):/=/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyName):/"/.test(e)?this.parsePropertyValue:/\d/.test(e)?(this.tempText+=e,this.parsePropertyValue):/\s/.test(e)?(this.tempText.trim()&&(this.propertyName=this.tempText,this.currentNode.addAttribute(this.propertyName,!0),this.propertyName,this.propertyValue=this.tempText=""),this.parsePropertyName):(this.tempText+=e,this.parsePropertyName)}parseRefName(e){return/=/.test(e)?this.parseRefName:/"/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyValue):/\s/.test(e)?(this.currentNode.setTemplateRefName(this.tempText,""),this.propertyName=this.tempText="",this.propType="attr",this.parsePropertyName):/>/.test(e)?(this.currentNode.setTemplateRefName(this.tempText,""),this.propertyName=this.tempText="",this.propType="attr",this.parseText):(this.tempText+=e,this.parseRefName)}parseInputOutput(e){return/\(/.test(e)?(this.propType="two-way",this.parseInputOutput):/\)|\]|=/.test(e)?this.parseInputOutput:/"/.test(e)?(this.propertyName=this.tempText,this.tempText="",this.parsePropertyValue):(this.tempText+=e,this.parseInputOutput)}parsePropertyValue(e){if(/"/.test(e)){switch(this.propertyValue=this.tempText,this.propType){case"input":this.currentNode.addInput(this.propertyName,this.propertyValue);break;case"output":this.currentNode.addOutput(this.propertyName,this.propertyValue);break;case"two-way":this.currentNode.addTwoWayBinding(this.propertyName,this.propertyValue);break;case"ref-name":this.currentNode.setTemplateRefName(this.propertyName,this.propertyValue);break;default:/^([-+]?\d*\.?\d+)(?:[eE]([-+]?\d+))?$/.test(this.propertyValue.trim())?this.currentNode.addAttribute(this.propertyName,+this.propertyValue.trim()):/^(true|false)$/.test(this.propertyValue.trim().toLowerCase())?"true"===this.propertyValue.trim().toLowerCase()?this.currentNode.addAttribute(this.propertyName,!0):this.currentNode.addAttribute(this.propertyName,!1):this.currentNode.addAttribute(this.propertyName,this.propertyValue)}return this.propertyName,this.propertyValue=this.tempText="",this.propType="attr",this.parsePropertyName}return this.tempText+=e,this.parsePropertyValue}popElement(){const e=this.stackTrace.pop();if(e){const t=this.stackTrace.pop();t&&t instanceof Wi?("string"==typeof e?t.addTextChild(e):e instanceof Wi?t.addChild(this.checkNode(e)):t.addChild(e),this.stackTrace.push(t)):"string"==typeof e?qi(e).forEach((e=>this.childStack.push(e))):e instanceof Wi?this.childStack.push(this.checkNode(e)):this.childStack.push(e)}}}function ta(e){return t=>e.splice(e.indexOf(t),1)}function sa(e,t){e.__proto__=t.prototype}const ra=new class{nodeParser=new ea;parse(e){return this.nodeParser.parse(e)}toDomRootNode(e){let t=this.nodeParser.parse(e);return t&&0!==t.length?1===t?.length?t[0]:new zi(t):new zi([new ji("")])}stringify(e){let t="";return e?.forEach((e=>{if(e instanceof ji)t+=e.value;else if(e instanceof Hi)t+=`{{${e.value}}}`;else if(e instanceof Vi)t+=`\x3c!-- ${e.comment} --\x3e`;else if(e instanceof Wi){let s="";if(e.attributes&&(s+=e.attributes.map((e=>`${e.name}="${e.value}"`)).join(" ")+" "),e.twoWayBinding&&(s+=e.twoWayBinding.map((e=>`[(${e.name})]="${e.value}"`)).join(" ").concat(" ")),e.inputs&&(s+=e.inputs.map((e=>`[${e.name}]="${e.value}"`)).join(" ").concat(" ")),e.outputs&&(s+=e.outputs.map((e=>`(${e.name})="${e.value}"`)).join(" ").concat(" ")),e.templateAttrs&&(s+=e.templateAttrs.map((e=>`${e.name}="${e.value}"`)).join(" ").concat(" ")),Ti(e.tagName))t+=s?`<${e.tagName} ${s}/>`:`<${e.tagName} />`;else{let r=this.stringify(e.children);t+=s&&r?`<${e.tagName} ${s}>${r}</${e.tagName}>`:s?`<${e.tagName} ${s}></${e.tagName}>`:r?`<${e.tagName}>${r}<</${e.tagName}>`:`<${e.tagName}></${e.tagName}>`}}})),t}deserializeAttributes(e){switch(e.type){case"Attribute":sa(e,Mi);break;case"ElementAttribute":sa(e,Fi);break;case"LiveAttribute":sa(e,Bi);break;case"TextContent":sa(e,ji);break;case"LiveTextContent":sa(e,Hi)}}deserializeBaseNode(e){e.attributes?.forEach((e=>this.deserializeAttributes(e))),e.inputs?.forEach((e=>this.deserializeAttributes(e))),e.outputs?.forEach((e=>this.deserializeAttributes(e))),e.templateAttrs?.forEach((e=>this.deserializeAttributes(e))),e.attributeDirectives?.forEach((e=>this.deserializeNode(e)))}deserializeNode(e){switch(e.type){case"TextContent":sa(e,ji);break;case"LiveTextContent":sa(e,Hi);break;case"CommentNode":sa(e,Vi);break;case"DomFragmentNode":sa(e,zi),e.children?.forEach((e=>this.deserializeNode(e)));break;case"DomElementNode":sa(e,Wi),e.templateRefName&&this.deserializeAttributes(e.templateRefName),this.deserializeBaseNode(e),e.children?.forEach((e=>this.deserializeNode(e)));break;case"DomStructuralDirectiveNode":sa(e,Ki),this.deserializeNode(e.node);break;case"DomAttributeDirectiveNode":sa(e,Ji),this.deserializeBaseNode(e)}return e}};class na{static Fragment="fragment";static CommentTag="comment";static DirectiveTag="directive";static createElement(e,t,...s){if(na.Fragment===e.toLowerCase())return na.createFragmentNode(...s);if(Yi.has(e))return na.createStructuralDirectiveNode(e,"",t,...s);if(na.DirectiveTag===e.toLocaleLowerCase()&&t){if(t){let r,n=Object.keys(t).find((e=>e.startsWith("*")));if(n)return r=t[n],delete t.directiveName,na.createStructuralDirectiveNode(n,r,t,...s);let i=new Wi(e,t?.is);return na.initElementAttrs(i,t),s?.forEach((e=>{"string"==typeof e?i.addTextChild(e):i.addChild(e)})),i}return na.createFragmentNode(...s)}if(t){let r=na.createElementNode(e,t,...s),n=Object.keys(t).find((e=>e.startsWith("*")));if(n){let e=t[n];return na.createStructuralDirectiveNode(n,e,t,r)}return r}return na.createElementNode(e,t,...s)}static createElementNode(e,t,...s){let r=new Wi(e,t?.is);return na.initElementAttrs(r,t),s?.forEach((e=>{"string"==typeof e?r.addTextChild(e):r.addChild(e)})),r}static createFragmentNode(...e){let t=e.flatMap((e=>"string"==typeof e?qi(e):[e]));return new zi(t)}static createStructuralDirectiveNode(e,t,s,...r){const n=new zi;r?.forEach((e=>"string"==typeof e?n.addTextChild(e):n.addChild(e))),!e.startsWith("*")&&(e="*"+e);const i=new Ki(e,n,t);return s&&Object.keys(s).forEach((e=>i.addAttribute(e,s[e]))),i}static createAttributeDirectiveNode(e,t){const s=new Ji(e);return t&&Object.keys(t).forEach((e=>s.addAttribute(e,t[e]))),s}static initElementAttrs(e,t){if(t){Object.keys(t).forEach((s=>{na.handelAttribute(e,s,t[s])}));const s=[];Object.keys(t).forEach((e=>{if(Yi.has(e)){Reflect.deleteProperty(t,e);const r=new Ji(e),n=Yi.get(e);Object.keys(t).forEach((e=>{n.hasAttribute(e)&&(r.addAttribute(e,t[e]),Reflect.deleteProperty(t,e))})),s.push(r)}})),s.length&&(e.attributeDirectives=s)}}static handelAttribute(e,t,s){if(t.startsWith("#")&&e instanceof Wi)t=t.substring(1),e.setTemplateRefName(t,s);else{if("is"===t&&e instanceof Wi)return void(e.is=s);if(t.startsWith("[("))t=t.substring(2,t.length-2),e.addTwoWayBinding(t,s);else if(t.startsWith("$")&&"string"==typeof s&&s.startsWith("$"))t=t.substring(1),s=s.substring(1),e.addTwoWayBinding(t,s);else if(t.startsWith("["))t=t.substring(1,t.length-1),e.addInput(t,s);else if(t.startsWith("$")&&"string"==typeof s)t=t.substring(1),e.addInput(t,s);else if(t.startsWith("$")&&"object"==typeof s)t=t.substring(1),e.addAttribute(t,s);else{if("string"==typeof s&&s.startsWith("$"))return;"string"==typeof s&&/^\{\{(.+\w*)*\}\}/g.test(s)?(s=s.substring(2,s.length-2),e.addInput(t,s)):"string"==typeof s&&/\{\{(.+)\}\}/g.test(s)?e.addTemplateAttr(t,s):t.startsWith("(")?(t=t.substring(1,t.length-1),e.addOutput(t,s)):t.startsWith("on")?e.addOutput(t.substring(2),s):e.addAttribute(t,s)}}}}const ia=new class{parse(e){if(0==e.content.childNodes.length)return new zi([new ji("")]);if(1===e.content.childNodes.length){let t=this.createComponent(e.content.firstChild);return Array.isArray(t)?new zi(t):t}{const t=Array.prototype.slice.call(e.content.childNodes).map((e=>this.createComponent(e))).flatMap((function(e){return Array.isArray(e)?e:[e]}));return new zi(t)}}createComponent(e){if(e instanceof Text)return qi(e.textContent||"");if(e instanceof Comment)return new Vi(e.textContent||"");{const t=e,s=new Wi(t.tagName.toLowerCase(),t.attributes.getNamedItem("is")?.value);for(let e=0;e<t.attributes.length;e++){const r=t.attributes.item(e);na.handelAttribute(s,r.name,r.value)}return Array.prototype.slice.call(t.childNodes).map((e=>this.createComponent(e))).forEach((e=>{Array.isArray(e)?e.forEach((e=>s.addChild(e))):s.addChild(e)})),s}}toDomRenderRootNode(e){if("string"==typeof e){let t=document.createElement("template");t.innerHTML=e,e=t}else e instanceof HTMLTemplateElement&&(e=this.parse(e));return t=>e}};class aa{modelProperty;_viewName;constructor(e,t){this.modelProperty=e,this._viewName=t}get viewAttribute(){return this._viewName||this.modelProperty}}class oa extends aa{}class ca extends aa{options;constructor(e,t,s){super(e,t),this.options=s}}class la{modelName;selector;childOptions;constructor(e,t,s){this.modelName=e,this.selector=t,this.childOptions=s}}class ha{eventName;args;modelCallbackName;constructor(e,t,s){this.eventName=e,this.args=t,this.modelCallbackName=s}}class ua{modelPropertyName;hostPropertyName;constructor(e,t){this.modelPropertyName=e,this.hostPropertyName=t}}class pa{static getMetaDate(e){return wi.get(e[Symbol.metadata])}static addInput(e,t,s){(e.inputs??=[]).push(new oa(t,s))}static addOutput(e,t,s,r){(e.outputs??=[]).push(new ca(t,s,r))}static setComponentView(e,t){e.view=t}static addViewChild(e,t,s,r){(e.viewChild??=[]).push(new la(t,s,r))}static addViewChildren(e,t,s){(e.ViewChildren??=[]).push(new la(t,s))}static addHostListener(e,t,s,r){(e.hostListeners??=[]).push(new ha(s,r,t))}static addHostBinding(e,t,s){(e.hostBindings??=[]).push(new ua(t,s))}}const da=new class{viewSet=new Set;componentSet=new Set;serviceSet=new Set;directiveSet=new Set;pipeSet=new Set;registerView(e){this.viewSet.add(e)}registerComponent(e){this.componentSet.add(e)}registerService(e){this.serviceSet.add(e)}registerDirective(e){this.directiveSet.add(e)}registerPipe(e){this.pipeSet.add(e)}hasComponent(e){for(const t of this.componentSet)if(pa.getMetaDate(t).selector===e)return!0;return!1}getComponentRef(e){for(const t of this.componentSet){const s=pa.getMetaDate(t);if(s.selector===e)return s}}getComponent(e){for(const t of this.componentSet)if(pa.getMetaDate(t).selector===e)return t}getComponentView(e){return this.getComponentRef(e)?.viewClass}hasOutput(e,t){if(Reflect.has(e,"bootstrap")){const s=Reflect.get(e,"bootstrap");if(s.outputs)for(const e of s.outputs)if(e.viewAttribute===t)return e}return!1}hasInput(e,t){if(Reflect.has(e,"bootstrap")){const s=Reflect.get(e,"bootstrap");if(s.inputs)for(const e of s.inputs)if(e.viewAttribute===t)return e}return!1}hasDirective(e){for(const t of this.directiveSet)if(pa.getMetaDate(t).selector===e)return!0;return!1}directiveHasInput(e,t="attributes"){for(const s of this.directiveSet){const r=pa.getMetaDate(s);if(("attributes"===t&&!r.selector.startsWith("*")||"structural"===t&&r.selector.startsWith("*"))&&r.inputs?.filter((t=>t.viewAttribute===e)).length>0)return!0}return!1}getDirectiveRef(e){for(const t of this.directiveSet){const s=pa.getMetaDate(t);if(s.selector===e)return s}}getPipe(e){for(const t of this.pipeSet){const s=pa.getMetaDate(t);if(s.name===e)return s}}getService(e){for(const t of this.serviceSet){const s=pa.getMetaDate(t);if(s.name===e)return s}}};function ma(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).replace(/ /g,"")}class fa{_ctx;_keys;static for(e,t){return new fa(e,t)}static blockScope(e){return new fa({},e)}_inners=new Map;constructor(e,t){this._ctx=e,this._keys=t}get(e){return Reflect.get(this._ctx,e)}set(e,t,s){return Reflect.set(this._ctx,e,t)}has(e){return this._keys?.includes(e)??e in this._ctx}delete(e){return Reflect.deleteProperty(this._ctx,e)}getContext(){return this._ctx}getInnerScope(e){const t=this.get(e);let s=this._inners.get(e);return s?(s._ctx=t,s):t&&"object"==typeof t?(s=new(this.getClass())(t,void 0,e,this),this._inners.set(e,s),s):void 0}setInnerScope(e,t){if(t)return this._inners.set(e,t),t;const s=this.get(e);return t=new(this.getClass())(s,void 0,e,this),this._inners.set(e,t),t}getClass(){return fa}}class ga extends fa{static for(e,t){return new ga(e,t)}static blockScope(e){return new ga({},e)}set(e,t,s){return!1}delete(e){return!1}getClass(){return ga}}class ya{propertyKey;observer;constructor(e,t){this.propertyKey=e,this.observer=t}pause(){this.observer.pause(this.propertyKey,this)}resume(){this.observer.resume(this.propertyKey,this)}unsubscribe(){this.observer.unsubscribe(this.propertyKey,this)}}class ba{_subscribers=new Map;_lock=[];emit(e,t,s){if(this._lock.includes(e))return;const r=this._subscribers.get(e);r&&0!=r.size&&(this._lock.push(e),Array.from(r.values()).forEach((e=>{if(e.enable)try{e.callback(t,s)}catch(e){console.error(e)}})),this._lock.pop()!==e&&console.error("lock error"))}subscribe(e,t){const s=new ya(e,this);let r=this._subscribers.get(e);return r||(r=new Map,this._subscribers.set(e,r)),r.set(s,{callback:t,enable:!0}),s}unsubscribe(e,t){t?this._subscribers.get(e)?.delete(t):this._subscribers.delete(e)}pause(e,t){const s=this._subscribers.get(e)?.get(t);s&&(s.enable=!1)}resume(e,t){const s=this._subscribers.get(e)?.get(t);s&&(s.enable=!0)}hasSubscribers(e){return e?(this._subscribers.get(e)?.size??0)>0:this._subscribers.size>0}destroy(){this._subscribers.clear()}}class Sa extends fa{_name;_parent;static for(e,t){return new Sa(e,t)}static blockScope(e){return new Sa({},e)}static scopeForThis(e,t){const s=Sa.for(e,t),r={this:e},n=fa.for(r,["this"]);return n.setInnerScope("this",s),n}static readOnlyScopeForThis(e,t){const s=Sa.for(e,t),r={this:e},n=ga.for(r,["this"]);return n.setInnerScope("this",s),n}_clone;_observer=new ba;constructor(e,t,s,r){super(e,t),this._name=s,this._parent=r,this._clone=Object.assign({},e)}set(e,t,s){const r=Reflect.get(this._ctx,e),n=Reflect.set(this._ctx,e,t);return n&&this.emit(e,t,r),n}delete(e){const t=Reflect.get(this._ctx,e),s=Reflect.deleteProperty(this._ctx,e);return s&&void 0!==t&&this.emit(e,void 0,t),s}emit(e,t,s){this._observer.emit(e,t,s),this._parent?.emit(this._name,this._ctx)}subscribe(e,t){return this._observer.subscribe(e,t)}unsubscribe(e,t){t&&null!=e?this._observer.unsubscribe(e,t):null!=e?this._observer.unsubscribe(e):this._observer.destroy()}detectChanges(){const e=this._clone,t=this._ctx;!e&&t||e&&!t?this._parent?.emit(this._name,t):((this._keys??this.getPropertyKeys(e,t)).forEach((s=>{const r=e[s],n=t[s],i=typeof n;"object"==typeof r?"object"===i&&r==n?this.getInnerScope(s)?.detectChanges():n!=r&&this.emit(s,n,r):("object"===i||r!=n)&&this.emit(s,n,r)})),this._clone=Object.assign({},this._ctx))}getPropertyKeys(...e){let t=[];return e.forEach((e=>{t.push(...Object.keys(e)),t.push(...Object.getOwnPropertySymbols(e))})),t=Array.from(new Set(t)),t=t.filter((e=>{switch(typeof e){case"string":return!e.startsWith("_");case"symbol":return!e.toString().startsWith("Symbol(_");default:return!1}})),t}getClass(){return Sa}}class Ea extends Sa{static for(e,t){return new Ea(e,t)}static blockScope(e){return new Ea({},e)}static scopeForThis(e,t){const s=Ea.for(e,t),r={this:e},n=fa.for(r,["this"]);return n.setInnerScope("this",s),n}static readOnlyScopeForThis(e,t){const s=Ea.for(e,t),r={this:e},n=ga.for(r,["this"]);return n.setInnerScope("this",s),n}static reactiveScopeForThis(e,t){const s=Sa.for(e,t),r={this:e},n=fa.for(r,["this"]);return n.setInnerScope("this",s),n}_attached=!0;_marked={};emit(e,t,s){this._attached?super.emit(e,t,s):this._marked[e]?t==this._marked[e][1]?delete this._marked[e]:this._marked[e][0]=t:this._marked[e]=[t,s]}isAttached(){return this._attached}detach(){this._attached=!1}reattach(){this._attached=!0,this.emitChanges()}emitChanges(e,t){if(e)return super.emit(e,t),void Reflect.deleteProperty(this._marked,e);const s=this._marked;this._marked={};const r=this._keys??this.getPropertyKeys(s);r.forEach((e=>{this._observer.emit(e,s[e][0],s[e][1])})),r.length&&this._parent?.emit(this._name,this._ctx)}detectChanges(){this.detach(),super.detectChanges(),this.reattach()}checkNoChanges(){if(this.detach(),super.detectChanges(),Object.keys(this._marked).length>0)throw new Error("Some Changes had been detected")}getClass(){return Ea}}class wa extends Sa{constructor(e,t){super(e,t)}importModule(e,t){this._ctx[e]=t._ctx,this._inners.set(e,t),this.detectChanges()}}class va extends wa{source;importCallOptions;import;constructor(e,t){super({}),this.source=e,this.importCallOptions=t,this.import=n(38)(e).then((e=>this.updateContext(e))).then((()=>this._ctx),(()=>this._ctx))}updateContext(e){this._ctx=e,this.detectChanges()}resolveImport(){return this.import}}var Aa,xa;function Ta(e){return Aa.Sloppy===e}function ka(e){return Aa.Strict===e}function Ca(e,t){let s=e;for(const r of t){const t=r.path;let n=s[t];n?s=n:(s=s[t]={},r.computed&&r.computedPath.forEach((t=>Ca(e,t))))}}(xa=Aa||(Aa={}))[xa.Sloppy=0]="Sloppy",xa[xa.Strict=1]="Strict";class Na{static fromJSON(e,t){return t(e)}type;loc;range;constructor(e,t){this.type=this.getClass().type,e&&(this.range=e),t&&(this.loc=t)}getClass(){return this.constructor}toJSON(e){const t=this.toJson(e),s={};return this.range&&(s.range=this.range),this.loc&&(s.loc=this.loc),Object.assign({type:this.type},t,s)}events(){const e=this.dependency(),t={};for(const s of e)Ca(t,s.dependencyPath());return t}}class Oa extends Na{operator;left;right;static visit(e,t){t(e.getLeft()),t(e.getRight())}constructor(e,t,s,r,n){super(r,n),this.operator=e,this.left=t,this.right=s}getOperator(){return this.operator}getLeft(){return this.left}getRight(){return this.right}set(e,t){throw new Error(`${this.constructor.name}#set() of operator: '${this.operator}' has no implementation.`)}dependency(e){return this.left.dependency(e).concat(this.right.dependency(e))}dependencyPath(e){return this.left.dependencyPath(e).concat(this.right.dependencyPath(e))}toString(){return`${this.left.toString()} ${this.operator} ${this.right.toString()}`}toJson(e){return{operator:this.operator,left:this.left.toJSON(),right:this.right.toJSON()}}}class _a{value;constructor(e){this.value=e}getValue(){return this.value}}class Ia{value;constructor(e){this.value=e}getValue(){return this.value}}class Pa{value;constructor(e){this.value=e}getValue(){return this.value}}class Ra{promise;node;declareVariable;constructor(e){this.promise=e}}const La=new Map,Da=vi(((e,t)=>{t.type=e,La.set(e,t)}));function Ma(e){const t=La.get(e.type)?.fromJSON;if(t)return t(e,Ma);throw new Error(`Couldn't find Expression class for name: ${JSON.stringify(e)}.`)}let Fa=(()=>{let e,s,r=[Da("Identifier")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}name;static fromJSON(e){return new a(e.name,e.range,e.loc)}constructor(e,t,s){super(t,s),this.name=e}getName(){return this.name}set(e,t){return e.set(this.name,t)?t:void 0}get(e,t){return t?t[this.name]:e.get(this.name)}findScope(e,t){return t?t.getInnerScope(this.name):(t=e.findScope(this.name)).getInnerScope(this.name)}declareVariable(e,t){return e.declareVariable(this.name,t)}getDeclarationName(){return this.toString()}dependency(e){return[this]}dependencyPath(e){const t=[{computed:!1,path:this.toString()}];return e?[{computed:e,path:this.toString(),computedPath:[t]}]:t}toString(){return String(this.name)}toJson(){return{name:this.name}}};return a=s})(),Ba=(()=>{let e,s,r=[Da("ThisExpression")],n=[],i=Fa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e){return new a(e.range,e.loc)}constructor(e,t){super("this",e,t)}toJson(){return{}}};return a=s})(),ja=(()=>{let e,s,r=[Da("Literal")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}value;static fromJSON(e){return e.bigint?new a(BigInt(e.bigint),e.raw,void 0,e.bigint,e.range,e.loc):e.regex?new a(RegExp(e.regex.pattern,e.regex.flags),e.raw,e.regex,void 0,e.range,e.loc):new a(e.value,e.raw,void 0,void 0,e.range,e.loc)}regex;bigint;raw;constructor(e,t,s,r,n,i){super(n,i),this.value=e,t&&(this.raw=t),s&&(this.regex=s),r&&(this.bigint=r)}getValue(){return this.value}getRegex(){return this.regex}getBigint(){return this.bigint}geRaw(){return this.raw}set(){throw new Error(`${this.constructor.name}#set() has no implementation.`)}get(){return this.value}findScope(e,t){return t?t.getInnerScope(this.value):(t=e.findScope(this.value)).getInnerScope(this.value)}dependency(e){return e?[this]:[]}dependencyPath(e){return e?[{computed:!1,path:this.toString()}]:[]}toString(){return this.raw??String(this.value)}toJson(){return this.bigint?{bigint:this.bigint,raw:this.raw}:this.regex?{regex:{pattern:this.regex?.pattern,flags:this.regex?.flags},raw:this.raw}:{value:this.value,raw:this.raw}}};return a=s})();class Ha extends Array{raw;constructor(e){super(...e),this.raw=e}}class $a extends Na{quasis;expressions;tag;static visit(e,t){e.tag&&t(e.tag),e.expressions.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.quasis=e,this.expressions=t,this.tag=s}getTag(){return this.tag}getExpressions(){return this.expressions}set(e,t){throw new Error("TemplateLiteralExpressionNode#set() has no implementation.")}get(e){const t=this.tag?.get(e)||String.raw,s=new Ha(this.quasis);return s.raw=s,t(s,...this.expressions.map((t=>t.get(e))))}dependency(e){return this.expressions.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.expressions.flatMap((t=>t.dependencyPath(e)))}toString(){let e=this.tag?.toString()||"";e+="`";let t=0;for(;t<this.quasis.length-1;t++)e+=this.quasis[t],e+="${",e+=this.expressions[t].toString(),e+="}";return e+=this.quasis[t],e+="`",e}toJson(){return{quasis:this.quasis,expressions:this.expressions.map((e=>e.toJSON())),tag:this.tag?.toJSON()}}}let Va=(()=>{let e,s,r=[Da("TemplateLiteral")],n=[],i=$a;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(e.quasis,e.expressions.map(t),e.range,e.loc)}constructor(e,t,s,r){super(e,t,void 0,s,r)}getTag(){}};return a=s})(),Ga=(()=>{let e,s,r=[Da("TaggedTemplateExpression")],n=[],i=$a;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.tag),e.quasis,e.expressions.map(t),e.range,e.loc)}constructor(e,t,s,r,n){super(t,s,e,r,n)}getTag(){return super.getTag()}};return a=s})();class Ja{type;label;constructor(e,t){this.type=e,this.label=t}}class Ua extends Na{label;constructor(e,t,s){super(t,s),this.label=e}getLabel(){this.label}set(e,t){throw new Error("TerminateStatement#set() has no implementation.")}get(e){return new Ja(this.getType(),this.label?.get(e))}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.getType()}${this.label?` ${this.label.toString()}`:""};`}toJson(){return{label:this.label?.toJSON()}}}let za=(()=>{let e,s,r=[Da("BreakStatement")],n=[],i=Ua;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(e.label?t(e.label):void 0,e.range,e.loc)}static visit(e,t){e.label&&t(e.label)}getType(){return"break"}};return a=s})(),Wa=(()=>{let e,s,r=[Da("ContinueStatement")],n=[],i=Ua;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(e.label&&t(e.label),e.range,e.loc)}static visit(e,t){e.label&&t(e.label)}getType(){return"continue"}};return a=s})(),Ka=(()=>{let e,s,r=[Da("LabeledStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}label;body;static fromJSON(e,t){return new a(t(e.label),t(e.body),e.range,e.loc)}static visit(e,t){t(e.label),t(e.body)}constructor(e,t,s,r){super(s,r),this.label=e,this.body=t}getLabel(){return this.label}getBody(){return this.body}set(e,t){throw new Error("LabeledStatement#set() not implemented.")}get(e){return this.body.get(e)}dependency(e){return this.body.dependency(e)}dependencyPath(e){return this.body.dependencyPath(e)}toString(){return`${this.label.toString()}:\n${this.body.toString()}`}toJson(){return{label:this.label.toJSON(),body:this.body.toJSON()}}};return a=s})();function qa(e){return"function"==typeof e.declareVariable}let Za=(()=>{let e,s,r=[Da("BlockStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}body;static fromJSON(e,t){return new a(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("BlockStatement#set() has no implementation.")}get(e){const t=e.pushBlockScope();let s;for(const r of this.body){if(s=r.get(e),s instanceof _a)return e.clearTo(t),s.value;if(s instanceof Ja)return s}return e.clearTo(t),s}dependency(e){return this.body.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.body.flatMap((t=>t.dependencyPath(e)))}toString(){return`{\n${this.body.map((e=>({insert:!qa(e),string:e.toString()}))).map((e=>`  ${e.string}${e.insert?";":""}`)).join("\n")}\n}`}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return a=s})(),Ya=(()=>{let e,s,r=[Da("SpreadElement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}argument;static fromJSON(e,t){return new a(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("SpreadElement#set() Method has no implementation.")}get(e){const t=this.argument.get(e);Array.isArray(t)?this.spreadFromArray(e,t):Reflect.has(t,Symbol.iterator)&&this.spreadFromIterator(e,t)}spreadFromArray(e,t){let s=e.get("length");t.forEach((t=>e.declareVariable(s++,t)))}spreadFromIterator(e,t){let s=e.get("length");for(;;){const r=t.next();if(r.done)break;e.declareVariable(s++,r.value)}}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`...${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return a=s})(),Xa=(()=>{let e,s,r=[Da("MemberExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}object;property;computed;optional;static fromJSON(e,t){return new a(t(e.object),t(e.property),e.computed,e.optional,e.range,e.loc)}static visit(e,t){t(e.object),t(e.property)}constructor(e,t,s,r=!1,n,i){super(n,i),this.object=e,this.property=t,this.computed=s,this.optional=r}getObject(){return this.object}getProperty(){return this.property}set(e,t){const s=this.object.findScope(e);let r;return this.computed?(r=this.property.get(e),s.set(r,t)):this.property instanceof Fa?s.set(this.property.getName(),t):(e.pushScope(s),this.property.set(e,t),e.clearTo(s)),t}get(e,t){const s=t??this.object.get(e);if(null==s){if(this.optional)return;throw new TypeError(`Cannot read property '${this.property.toString()}' of ${s}, reading [${this.toString()}]`)}let r;return r=this.computed?s[this.property.get(e)]:this.property.get(e,s),r}findScope(e,t){return t||(t=this.object.findScope(e)),this.property.findScope(e,t)}dependency(e){return[this]}dependencyPath(e){if(this.computed){const t=this.object.dependencyPath(e),s=this.property.dependency(!0).map((e=>e.dependencyPath(!0))),r={computed:!0,path:":"+s.flatMap((e=>e)).map((e=>e.path)).join(":"),computedPath:s.flatMap((e=>e.flatMap((e=>e.computed?e.computedPath:[]))))};return t.concat(r)}return this.object.dependencyPath(e).concat(this.property.dependencyPath(e))}toString(){return this.computed?`${this.object.toString()}${this.optional?"?.":""}[${this.property.toString()}]`:`${this.object.toString()}${this.optional?"?.":"."}${this.property.toString()}`}toJson(){return{object:this.object.toJSON(),property:this.property.toJSON(),computed:this.computed,optional:this.optional}}};return a=s})(),Qa=(()=>{let e,s,r=[Da("CallExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}callee;optional;static fromJSON(e,t){return new a(t(e.callee),e.arguments.map((e=>t(e))),e.optional,e.range,e.loc)}static visit(e,t){t(e.callee),e.arguments.forEach(t)}arguments;constructor(e,t,s=!1,r,n){super(r,n),this.callee=e,this.optional=s,this.arguments=t}getCallee(){return this.callee}getArguments(){return this.arguments}set(e,t){throw new Error("CallExpression#set() has no implementation.")}get(e,t){const s=this.callee.get(e);if(this.optional&&null==s)return;const r=this.getCallParameters(e);return!t&&this.callee instanceof Xa?t=this.callee.getObject().get(e):!t&&this.callee instanceof Fa&&(t=e.findScope(this.callee.getName()).getContextProxy?.()),s.apply(t,r)}getCallParameters(e){const t=[];for(const s of this.arguments){if(s instanceof Ya){const r=e.pushBlockScopeFor(t);s.get(e),e.clearTo(r);break}t.push(s.get(e))}return t}dependency(e){return this.callee.dependency(e).concat(this.arguments.flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.callee.dependencyPath(e).concat(this.arguments.flatMap((t=>t.dependencyPath(e))))}toString(){return`${this.callee.toString()}${this.optional?"?.":""}(${this.arguments.map((e=>e.toString())).join(", ")})`}toJson(){return{callee:this.callee.toJSON(),arguments:this.arguments.map((e=>e.toJSON())),optional:this.optional}}};return a=s})();const eo=Symbol("TempClassName"),to=Symbol("#");class so{staticInitializer={};staticPrivateInitializer={};staticInitializerBlock=[];instanceConstructor;superParameterResolver=e=>e;instanceMethod={};privateInstanceMethod={};instanceInitializer=[];addStaticInitializer(e,t){Reflect.set(this.staticInitializer,e,t)}addStaticPrivateInitializer(e,t){Reflect.set(this.staticPrivateInitializer,e,t)}addStaticInitializerBlock(e){this.staticInitializerBlock.push(e)}setConstructor(e){this.instanceConstructor=e}setParameterResolver(e){this.superParameterResolver=e}addInstanceMethod(e,t){Reflect.set(this.instanceMethod,e,t)}addPrivateInstanceMethod(e,t){Reflect.set(this.privateInstanceMethod,e,t)}addInstanceInitializer(e){this.instanceInitializer.push(e)}initClass(e){Object.defineProperties(e,this.staticInitializer),Object.defineProperties(e[to],this.staticPrivateInitializer),Object.defineProperties(e.prototype,this.instanceMethod),this.staticInitializerBlock.forEach((e=>e()))}getSuperArguments(e){return this.superParameterResolver(e)}initInstance(e){Object.defineProperties(e[to],this.privateInstanceMethod),this.instanceInitializer.forEach((t=>{const s=t();(s.isPrivate?e[to]:e)[s.key]=s.value})),this.instanceConstructor?.apply(e)}}let ro=(()=>{let e,s,r=[Da("Super")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e){return new a(e.range,e.loc)}constructor(e,t){super(e,t)}set(e,t){throw new Error("Super.#set() Method not implemented.")}get(e,t){return e.get("super")}dependency(e){throw new Error("Super.#dependency() Method not implemented.")}dependencyPath(e){throw new Error("Super.#dependencyPath() Method not implemented.")}toString(){return"super"}toJson(){return{}}};return a=s})(),no=(()=>{let e,s,r=[Da("MetaProperty")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}meta;property;static fromJSON(e,t){return new a(t(e.meta),t(e.property),e.range,e.loc)}static visit(e,t){t(e.meta),t(e.property)}constructor(e,t,s,r){super(s,r),this.meta=e,this.property=t}getMeta(){return this.meta}getProperty(){return this.property}get(e){const t=this.meta.get(e);if(null==t)throw new TypeError(`Cannot read meta property '${this.property.toString()}' of ${t}, reading [${this.toString()}]`);return this.property.get(e,t)}set(e,t){throw new Error("MetaProperty#set() has no implementation.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.meta.toString()}.${this.property.toString()}`}toJson(){return{meta:this.meta.toJSON(),property:this.property.toJSON()}}};return a=s})(),io=(()=>{let e,s,r=[Da("PrivateIdentifier")],n=[],i=Fa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e){return new a(e.name,e.range,e.loc)}get(e,t){return t[to][this.name]}set(e,t){return e.lastScope().getContext()[to][this.name]=t}toString(){return`#${this.name}`}};return a=s})(),ao=(()=>{let e,s,r=[Da("StaticBlock")],n=[],i=Za;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.body),e.range,e.loc)}get(e,t){t?.addStaticInitializerBlock(super.get(e))}toString(){return`static ${super.toString()}`}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return a=s})();class oo extends Na{key;decorators;computed;value;static;constructor(e,t,s,r,n,i,a){super(i,a),this.key=e,this.decorators=t,this.computed=s,this.value=n,this.static=r}getKey(){return this.key}getValue(){return this.value}isComputed(){return this.computed}isStatic(){return this.static}isPrivate(){return this.key instanceof io}getDecorators(){return this.decorators}set(e,t){throw new Error("AbstractDefinition.#set() Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}getKeyName(e){return this.computed?this.key.get(e):this.key instanceof Fa?this.key.getName():this.key.toString()}}let co=(()=>{let e,s,r=[Da("MethodDefinition")],n=[],i=oo;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}kind;static fromJSON(e,t){return new a(e.kind,t(e.key),t(e.value),e.decorators.map(t),e.computed,e.static,e.range,e.loc)}static visit(e,t){t(e.key),t(e.value),e.decorators.forEach(t)}afterInstanceConstruct;constructor(e,t,s,r,n,i,a,o){super(t,r,n,i,s,a,o),this.kind=e}getKind(){return this.kind}getValue(){return this.value}get(e,t){if("constructor"===this.kind)return void this.initConstructor(e,t);const s=this.getKeyName(e),r=this.value?.get(e),n=this.getPropertyAttributes(r);this.isStatic()&&this.isPrivate()?t.addStaticPrivateInitializer(s,n):this.isStatic()?t.addStaticInitializer(s,n):this.isPrivate()?t.addPrivateInstanceMethod(s,n):t.addInstanceMethod(s,n)}getPropertyAttributes(e){switch(this.kind){case"set":return{writable:!0,configurable:!0,enumerable:!1,set:e};case"get":return{writable:!0,configurable:!0,enumerable:!1,get:e};default:return{writable:!0,configurable:!0,enumerable:!1,value:e}}}initConstructor(e,t){const s=this.value.getBody().getBody();let r=s.findIndex((e=>e instanceof Qa&&e.getCallee()instanceof ro));const n=new Za(s.slice(r+1));if(t.setConstructor((function(t){const s=e.pushBlockScope();n.get(e),e.clearTo(s)})),r>=0){const n=new Za(s.slice(0,r)),i=s[r],a=this;t.setParameterResolver((function(t){const s=e.pushBlockScope();a.value.defineFunctionArguments(e,t),n.get(e);const r=i.getCallParameters(e);return e.clearTo(s),r}))}}toString(){let e=this.decorators.map((e=>e.toString())).join(" ");e.length&&(e+=" "),this.static&&(e+="static ");const t=this.key.toString();switch(this.kind){case"get":e+="get "+t;break;case"set":e+="set "+t;break;case"method":this.value.getAsync()&&this.value.getGenerator()?e+="async *":this.value.getAsync()?e+="async ":this.value.getGenerator()&&(e+="*"),e+=t;break;case"constructor":e+="constructor"}return e+=this.value.paramsAndBodyToString(),e}toJson(){return{kind:this.kind,key:this.key.toJSON(),value:this.value.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static}}};return a=s})(),lo=(()=>{let e,s,r=[Da("PropertyDefinition")],n=[],i=oo;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.key),e.decorators.map(t),e.computed,e.static,e.value&&t(e.value),e.range,e.loc)}static visit(e,t){t(e.key),e.value&&t(e.value)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e,t){const s=this.getKeyName(e);if(!this.isStatic())return void t.addInstanceInitializer((()=>({isPrivate:this.isPrivate(),key:s,value:this.value?.get(e)})));const r=this.value?.get(e),n={writable:!0,configurable:!0,enumerable:!0,value:r};this.isPrivate()?t.addStaticPrivateInitializer(s,n):t.addStaticInitializer(s,n)}toString(){const e=this.decorators.map((e=>e.toString())).join("\n"),t=this.computed?`[${this.key.toString()}]`:this.key.toString();return`${e.length?e+" ":""}${this.static?"static ":""}${t}${this.value?` = ${this.value.toString()}`:""};`}toJson(){return{key:this.key.toJSON(),value:this.value?.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static}}};return a=s})(),ho=((()=>{let e,s,r=[Da("AccessorProperty")],n=[],i=oo;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.key),e.decorators.map(t),e.computed,e.static,e.value?t(e.value):void 0,e.range,e.loc)}static visit(e,t){t(e.key),e.value&&t(e.value),e.decorators.forEach(t)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e,t){const s=this.getKeyName(e),r={writable:!1,configurable:!0,enumerable:!1,set:function(e){this[to][s]=e},get:function(){return this[to][s]}};if(!this.isStatic())return t.addInstanceInitializer((()=>({isPrivate:!0,key:s,value:this.value?.get(e)}))),void t.addInstanceMethod(s,r);const n=this.value?.get(e),i={writable:!0,configurable:!0,enumerable:!0,value:n};t.addStaticInitializer(s,r),t.addStaticPrivateInitializer(s,i)}toString(){const e=this.decorators.map((e=>e.toString())).join("\n"),t=this.computed?`[${this.key.toString()}]`:this.key.toString();return`${e.length?e.concat(" "):""}${this.static?"static ":""}accessor ${t}${this.value?` = ${this.value.toString()}`:""};`}toJson(){return{key:this.key.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),computed:this.computed,static:this.static,value:this.value?.toJSON()}}};a=s})(),(()=>{let e,s,r=[Da("ClassBody")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}body;static fromJSON(e,t){return new a(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("Method not implemented.")}get(e,t){this.body.forEach((s=>s.get(e,t)))}dependency(e){throw new Error("Method not implemented.")}dependencyPath(e){throw new Error("Method not implemented.")}toString(){return this.body.map((e=>`\t${e.toString()}`)).join("\n")}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return a=s})());class uo extends Na{body;decorators;id;superClass;constructor(e,t,s,r,n,i){super(n,i),this.body=e,this.decorators=t,this.id=s,this.superClass=r}getBody(){return this.body}getDecorators(){return this.decorators}getId(){return this.id}getSuperClass(){return this.superClass}set(e){throw new Error("Class.#set() has no implementation.")}get(e){e=e.copyStack();const t=this.id?.getName()??eo,s=this.superClass?.get(e)??class{},r=new so,n=this.createClass(s,t,r);return e.pushBlockScopeFor({this:n,super:s}),this.body.get(e,r),r.initClass(n),n}createClass(e,t,s){return{[t]:class extends e{static[Symbol.toStringTag]=t;static[to]={};[to]={};constructor(...e){super(...s.getSuperArguments(e)),s.initInstance(this)}}}[t]}dependency(e){throw new Error("Method not implemented.")}dependencyPath(e){throw new Error("Method not implemented.")}toString(){const e=this.decorators.map((e=>e.toString())).join("\n");let t="class ";return this.id&&(t+=this.id.toString()),this.superClass&&(t+=" extends "+this.superClass.toString()),`${e}${t} {\n${this.body.toString()}\n}`}toJson(){return{body:this.body.toJSON(),decorators:this.decorators.map((e=>e.toJSON())),id:this.id?.toJSON(),superClass:this.superClass?.toJSON()}}}let po=(()=>{let e,s,r=[Da("ClassDeclaration")],n=[],i=uo;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.body),e.decorators.map(t),t(e.id),e.superClass&&t(e.superClass),e.range,e.loc)}static visit(e,t){t(e.body),e.decorators.forEach(t),t(e.id),e.superClass&&t(e.superClass)}constructor(e,t,s,r,n,i){super(e,t,s,r,n,i)}declareVariable(e,t){e.declareVariable(this.id.getName(),t)}getDeclarationName(){return this.id.getDeclarationName()}get(e){const t=super.get(e);return this.id.declareVariable(e,t),t}};return a=s})(),mo=(()=>{let e,s,r=[Da("ClassExpression")],n=[],i=uo;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.body),e.decorators.map(t),e.id&&t(e.id),e.superClass&&t(e.superClass),e.range,e.loc)}static visit(e,t){t(e.body),e.decorators.forEach(t),e.id&&t(e.id),e.superClass&&t(e.superClass)}constructor(e,t,s,r,n,i){super(e,t,s,r,n,i)}};return a=s})();class fo{name;precedence;static CONDITIONAL=new fo("?",3);static NULLISH=new fo("??",3);static PIPELINE=new fo("|>",3);static OR=new fo("||",4);static AND=new fo("&&",5);static BIT_OR=new fo("|",6);static BIT_XOR=new fo("^",7);static BIT_AND=new fo("&",8);static SHL=new fo("<<",11);static SAR=new fo(">>",11);static SHR=new fo(">>>",11);static MUL=new fo("*",13);static DIV=new fo("/",13);static MOD=new fo("%",13);static MODULO=new fo("%%",13);static LARGER=new fo(">?",13);static SMALLER=new fo("<?",13);static EXP=new fo("**",14);static ADD=new fo("+",12);static SUB=new fo("-",12);static NOT=new fo("!",0);static BIT_NOT=new fo("~",0);static LT=new fo("<",10);static GT=new fo(">",10);static INC=new fo("++",0);static DEC=new fo("--",0);static EQ=new fo("==",9);static EQ_STRICT=new fo("===",9);static NE=new fo("!=",9);static NE_STRICT=new fo("!==",9);static LTE=new fo("<=",10);static GTE=new fo(">=",10);static SPACESHIP=new fo("<=>",10);static ASSIGN=new fo("=",2);static ADD_ASSIGN=new fo("+=",2);static SUB_ASSIGN=new fo("-=",2);static MUL_ASSIGN=new fo("*=",2);static DIV_ASSIGN=new fo("/=",2);static MOD_ASSIGN=new fo("%=",2);static MODULO_ASSIGN=new fo("%%=",2);static LARGER_ASSIGN=new fo(">?=",2);static SMALLER_ASSIGN=new fo("<?=",2);static EXP_ASSIGN=new fo("**=",2);static BIT_XOR_ASSIGN=new fo("^=",2);static BIT_AND_ASSIGN=new fo("&=",2);static BIT_OR_ASSIGN=new fo("|=",2);static AND_ASSIGN=new fo("&&=",2);static OR_ASSIGN=new fo("||=",2);static NULLISH_ASSIGN=new fo("??=",2);static SHL_ASSIGN=new fo("<<=",2);static SAR_ASSIGN=new fo(">>=",2);static SHR_ASSIGN=new fo(">>>=",2);static PERIOD=new fo(".",0);static QUESTION_PERIOD=new fo("?.",0);static BIND=new fo("::",0);static QUESTION_BIND=new fo("?::",0);static LPAREN=new fo("(",0);static RPAREN=new fo(")",0);static LBRACK=new fo("[",0);static RBRACK=new fo("]",0);static LBRACE=new fo("{",0);static RBRACE=new fo("}",0);static COLON=new fo(":",0);static ELLIPSIS=new fo("...",0);static SEMICOLON=new fo(";",0);static EOS=new fo("EOS",0);static ARROW=new fo("=>",0);static COMMA=new fo(",",1);static ASYNC=new fo("async",0);static AWAIT=new fo("await",0);static BREAK=new fo("break",0);static CASE=new fo("case",0);static CATCH=new fo("catch",0);static CLASS=new fo("class",0);static CONST=new fo("const",0);static CONTINUE=new fo("continue",0);static DEBUGGER=new fo("debugger",0);static DEFAULT=new fo("default",0);static DELETE=new fo("delete",0);static DO=new fo("do",0);static ELSE=new fo("else",0);static ENUM=new fo("enum",0);static EXPORT=new fo("export",0);static EXTENDS=new fo("extends",0);static FALSE_LITERAL=new fo("false",0);static FINALLY=new fo("finally",0);static FOR=new fo("for",0);static FUNCTION=new fo("function",0);static GET=new fo("get",0);static IF=new fo("if",0);static IMPLEMENTS=new fo("implements",0);static IMPORT=new fo("import",0);static PRIVATE_NAME=new fo("PRIVATE_NAME",0);static IN=new fo("in",10);static INSTANCEOF=new fo("instanceof",10);static LET=new fo("let",0);static NEW=new fo("new",0);static NULL_LITERAL=new fo("null",0);static UNDEFINED_LITERAL=new fo("undefined",0);static PACKAGE=new fo("package",0);static INTERFACE=new fo("interface",0);static PRIVATE=new fo("private",0);static PROTECTED=new fo("protected",0);static PUBLIC=new fo("public",0);static RETURN=new fo("return",0);static SET=new fo("set",0);static STATIC=new fo("static",0);static SUPER=new fo("super",0);static SWITCH=new fo("switch",0);static THIS=new fo("this",0);static THROW=new fo("throw",0);static TRUE_LITERAL=new fo("true",0);static TRY=new fo("try",0);static TYPEOF=new fo("typeof",0);static VAR=new fo("var",0);static VOID=new fo("void",0);static WHILE=new fo("while",0);static WITH=new fo("with",0);static YIELD=new fo("yield",0);static NUMBER=new fo("NUMBER",0);static BIGINT=new fo("BIGINT",0);static STRING=new fo("STRING",0);static IDENTIFIER=new fo("IDENTIFIER",0);static TEMPLATE_SPAN=new fo("TEMPLATE_SPAN",0);static TEMPLATE_TAIL=new fo("TEMPLATE_TAIL",0);static ILLEGAL=new fo("ILLEGAL",0);static ESCAPED_KEYWORD=new fo("ESCAPED_KEYWORD",0);static WHITESPACE=new fo("WHITESPACE",0);static REGEXP_LITERAL=new fo("REGEXP_LITERAL",0);static isPair(e){switch(e){case fo.LPAREN:case fo.LBRACK:case fo.LBRACE:case fo.RBRACE:case fo.RBRACK:case fo.RPAREN:return!0;default:return!1}}static isOpenPair(e){switch(e){case fo.LPAREN:case fo.LBRACK:case fo.LBRACE:return!0;default:return!1}}static isClosePair(e){switch(e){case fo.RBRACE:case fo.RBRACK:case fo.RPAREN:return!0;default:return!1}}static openOf(e){switch(e){case fo.RBRACE:return fo.LBRACE;case fo.RBRACK:return fo.LBRACK;case fo.RPAREN:return fo.LPAREN}return e}static closeOf(e){switch(e){case fo.LBRACE:return fo.RBRACE;case fo.LBRACK:return fo.RBRACK;case fo.LPAREN:return fo.RPAREN}return e}static isAnyIdentifier(e){switch(e){case fo.IDENTIFIER:case fo.GET:case fo.SET:case fo.ASYNC:case fo.AWAIT:case fo.YIELD:case fo.LET:case fo.STATIC:return!0}return!1}static isIdentifier(e){switch(e){case fo.IDENTIFIER:case fo.GET:case fo.SET:case fo.ASYNC:return!0}return!1}static isLiteral(e){switch(e){case fo.UNDEFINED_LITERAL:case fo.NULL_LITERAL:case fo.TRUE_LITERAL:case fo.FALSE_LITERAL:case fo.NUMBER:case fo.BIGINT:case fo.STRING:case fo.REGEXP_LITERAL:return!0}return!1}static isArrowOrAssignmentOp(e){return e===fo.ARROW||this.isAssignment(e)}static isAssignment(e){switch(e){case fo.ASSIGN:case fo.ADD_ASSIGN:case fo.SUB_ASSIGN:case fo.MUL_ASSIGN:case fo.DIV_ASSIGN:case fo.MOD_ASSIGN:case fo.MODULO_ASSIGN:case fo.EXP_ASSIGN:case fo.BIT_XOR_ASSIGN:case fo.BIT_AND_ASSIGN:case fo.BIT_OR_ASSIGN:case fo.AND_ASSIGN:case fo.OR_ASSIGN:case fo.NULLISH_ASSIGN:case fo.SHL_ASSIGN:case fo.SAR_ASSIGN:case fo.SHR_ASSIGN:return!0}return!1}static isLogicalAssignmentOp(e){switch(e){case fo.AND_ASSIGN:case fo.OR_ASSIGN:case fo.NULLISH_ASSIGN:return!0}return!1}static isAutoSemicolon(e){switch(e){case fo.SEMICOLON:case fo.RBRACE:case fo.EOS:return!0}return!1}static isMember(e){switch(e){case fo.TEMPLATE_SPAN:case fo.TEMPLATE_TAIL:case fo.PERIOD:case fo.LBRACK:return!0}return!1}static isTemplate(e){switch(e){case fo.TEMPLATE_SPAN:case fo.TEMPLATE_TAIL:return!0}return!1}static isNextLetKeyword(e){switch(e){case fo.LBRACE:case fo.LBRACK:case fo.IDENTIFIER:case fo.STATIC:case fo.LET:case fo.YIELD:case fo.AWAIT:case fo.GET:case fo.SET:case fo.ASYNC:return!0;default:return!1}}static isInRangeIdentifierAndAsync(e){switch(e){case fo.IDENTIFIER:case fo.GET:case fo.SET:case fo.ASYNC:return!0;default:return!1}}static isPropertyOrCall(e){switch(e){case fo.TEMPLATE_SPAN:case fo.TEMPLATE_TAIL:case fo.PERIOD:case fo.LBRACK:case fo.QUESTION_PERIOD:case fo.LPAREN:return!0}return!1}static isPropertyName(e){return/\w/.test(e.getName())}static isInRange(e,t,s){return e>=t.precedence&&e<=s.precedence}static isProperty(e){return e instanceof fo&&(e=e.precedence),fo.isInRange(e,fo.PERIOD,fo.LBRACK)}static isBinary(e){return e instanceof fo&&(e=e.precedence),fo.isInRange(e,fo.COMMA,fo.SUB)}static isCompare(e){switch(e){case fo.EQ:case fo.EQ_STRICT:case fo.NE:case fo.NE_STRICT:case fo.LT:case fo.GT:case fo.LTE:case fo.GTE:case fo.SPACESHIP:case fo.INSTANCEOF:case fo.IN:return!0}return!1}static isOrderedRelationalCompare(e){switch(e){case fo.LT:case fo.GT:case fo.LTE:case fo.GTE:case fo.SPACESHIP:return!0}return!1}static isEquality(e){switch(e){case fo.EQ:case fo.EQ_STRICT:return!0}return!1}static binaryOpForAssignment(e){if(fo.isInRange(e.precedence,fo.NULLISH_ASSIGN,fo.SUB_ASSIGN)){const t=e.precedence-fo.NULLISH_ASSIGN.precedence+fo.NULLISH.precedence;return fo.isBinary(t)}return!1}static isBitOp(e){switch(e){case fo.BIT_NOT:case fo.BIT_OR:case fo.BIT_XOR:case fo.BIT_AND:case fo.SHL:case fo.SAR:case fo.SHR:return!0}return!1}static isUnary(e){switch(e){case fo.ADD:case fo.SUB:case fo.NOT:case fo.BIT_NOT:case fo.DELETE:case fo.AWAIT:case fo.TYPEOF:case fo.VOID:return!0}return!1}static isCount(e){switch(e){case fo.INC:case fo.DEC:return!0}return!1}static isUnaryOrCount(e){switch(e){case fo.ADD:case fo.SUB:case fo.INC:case fo.DEC:case fo.NOT:case fo.BIT_NOT:case fo.DELETE:case fo.AWAIT:case fo.TYPEOF:case fo.VOID:return!0}return!1}static isShift(e){switch(e){case fo.SHL:case fo.SAR:case fo.SHR:return!0}return!1}static isStrictReservedWord(e){switch(e){case fo.IMPLEMENTS:case fo.INTERFACE:case fo.LET:case fo.PACKAGE:case fo.PRIVATE:case fo.PROTECTED:case fo.PUBLIC:case fo.STATIC:return!0}return!1}static isPipelineOperator(e){return e===fo.PIPELINE}static isValidIdentifier(e,t,s,r){return!!fo.isInRangeIdentifierAndAsync(e)||(e==fo.AWAIT?!r:e==fo.YIELD?!s:fo.isStrictReservedWord(e)&&Ta(t))}static precedence(e,t){return t||fo.IN!==e?e.getPrecedence():0}constructor(e,t){this.name=e,this.precedence=t}getName(){return this.name}getPrecedence(){return this.precedence}equal(e){return this===e||this.name===e.name}}class go{token;range;value;constructor(e,t,s){this.token=e,this.range=t,this.value=s}getValue(){return this.value}isType(e){return this.token===e}isNotType(e){return this.token!==e}test(e){return e(this.token,this.value)}toString(){return JSON.stringify(this)}}function yo(e,t,s){return e>=t&&e<=s}var bo,So,Eo,wo,vo,Ao,xo;function To(e){return e===So.AccessorGetter||e===So.AccessorSetter}!function(e){e[e.CertainlyNotArrowHead=0]="CertainlyNotArrowHead",e[e.MaybeArrowHead=1]="MaybeArrowHead",e[e.AsyncArrowFunction=2]="AsyncArrowFunction"}(bo||(bo={})),function(e){e[e.Value=0]="Value",e[e.Shorthand=1]="Shorthand",e[e.ShorthandOrClassField=2]="ShorthandOrClassField",e[e.Assign=3]="Assign",e[e.Method=4]="Method",e[e.ClassField=5]="ClassField",e[e.AccessorGetter=6]="AccessorGetter",e[e.AccessorSetter=7]="AccessorSetter",e[e.Spread=8]="Spread",e[e.NotSet=9]="NotSet"}(So||(So={})),function(e){e[e.ObjectLiteral=0]="ObjectLiteral",e[e.ClassLiteral=1]="ClassLiteral"}(Eo||(Eo={}));class ko{name;position=Eo.ClassLiteral;funcFlag=Ao.IsNormal;kind=So.NotSet;isComputedName=!1;isPrivate=!1;isStatic=!1;isRest=!1;rangeStart;parsePropertyKindFromToken(e){switch(e){case fo.COLON:return this.kind=So.Value,!0;case fo.COMMA:return this.kind=So.Shorthand,!0;case fo.RBRACE:return this.kind=So.ShorthandOrClassField,!0;case fo.ASSIGN:return this.kind=So.Assign,!0;case fo.LPAREN:return this.kind=So.Method,!0;case fo.MUL:case fo.SEMICOLON:return this.kind=So.ClassField,!0}return!1}}!function(e){e[e.NullIdentifier=0]="NullIdentifier",e[e.UnknownIdentifier=1]="UnknownIdentifier",e[e.EvalIdentifier=2]="EvalIdentifier",e[e.ArgumentsIdentifier=3]="ArgumentsIdentifier",e[e.ConstructorIdentifier=4]="ConstructorIdentifier",e[e.AwaitIdentifier=5]="AwaitIdentifier",e[e.AsyncIdentifier=6]="AsyncIdentifier",e[e.NameIdentifier=7]="NameIdentifier",e[e.PrivateNameIdentifier=8]="PrivateNameIdentifier"}(wo||(wo={})),function(e){e[e.EXPRESSION=0]="EXPRESSION",e[e.BLOCK=1]="BLOCK"}(vo||(vo={})),function(e){e[e.IsNormal=0]="IsNormal",e[e.IsGenerator=1]="IsGenerator",e[e.IsAsync=2]="IsAsync"}(Ao||(Ao={})),function(e){e[e.NormalFunction=0]="NormalFunction",e[e.Module=1]="Module",e[e.AsyncModule=2]="AsyncModule",e[e.BaseConstructor=3]="BaseConstructor",e[e.DefaultBaseConstructor=4]="DefaultBaseConstructor",e[e.DefaultDerivedConstructor=5]="DefaultDerivedConstructor",e[e.DerivedConstructor=6]="DerivedConstructor",e[e.GetterFunction=7]="GetterFunction",e[e.StaticGetterFunction=8]="StaticGetterFunction",e[e.SetterFunction=9]="SetterFunction",e[e.StaticSetterFunction=10]="StaticSetterFunction",e[e.ArrowFunction=11]="ArrowFunction",e[e.AsyncArrowFunction=12]="AsyncArrowFunction",e[e.AsyncFunction=13]="AsyncFunction",e[e.AsyncConciseMethod=14]="AsyncConciseMethod",e[e.StaticAsyncConciseMethod=15]="StaticAsyncConciseMethod",e[e.AsyncConciseGeneratorMethod=16]="AsyncConciseGeneratorMethod",e[e.StaticAsyncConciseGeneratorMethod=17]="StaticAsyncConciseGeneratorMethod",e[e.AsyncGeneratorFunction=18]="AsyncGeneratorFunction",e[e.GeneratorFunction=19]="GeneratorFunction",e[e.ConciseGeneratorMethod=20]="ConciseGeneratorMethod",e[e.StaticConciseGeneratorMethod=21]="StaticConciseGeneratorMethod",e[e.ConciseMethod=22]="ConciseMethod",e[e.StaticConciseMethod=23]="StaticConciseMethod",e[e.ClassMembersInitializerFunction=24]="ClassMembersInitializerFunction",e[e.ClassStaticInitializerFunction=25]="ClassStaticInitializerFunction",e[e.Invalid=26]="Invalid",e[e.LastFunctionKind=25]="LastFunctionKind"}(xo||(xo={}));const Co=[[[xo.NormalFunction,xo.AsyncFunction],[xo.GeneratorFunction,xo.AsyncGeneratorFunction]],[[xo.ConciseMethod,xo.AsyncConciseMethod],[xo.ConciseGeneratorMethod,xo.AsyncConciseGeneratorMethod]],[[xo.StaticConciseMethod,xo.StaticAsyncConciseMethod],[xo.StaticConciseGeneratorMethod,xo.StaticAsyncConciseGeneratorMethod]]];var No,Oo,_o,Io,Po,Ro,Lo,Do,Mo;function Fo(e){return yo(e,xo.Module,xo.AsyncModule)}function Bo(e){return yo(e,xo.AsyncConciseGeneratorMethod,xo.AsyncGeneratorFunction)}function jo(e){return yo(e,xo.AsyncConciseGeneratorMethod,xo.StaticConciseGeneratorMethod)}function Ho(e){return yo(e,xo.AsyncArrowFunction,xo.AsyncGeneratorFunction)}function $o(e){return!Fo(e)&&(Ho(e)||e==xo.ClassStaticInitializerFunction)}!function(e){e[e.NormalFunction=0]="NormalFunction",e[e.NonStaticMethod=1]="NonStaticMethod",e[e.StaticMethod=2]="StaticMethod"}(No||(No={})),function(e){e[e.NotStatic=0]="NotStatic",e[e.Static=1]="Static"}(Oo||(Oo={})),function(e){e[e.AnonymousExpression=0]="AnonymousExpression",e[e.NamedExpression=1]="NamedExpression",e[e.Declaration=2]="Declaration",e[e.AccessorOrMethod=3]="AccessorOrMethod",e[e.Wrapped=4]="Wrapped",e[e.LastFunctionSyntaxKind=4]="LastFunctionSyntaxKind"}(_o||(_o={})),function(e){e.FunctionNameIsStrictReserved="FunctionNameIsStrictReserved",e.SkipFunctionNameCheck="SkipFunctionNameCheck",e.FunctionNameValidityUnknown="FunctionNameValidityUnknown"}(Io||(Io={})),function(e){e.CONSTANT="CONSTANT",e.COMPUTED="COMPUTED",e.MATERIALIZED_LITERAL="MATERIALIZED_LITERAL",e.GETTER="GETTER",e.SETTER="SETTER",e.PROTOTYPE="PROTOTYPE",e.SPREAD="SPREAD"}(Po||(Po={})),function(e){e.METHOD="METHOD",e.GETTER="GETTER",e.SETTER="SETTER",e.FIELD="FIELD"}(Ro||(Ro={}));class Vo{static Kind=Ro}function Go(e){switch(e){case So.AccessorGetter:return Ro.GETTER;case So.AccessorSetter:return Ro.SETTER;case So.Method:return Ro.METHOD;case So.ClassField:return Ro.FIELD}throw new Error(`unexpected property kind: ${e}`)}!function(e){e.Const="Const",e.PrivateMethod="PrivateMethod",e.PrivateGetterOnly="PrivateGetterOnly",e.PrivateSetterOnly="PrivateSetterOnly"}(Lo||(Lo={})),function(e){e[e.StatementListItem=0]="StatementListItem",e[e.Statement=1]="Statement",e[e.ForStatement=2]="ForStatement"}(Do||(Do={})),function(e){e[e.AllowLabelledFunctionStatement=0]="AllowLabelledFunctionStatement",e[e.DisallowLabelledFunctionStatement=1]="DisallowLabelledFunctionStatement"}(Mo||(Mo={}));let Jo=(()=>{let e,s,r=[Da("EmptyStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e){return new a(e.range,e.loc)}constructor(e,t){super(e,t)}set(e,t){throw new Error("EmptyStatement#set() has no implementation.")}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return";"}toJson(){return{}}};return a=s})(),Uo=(()=>{let e,s,r=[Da("DebuggerStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e){return new a(e.range,e.loc)}set(e,t){throw new Error("DebuggerStatement#set() has no implementation.")}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return"debugger"}toJson(){return{}}};return a=s})();const zo=["200b","200c","200d","feff"],Wo=/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/,Ko=/[_$a-zA-Z\xA0-\uFFFF]/,qo=/[_$a-zA-Z0-9\xA0-\uFFFF]/;class Zo{string;range;constructor(e,t){this.string=e,this.range=t}}class Yo{mode;static getTokenStream(e,t){if(Array.isArray(e))return new Xo(e,t);if("string"==typeof e)return new Qo(e,t);throw new Error(`Can't build token stream for ${e}`)}pos=0;savedPosition=0;current;savedCurrent;last;constructor(e=Aa.Strict){this.mode=e}setLanguageMode(e){this.mode=e}getLanguageMode(){return this.mode}save(){this.savedPosition=this.pos,this.savedCurrent=this.current}restore(){this.pos=this.savedPosition,this.current=this.savedCurrent,this.last=void 0}reset(){this.pos=0,this.savedPosition=0,this.current=this.savedCurrent=void 0}lastToken(){return this.last}currentToken(){return this.current}seekTo(e){let t;for(;;){if(t=this.next(),t.token===e)return!0;if(t.token===fo.EOS)return!1}}getPos(){return this.pos}setPos(e){this.pos=e,this.current=void 0}getSavedPos(){return this.savedPosition}getStreamer(e=fo.EOS){const t=[];return this.readTill(e,t),new Xo(t)}readTill(e=fo.EOS,t){fo.isClosePair(e)?this.readTokensPair(fo.openOf(e),e,t):this.readTokens(e,t)}readTokens(e,t){let s;for(;s=this.next(),s.token!==e&&s.token!==fo.EOS;)t.push(s)}readTokensConsiderPair(e,...t){let s,r;for(;;)if(fo.isOpenPair(r=this.peek().token))this.readTokensPair(r,fo.closeOf(r),e);else{if(s=this.next(),t.includes(s.token)||s.token===fo.EOS)break;e.push(s)}}readTokensPair(e,t,s){let r,n=0;for(;;){if(r=this.next(),r.token===e)n++;else if(r.token===t){if(n>0&&n--,0===n){s.push(r);break}}else if(r.token===fo.EOS)break;s.push(r)}}toTokens(){const e=[];let t;for(;t=this.next(),t.token!==fo.EOS;)e.push(t);return e}[Symbol.iterator](){this.pos=0;const e=this;return{[Symbol.iterator]:function(){return this},next:()=>{const t=e.next(),s=t.isType(fo.EOS);return{value:t,done:s}}}}scanRegExpPattern(){return!1}peek(){this.save();const e=this.next();return this.restore(),e}peekAhead(){this.save(),this.next();const e=this.next();return this.restore(),e}peekPosition(){this.save(),this.next();const e=this.pos;return this.restore(),e}peekAheadPosition(){this.save(),this.next(),this.next();const e=this.pos;return this.restore(),e}}class Xo extends Yo{tokens;constructor(e,t){super(t),this.tokens=e}next(){return this.pos===this.tokens.length?new go(fo.EOS,[-1,-1]):(this.last=this.current,this.current=this.tokens[this.pos++])}createError(e){return"parse error ["+this.pos+"]: "+e}hasLineTerminatorBeforeNext(){return!1}hasLineTerminatorAfterNext(){return!1}scanTemplateContinuation(){return this.next()}}class Qo extends Yo{expression;static REGEXP_FLAGS=["g","i","m","s","u","y"];static UnicodePattern=/^[0-9a-f]{4}$/i;static DecimalPattern=/^[0-9a-f]{2}$/i;static AsciiPattern=/^[0-7]{1,3}$/i;static OctalPattern=/^[0-7]+$/i;constructor(e,t){super(t),this.expression=e}newToken(e,t,s){return new go(e,t,s)}next(){if(this.pos>=this.expression.length)return this.current=this.newToken(fo.EOS,[this.expression.length,this.expression.length]);if(this.last=this.current,this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isString()||this.isTemplateLiteral()||this.isCurlY()||this.isParentheses()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isOperator()||this.isStatement()||this.isProperty())return this.current;if(this.pos>=this.expression.length)return this.current=this.newToken(fo.EOS,[this.expression.length,this.expression.length]);throw new Error(this.createError('Unknown character "'+this.expression.charAt(this.pos)+'"'))}hasLineTerminatorBeforeNext(){const e=this.peekPosition(),t=this.expression.substring(this.pos,e);return/(?:\r?\n)/g.test(t)}hasLineTerminatorAfterNext(){const e=this.peekPosition(),t=this.peekAheadPosition(),s=this.expression.substring(e,t);return/(?:\r?\n)/g.test(s)}isString(){const e=this.expression.charAt(this.pos);if("'"===e||'"'===e){const t=this.pos;let s=[],r="";const n=()=>{r=this.expression.charAt(++this.pos)},i=e=>{for(;;){if(r=this.expression.charAt(++this.pos),this.pos>=this.expression.length)return;if(e(r))break}},a=e=>s.push(e);for(;;){for(i((e=>e.charCodeAt(0)>127?!!this.isStringLiteralLineTerminator(e)||(a(e),!1):!!this.mayTerminateString(e)||(a(r),!1)));"\\"===r;){n();const e=this.scanEscape(!1);if(""==e||!e)return!1;a(e),n()}if(r===e){n();const e=this.pos,r=s.join(""),i=this.expression.substring(t,e),a=[t,e],o=new ja(r,i,void 0,void 0,a);return this.current=this.newToken(fo.STRING,a,o),!0}if(""==r||this.pos>=this.expression.length)break;a(r)}}return!1}isTemplateLiteral(){return"`"===this.expression.charAt(this.pos)&&(this.pos++,this.current=this.scanTemplateSpan(),!0)}scanTemplateSpan(){const e=this.pos;let t=fo.TEMPLATE_SPAN,s=[],r=this.expression.charAt(this.pos);const n=()=>{this.pos++,r=this.expression.charAt(this.pos)},i=e=>s.push(e);for(;;){let e=r;if("`"==e){n(),t=fo.TEMPLATE_TAIL;break}if("$"==e&&"{"==this.expression.charAt(this.pos+1)){n(),n();break}if("\\"==e)if(n(),this.isLineTerminator(r)){let e=r;n(),"\r"==e&&("\n"==r&&n(),e="\n"),i(e)}else{const e=this.scanEscape(!0);if(!1===e)throw new SyntaxError(this.createError("Unterminated Template Escape char"));i(e),n()}else{if(""==e||this.pos>=this.expression.length)break;n(),"\r"==e&&("\n"==r&&n(),e="\n"),i(e)}}const a=[e-1,this.pos];return this.newToken(t,a,new Zo(s.join(""),a))}scanTemplateContinuation(){if(this.current.isNotType(fo.RBRACE))throw new SyntaxError(this.createError("Unterminated Template Expr"));return this.scanTemplateSpan()}scanEscape(e){let t=this.expression.charAt(this.pos);if(!e&&this.isLineTerminator(t))return"\r"==t&&"\n"==this.expression.charAt(this.pos+1)&&this.pos++,"\n";switch(t){case"b":t="\b";break;case"f":t="\f";break;case"n":t="\n";break;case"r":t="\r";break;case"t":t="\t";break;case"u":if(this.pos++,t=this.scanUnicodeEscape(),!1===t)return!1;break;case"v":t="\v";break;case"x":if(this.pos++,t=this.scanHexNumber(2),!1===t)return!1;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":this.pos++,t=this.scanOctalEscape(t,2);break;case"8":case"9":throw new SyntaxError(this.createError("'\\8' and '\\9' are disallowed in strict mode."))}return t}scanUnicodeEscape(){let e=this.expression.charAt(this.pos);if("{"==e){this.pos++;const t=this.scanUnlimitedLengthHexNumber(1114111);return e=this.expression.charAt(++this.pos),"}"==e&&t}return this.scanHexNumber(4)}scanHexNumber(e){if(e>4)throw new RangeError(this.createError("ScanHexNumber: length should be less than or equal to 4"));let t=0,s=this.pos,r=this.expression.charAt(s);for(let n=0;n<e;n++){let e=this.hexValue(r);if(e<0)return!1;t=16*t+e,r=this.expression.charAt(++s)}return this.pos=s-1,String.fromCodePoint(t)}scanUnlimitedLengthHexNumber(e){let t=0,s=this.pos,r=this.expression.charAt(s),n=this.hexValue(r);if(n<0)throw new RangeError(this.createError("Invalid code"));for(;n>=0;){if(t=16*t+n,t>e)throw new RangeError(this.createError("Undefined Unicode Code Point"));r=this.expression.charAt(++s),n=this.hexValue(r)}return this.pos=s-1,String.fromCodePoint(t)}hexValue(e){let t=e.charCodeAt(0)-"0".charCodeAt(0);return t<=9?t:(t=(32|t)-("a".charCodeAt(0)-"0".charCodeAt(0)),t<=5?t+10:-1)}scanOctalEscape(e,t){if(!("0"<=e&&e<="7"))throw new SyntaxError(this.createError("Invalid octal escape sequence"));const s="0".charCodeAt(0);let r=e.charCodeAt(0)-s,n=0,i=0,a="";for(;i<t;i++){a=this.expression.charAt(this.pos+i);let e=a.charCodeAt(0)-s;if(e<0||e>7)break;const t=8*r+e;if(t>=256)break;r=t,n++}return this.pos+=n-1,String.fromCharCode(r)}isParentheses(){const e=this.expression.charAt(this.pos);return"("===e?(this.current=this.newToken(fo.LPAREN,[this.pos,++this.pos]),!0):")"===e&&(this.current=this.newToken(fo.RPAREN,[this.pos,++this.pos]),!0)}isBracket(){const e=this.expression.charAt(this.pos);return"["===e?(this.current=this.newToken(fo.LBRACK,[this.pos,++this.pos]),!0):"]"===e&&(this.current=this.newToken(fo.RBRACK,[this.pos,++this.pos]),!0)}isCurlY(){const e=this.expression.charAt(this.pos);return"{"===e?(this.current=this.newToken(fo.LBRACE,[this.pos,++this.pos]),!0):"}"===e&&(this.current=this.newToken(fo.RBRACE,[this.pos,++this.pos]),!0)}isComma(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(fo.COMMA,[this.pos,++this.pos]),!0)}isSemicolon(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(fo.SEMICOLON,[this.pos,++this.pos]),!0)}isProperty(){let e=this.pos,t=e,s=!1,r=!1,n=!1,i=this.expression.charAt(t);if("#"===i&&(s=!0,e++,t++),i=this.expression.charAt(t),Ko.test(i))t++;else{if("\\"!==i||"u"!==this.expression.charAt(t+1))return!1;t+=2,n=r=!0}for(;t<this.expression.length;t++)if(i=this.expression.charAt(t),!qo.test(i)){if("\\"===i&&"u"===this.expression.charAt(t+1)){t++,n=r=!0;continue}if("{"===i&&n){const e=this.expression.indexOf("}",t+1);if(-1===e)return!1;n=!1,t=e;continue}break}let a,o=this.expression.substring(e,t);if(r){if(o=this.unescape(o),!Wo.test(o))return!1;this.pos=t}else this.pos+=o.length+(s?1:0);if(s){const t=[e-1,this.pos];a=new io(o,t),this.current=this.newToken(fo.PRIVATE_NAME,t,a)}else{const t=[e,this.pos];switch(o){case"this":this.current=this.newToken(fo.THIS,t);break;case"null":this.current=this.newToken(fo.NULL_LITERAL,t,new ja(null,void 0,void 0,void 0,t));break;case"undefined":this.current=this.newToken(fo.UNDEFINED_LITERAL,t,new ja(void 0,void 0,void 0,void 0,t));break;case"true":this.current=this.newToken(fo.TRUE_LITERAL,t,new ja(!0,void 0,void 0,void 0,t));break;case"false":this.current=this.newToken(fo.FALSE_LITERAL,t,new ja(!1,void 0,void 0,void 0,t));break;case"globalThis":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("globalThis",t));break;case"Symbol":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("Symbol",t));break;case"of":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("of",t));break;case"as":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("as",t));break;case"default":this.current=this.newToken(fo.DEFAULT,t,new Fa("default",t));break;case"yield":this.current=this.newToken(fo.YIELD,t,new Fa("yield",t));break;case"constructor":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("constructor",t));break;case"arguments":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("arguments",t));break;case"name":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("name",t));break;case"eval":this.current=this.newToken(fo.IDENTIFIER,t,new Fa("eval",t));break;case"debugger":this.current=this.newToken(fo.DEBUGGER,t,new Uo(t));break;case"class":this.current=this.newToken(fo.CLASS,t);break;case"await":this.current=this.newToken(fo.AWAIT,t,new Fa("await",t));break;case"async":this.current=this.newToken(fo.ASYNC,t,new Fa("async",t));break;default:a=new Fa(o,t),this.current=this.newToken(fo.IDENTIFIER,t,a)}}return!0}isWhitespace(){let e=!1;for(;zo.includes(this.expression.charCodeAt(this.pos).toString(16));)this.pos++;let t=this.expression.charAt(this.pos);for(;/\s/.test(t)&&(e=!0,this.pos++,!(this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e}isComment(){const e=this.expression.charAt(this.pos),t=this.expression.charAt(this.pos+1);let s,r;switch(!0){case"/"===e&&"/"===t:s="\n",r=this.expression.indexOf(s,this.pos);break;case"/"===e&&"*"===t:if(s="*/",r=this.expression.indexOf(s,this.pos),-1===r)throw new SyntaxError(this.createError("Invalid or unexpected token"));break;case"<"===e&&"!"===t:if("\x3c!--"===this.expression.substring(this.pos,this.pos+4)){if(ka(this.mode))throw new SyntaxError("Html Comment not allowed In Module");const e=this.expression.indexOf("\n",this.pos),t=this.expression.indexOf("--\x3e",this.pos);e<t?(s="\n",r=e):t<e?(s="--\x3e",r=t):(s="",r=-1);break}case"-"===e&&"-"===t:if("--\x3e"===this.expression.substring(this.pos,this.pos+3)){if(ka(this.mode))throw new SyntaxError("Html Comment not allowed In Module");let e=this.expression.lastIndexOf("\n",this.pos+1);-1==e&&(e=0);let t=this.expression.substring(e,this.pos+3);if(!/^\s*-->$/g.test(t)){let e=t.lastIndexOf("*/");if(-1==e)return!1;if(t=t.substring(e+2),!/^\s*-->$/g.test(t))return!1}r=this.expression.indexOf("\n",this.pos),s="\n";break}default:return!1}return this.pos=-1==r?this.expression.length:r+s.length,!0}isLineTerminator(e){return/[\n\r\u2028\u2029]/.test(e)}isStringLiteralLineTerminator(e){return/[\n\r]/.test(e)}mayTerminateString(e){return"'"==e||'"'==e||"\n"==e||"\r"==e||"\\"==e}scanRegExpPattern(){const e=this.peek();if(!e.isType(fo.DIV)&&!e.isType(fo.DIV_ASSIGN))return!1;const t=this.pos;this.next();let s=e.isType(fo.DIV_ASSIGN)?"=":"",r=this.pos,n=!1,i=this.expression.charAt(r);for(;"/"!==i||n;){if(""==i||this.isLineTerminator(i))return!1;if("\\"===i){if(s+=i,i=this.expression.charAt(++r),""==i||this.isLineTerminator(i))return!1;s+=i,i=this.expression.charAt(++r)}else"["==i&&(n=!0),"]"==i&&(n=!1),s+=i,i=this.expression.charAt(++r)}r++;let a="";const o=Qo.REGEXP_FLAGS.slice();for(;;){const e=this.expression.charCodeAt(r),t=this.expression.charAt(r);if(/[\.\s]/.test(t)||Number.isNaN(e))break;const s=o.indexOf(t);if(-1===s){if(a.includes(t))throw new Error(this.createError("Invalid regular expression flags"));break}a+=t,o.splice(s,1),r++}const c=[t,r],l=new ja(new RegExp(s,a),`/${s}/${a}`,{pattern:s,flags:a},void 0,c);return this.current=this.newToken(fo.REGEXP_LITERAL,c,l),this.pos=r,!0}unescape(e){let t=e.indexOf("\\");if(t<0)return e;let s=e.substring(0,t);for(;t>=0;){const r=e.charAt(++t);switch(r){case"\b":case"\f":case"\n":case"\r":case"\t":case"\v":t++,s+="\\"+r;break;case"b":t++,s+="\b";break;case"f":t++,s+="\f";break;case"n":t++,s+="\n";break;case"r":t++,s+="\r";break;case"t":t++,s+="\t";break;case"v":t++,s+="\v";break;case"u":if(t++,"{"===e.charAt(t)){t++;const r=t,n=e.indexOf("}",r+1),i=e.substring(r,n);s+=String.fromCodePoint(parseInt(i,16)),t=n+1}else{const r=e.substring(t,t+4);if(!Qo.UnicodePattern.test(r))throw new Error(this.createError("Illegal escape sequence: \\u "+r));s+=String.fromCodePoint(parseInt(r,16)),t+=4}break;case"x":{t++;let r=e.substring(t,t+2);if(!Qo.DecimalPattern.test(r))throw new Error(this.createError("Illegal escape sequence: \\x "+r));s+=String.fromCharCode(parseInt(r,16)),t+=2;break}default:if(!Number.isNaN(parseInt(r,8))){let n=r;for(const s of[1,2]){const r=e.charAt(t+s);if(Number.isNaN(parseInt(r,8)))break;n+=r}if(!Qo.AsciiPattern.test(n))throw new Error(this.createError("Illegal escape sequence: ASCII 8 base, "+n));s+=String.fromCharCode(parseInt(n,8)),t+=n.length;break}t++,s+=r}let n=e.indexOf("\\",t);if(-1==n){s+=e.substring(t,e.length);break}s+=e.substring(t,n),t=n}return s}isRadixInteger(){let e,t,s=this.pos;if(s>=this.expression.length-2||"0"!==this.expression.charAt(s))return!1;if(++s,"x"===this.expression.charAt(s))e=16,t=/^[0-9a-f]$/i,++s;else{if("b"!==this.expression.charAt(s))return!1;e=2,t=/^[01]$/i,++s}let r=!1,n=s;for(;s<this.expression.length;){const e=this.expression.charAt(s);if(!t.test(e))break;s++,r=!0}if(r){const t=this.expression.substring(n,s),r=this.expression.substring(this.pos,s),i=[this.pos,s],a=new ja(parseInt(t,e),r,void 0,void 0,i);this.current=this.newToken(fo.NUMBER,i,a),this.pos=s}return r}isNumber(){const e=this.pos;let t,s=!1,r=this.pos,n=r,i=!1,a=!1,o=!1;for(;r<this.expression.length;)if(t=this.expression.charAt(r),t>="0"&&t<="9"||!i&&"."===t)"."===t?i=!0:a=!0,r++,s=a;else{if("o"!=t.toLowerCase())break;if(r!=e+1)break;r++,o=!0}if(s&&(n=r),"e"===t||"E"===t){r++;let e=!0,s=!1;for(;r<this.expression.length;){if(t=this.expression.charAt(r),!e||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,e=!1}else e=!1;r++}s||(r=n)}if(s){const t=this.expression.substring(e,r);if("n"===this.expression.charAt(r)){r++;const s=[e,this.pos],n=new ja(BigInt(t),t+"n",void 0,t,s);this.current=this.newToken(fo.BIGINT,s,n)}else{let s;const r=[e,this.pos];if(o){const e=t.substring(2);if(!Qo.OctalPattern.test(e))return!1;s=new ja(parseInt(e,8),t,void 0,void 0,r)}else s=new ja(parseFloat(t),t,void 0,void 0,r);this.current=this.newToken(fo.NUMBER,r,s)}this.pos=r}else this.pos=n;return s}isOperator(){switch(this.expression.charAt(this.pos)){case"+":return"+"===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.INC,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.ADD_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.ADD,[this.pos,this.pos+=1]),!0;case"-":return"-"===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.DEC,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.SUB_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.SUB,[this.pos,this.pos+=1]),!0;case"=":return"="===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.EQ_STRICT,[this.pos,this.pos+=3]):this.current=this.newToken(fo.EQ,[this.pos,this.pos+=2]):">"===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.ARROW,[this.pos,this.pos+=2]):this.current=this.newToken(fo.ASSIGN,[this.pos,this.pos+=1]),!0;case"*":return"*"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.EXP_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.EXP,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.MUL_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.MUL,[this.pos,this.pos+=1]),!0;case"/":return"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.DIV_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.DIV,[this.pos,this.pos+=1]),!0;case"%":return"%"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.MODULO_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.MODULO,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.MOD_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.MOD,[this.pos,this.pos+=1]),!0;case"^":return"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.BIT_XOR_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.BIT_XOR,[this.pos,this.pos+=1]),!0;case">":return">"===this.expression.charAt(this.pos+1)?">"===this.expression.charAt(this.pos+2)?"="===this.expression.charAt(this.pos+3)?this.current=this.newToken(fo.SHR_ASSIGN,[this.pos,this.pos+=4]):this.current=this.newToken(fo.SHR,[this.pos,this.pos+=3]):"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.SAR_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.SAR,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.GTE,[this.pos,this.pos+=2]):"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.LARGER_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.LARGER,[this.pos,this.pos+=2]):this.current=this.newToken(fo.GT,[this.pos,this.pos+=2]),!0;case"<":return"<"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.SHL_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.SHL,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?">"===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.SPACESHIP,[this.pos,this.pos+=3]):this.current=this.newToken(fo.LTE,[this.pos,this.pos+=2]):"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.SMALLER_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.SMALLER,[this.pos,this.pos+=2]):this.current=this.newToken(fo.LT,[this.pos,this.pos+=1]),!0;case"|":return"|"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.OR_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.OR,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.BIT_OR_ASSIGN,[this.pos,this.pos+=2]):">"===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.PIPELINE,[this.pos,this.pos+=2]):this.current=this.newToken(fo.BIT_OR,[this.pos,this.pos+=1]),!0;case"&":return"&"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.AND_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.AND,[this.pos,this.pos+=2]):"="===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.BIT_AND_ASSIGN,[this.pos,this.pos+=2]):this.current=this.newToken(fo.BIT_AND,[this.pos,this.pos+=1]),!0;case"?":return"?"===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.NULLISH_ASSIGN,[this.pos,this.pos+=3]):this.current=this.newToken(fo.NULLISH,[this.pos,this.pos+=2]):"::"==this.expression.substring(this.pos+1,this.pos+3)?this.current=this.newToken(fo.QUESTION_BIND,[this.pos,this.pos+=3]):"."===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.QUESTION_PERIOD,[this.pos,this.pos+=2]):this.current=this.newToken(fo.CONDITIONAL,[this.pos,this.pos+=1]),!0;case"!":return"="===this.expression.charAt(this.pos+1)?"="===this.expression.charAt(this.pos+2)?this.current=this.newToken(fo.NE_STRICT,[this.pos,this.pos+=3]):this.current=this.newToken(fo.NE,[this.pos,this.pos+=2]):this.current=this.newToken(fo.NOT,[this.pos,this.pos+=1]),!0;case".":return/\.\.\./.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(fo.ELLIPSIS,[this.pos,this.pos+=3]),!0):(this.current=this.newToken(fo.PERIOD,[this.pos,this.pos+=1]),!0);case":":return":"===this.expression.charAt(this.pos+1)?this.current=this.newToken(fo.QUESTION_BIND,[this.pos,this.pos+=2]):this.current=this.newToken(fo.COLON,[this.pos,this.pos+=1]),!0;case"~":return this.current=this.newToken(fo.BIT_NOT,[this.pos,this.pos+=1]),!0;case"a":if(/async\s/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(fo.ASYNC,e,new Fa("async",e)),!0}if(/await\s/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(fo.AWAIT,e,new Fa("await",e)),!0}return!1;case"i":if("n"===this.expression.charAt(this.pos+1)){if(/instanceof\s/.test(this.expression.substring(this.pos,this.pos+11)))return this.current=this.newToken(fo.INSTANCEOF,[this.pos,this.pos+=11]),!0;if(/n\s/.test(this.expression.charAt(this.pos+2)))return this.current=this.newToken(fo.IN,[this.pos,this.pos+=3]),!0}return!1;case"t":return!!/typeof\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(fo.TYPEOF,[this.pos,this.pos+=7]),!0);case"v":return!!/void\s/.test(this.expression.substring(this.pos,this.pos+5))&&(this.current=this.newToken(fo.VOID,[this.pos,this.pos+=5]),!0);case"d":return!!/delete\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(fo.DELETE,[this.pos,this.pos+=7]),!0);case"n":return!!/new\s/.test(this.expression.substring(this.pos,this.pos+4))&&(this.current=this.newToken(fo.NEW,[this.pos,this.pos+=4]),!0);default:return!1}}isStatement(){switch(this.expression.charAt(this.pos)){case"b":return!!/break\s?;?/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(fo.BREAK,[this.pos,this.pos+=5]),!0);case"c":return/case[\s~!+-\/\('"`]/.test(this.expression.substring(this.pos,this.pos+5))?(this.current=this.newToken(fo.CASE,[this.pos,this.pos+=4]),!0):/const\s/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(fo.CONST,[this.pos,this.pos+=6]),!0):/catch[\s\{\(]/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(fo.CATCH,[this.pos,this.pos+=5]),!0):/class\s/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(fo.CLASS,[this.pos,this.pos+=6]),!0):!!/continue[\s;]/.test(this.expression.substring(this.pos,this.pos+9))&&(this.current=this.newToken(fo.CONTINUE,[this.pos,this.pos+=8]),!0);case"d":return!!/do[\s|\{]/.test(this.expression.substring(this.pos,this.pos+3))&&(this.current=this.newToken(fo.DO,[this.pos,this.pos+=2]),!0);case"e":return/else[\s|\{]/.test(this.expression.substring(this.pos,this.pos+5))?(this.current=this.newToken(fo.ELSE,[this.pos,this.pos+=4]),!0):/export\s/.test(this.expression.substring(this.pos,this.pos+7))?(this.current=this.newToken(fo.EXPORT,[this.pos,this.pos+=7]),!0):!!/extends\s/.test(this.expression.substring(this.pos,this.pos+8))&&(this.current=this.newToken(fo.EXTENDS,[this.pos,this.pos+=8]),!0);case"g":if(/get\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(fo.GET,e,new Fa("get",e)),!0}return!1;case"f":return/for[\s\(]/.test(this.expression.substring(this.pos,this.pos+4))?(this.current=this.newToken(fo.FOR,[this.pos,this.pos+=3]),!0):/finally[\s\{]/.test(this.expression.substring(this.pos,this.pos+8))?(this.current=this.newToken(fo.FINALLY,[this.pos,this.pos+=7]),!0):!!/function[\s\*\(]/.test(this.expression.substring(this.pos,this.pos+9))&&(this.current=this.newToken(fo.FUNCTION,[this.pos,this.pos+=8]),!0);case"i":return/if[\s|\(]/.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(fo.IF,[this.pos,this.pos+=2]),!0):/in\s/.test(this.expression.substring(this.pos,this.pos+3))?(this.current=this.newToken(fo.IN,[this.pos,this.pos+=3]),!0):!!/import\s/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(fo.IMPORT,[this.pos,this.pos+=7]),!0);case"l":if(/let\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(fo.LET,e,new Fa("let",e)),!0}return!1;case"t":return/try[\s\{]/.test(this.expression.substring(this.pos,this.pos+4))?(this.current=this.newToken(fo.TRY,[this.pos,this.pos+=3]),!0):!!/throw\s/.test(this.expression.substring(this.pos,this.pos+6))&&(this.current=this.newToken(fo.THROW,[this.pos,this.pos+=6]),!0);case"r":return!!/return[\s~!+-\/\('"`]/.test(this.expression.substring(this.pos,this.pos+7))&&(this.current=this.newToken(fo.RETURN,[this.pos,this.pos+=6]),!0);case"s":if(/switch(\s|\()/.test(this.expression.substring(this.pos,this.pos+7)))return this.current=this.newToken(fo.SWITCH,[this.pos,this.pos+=6]),!0;if(/static\s/.test(this.expression.substring(this.pos,this.pos+7)))return this.current=this.newToken(fo.STATIC,[this.pos,this.pos+=7]),!0;if(/set\s/.test(this.expression.substring(this.pos,this.pos+4))){const e=[this.pos,this.pos+=4];return this.current=this.newToken(fo.SET,e,new Fa("set",e)),!0}if(/super[\.\(]?/.test(this.expression.substring(this.pos,this.pos+6))){const e=[this.pos,this.pos+=5];return this.current=this.newToken(fo.SUPER,e,new ro(e)),!0}return!1;case"w":return/while(\s|\()/.test(this.expression.substring(this.pos,this.pos+6))?(this.current=this.newToken(fo.WHILE,[this.pos,this.pos+=5]),!0):!!/with(\s|\()/.test(this.expression.substring(this.pos,this.pos+5))&&(this.current=this.newToken(fo.WITH,[this.pos,this.pos+=4]),!0);case"v":return!!/var\s/.test(this.expression.substring(this.pos,this.pos+4))&&(this.current=this.newToken(fo.VAR,[this.pos,this.pos+=4]),!0);default:return!1}}getCoordinates(){let e,t=0,s=-1;do{t++,e=this.pos-s,s=this.expression.indexOf("\n",s+1)}while(s>=0&&s<this.pos);return{line:t,column:e}}createError(e){let t=this.getCoordinates();const s=this.expression.lastIndexOf("\n",this.pos)+1;let r=this.expression.indexOf("\n",this.pos+1);-1==r&&(r=this.expression.length);const n=Math.max(s,this.pos-25),i=Math.min(r,this.pos+25,this.expression.length),a=this.expression.substring(n,i),o=new Array(i-n).fill(" ");o[this.pos-n]="^";const c=o.join("");return`\n\t\t\t> ${e}\n\t\t\t> token name: '${this.current?.token?.getName()}' ${this.current?.value?`parsed: ${this.current.value.toString()}`:""}\n\t\t\t> ${t.line}:${t.column}\t${a}\n\t\t\t> ${t.line}:${t.column}\t${c}\n\t\t\t`}}let ec=(()=>{let e,s,r=[Da("NewExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}className;static fromJSON(e,t){return new a(t(e.className),e.arguments?.map(t),e.range,e.loc)}static visit(e,t){t(e.className),e.arguments?.forEach(t)}arguments;constructor(e,t,s,r){super(s,r),this.className=e,this.arguments=t}getClassName(){return this.className}getArguments(){return this.arguments}set(e,t){throw new Error("NewExpression#set() has no implementation.")}get(e){const t=this.className.get(e);let s;if(this.arguments)if(this.arguments.length>0){const r=[];for(const t of this.arguments){if(t instanceof Ya){const s=e.pushBlockScopeFor(r);t.get(e),e.clearTo(s);break}r.push(t.get(e))}s=new t(...r)}else s=new t;else s=new t;return s}dependency(e){return this.className.dependency(e).concat(this.arguments?.flatMap((t=>t.dependency(e)))||[])}dependencyPath(e){return this.className.dependencyPath(e).concat(this.arguments?.flatMap((t=>t.dependencyPath(e)))||[])}toString(){const e=this.arguments?`(${this.arguments?.map((e=>e.toString())).join(", ")})`:"";return`new ${this.className.toString()}${e}`}toJson(){return{className:this.className.toJSON(),arguments:this.arguments?.map((e=>e.toJSON()))}}};return a=s})(),tc=(()=>{let e,s,r=[Da("RestElement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}argument;static fromJSON(e,t){return new a(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("RestElement#set() Method has no implementation.")}get(e){throw new Error("RestElement#get() Method has no implementation.")}declareVariable(e,t){this.argument.declareVariable(e,t)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`...${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return a=s})(),sc=(()=>{let e,s,r=[Da("ReturnStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}argument;static fromJSON(e,t){return new a(e.argument?t(e.argument):void 0,e.range,e.loc)}static visit(e,t){e.argument&&t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("ReturnStatement#set() has no implementation.")}get(e){return new _a(this.argument?.get(e))}dependency(e){return this.argument?.dependency(e)||[]}dependencyPath(e){return this.argument?.dependencyPath(e)||[]}toString(){return`return ${this.argument?.toString()||""}`}toJson(){return{argument:this.argument?.toJSON()}}};return a=s})(),rc=(()=>{let e,s,r=[Da("ThrowStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}argument;static fromJSON(e,t){return new a(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("ThrowStatement#set() has no implementation.")}get(e){throw this.argument.get(e)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`throw ${this.argument.toString()}`}toJson(){return{argument:this.argument?.toJSON()}}};return a=s})(),nc=(()=>{let e,s,r=[Da("CatchClause")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}body;param;static fromJSON(e,t){return new a(t(e.body),e.param?t(e.param):void 0,e.range,e.loc)}constructor(e,t,s,r){super(s,r),this.body=e,this.param=t}getParam(){return this.param}getBody(){return this.body}set(e,t){this.param?.set(e,t)}get(e,t){return this.body.get(e)}dependency(e){return this.body.dependency()}dependencyPath(e){return this.body.dependencyPath(e)}toString(){return`catch (${this.param?.toString()||""}) ${this.body.toString()}`}toJson(e){return{param:this.param?.toJSON(),body:this.body.toJSON()}}};return a=s})(),ic=(()=>{let e,s,r=[Da("TryStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}block;handler;finalizer;static fromJSON(e,t){return new a(t(e.block),e.handler?t(e.handler):void 0,e.finalizer?t(e.finalizer):void 0,e.range,e.loc)}constructor(e,t,s,r,n){super(r,n),this.block=e,this.handler=t,this.finalizer=s}getBlock(){return this.block}getHandler(){return this.handler}getFinalizer(){return this.finalizer}set(e,t){throw new Error("TryCatchNode#set() has no implementation.")}get(e){const t=e.lastScope();if(this.block&&this.handler&&this.finalizer)try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}catch(s){e.clearTill(t);const r=e.pushBlockScope();this.handler.set(e,s),this.handler.get(e),e.clearTo(r)}finally{e.clearTill(t);const s=e.pushBlockScope();this.finalizer.get(e),e.clearTo(s)}else if(this.block&&this.handler)try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}catch(s){e.clearTill(t);const r=e.pushBlockScope();e.clearTo(r),this.handler.set(e,s),this.handler.get(e),e.clearTo(r)}else{if(!this.block||!this.finalizer)throw new Error("Uncaught SyntaxError: Missing catch or finally after try");try{const t=e.pushBlockScope();this.block.get(e),e.clearTo(t)}finally{e.clearTill(t);const s=e.pushBlockScope();this.finalizer.get(e),e.clearTo(s)}}e.clearTill(t)}dependency(e){return this.block.dependency().concat(this.handler?.dependency()||[]).concat(this.finalizer?.dependency()||[])}dependencyPath(e){return this.block.dependencyPath(e).concat(this.handler?.dependencyPath(e)||[],this.finalizer?.dependencyPath(e)||[])}toString(){return`try ${this.block.toString()} ${this.handler?.toString()||""} ${this.finalizer?`finally ${this.finalizer.toString()}`:""}`}toJson(){return{block:this.block.toJSON(),handler:this.handler?.toJSON(),finalizer:this.finalizer?.toJSON()}}};return a=s})(),ac=(()=>{let e,s,r=[Da("YieldExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}delegate;argument;static fromJSON(e,t){return new a(e.delegate,e.argument?t(e.argument):void 0,e.range,e.loc)}static visit(e,t){e.argument&&t(e.argument)}constructor(e,t,s,r){super(s,r),this.delegate=e,this.argument=t}getArgument(){return this.argument}set(e,t){throw new Error("YieldExpression#set() has no implementation.")}get(e){const t=this.argument?.get(e);return this.delegate?new Pa(t):new Ia(t)}dependency(e){return this.argument?.dependency(e)||[]}dependencyPath(e){return this.argument?.dependencyPath(e)||[]}toString(){return`yield${this.delegate?"*":""} ${this.argument?.toString()||""}`}toJson(){return{delegate:this.delegate,argument:this.argument?.toJSON()}}};return a=s})(),oc=(()=>{let e,s,r=[Da("ArrayExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}elements;static fromJSON(e,t){return new a(e.elements.map((e=>e?t(e):null)),e.range,e.loc)}static visit(e,t){e.elements.forEach((e=>e&&t(e)))}constructor(e,t,s){super(t,s),this.elements=e}getElements(){return this.elements}set(e){throw new Error("ArrayExpression#set() has no implementation.")}get(e){return this.elements.map((t=>t?.get(e)))}dependency(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependencyPath(e)))}toString(){return`[ ${this.elements.map((e=>e?.toString())).toString()} ]`}toJson(){return{elements:this.elements.map((e=>e?.toJSON()))}}};return a=s})(),cc=(()=>{let e,s,r=[Da("ArrayPattern")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}elements;static fromJSON(e,t){return new a(e.elements.map((e=>e?t(e):null)),e.range,e.loc)}static visit(e,t){e.elements.forEach((e=>e&&t(e)))}constructor(e,t,s){super(t,s),this.elements=e}getElements(){return this.elements}set(e,t){throw new Error("ArrayPattern#set() has no implementation.")}get(e){throw new Error("ArrayPattern#get() has no implementation.")}declareVariable(e,t){Array.isArray(t)?this.declareVariableFromArray(e,t):Reflect.has(t,Symbol.iterator)&&this.declareVariableFromIterator(e,t)}declareVariableFromArray(e,t){for(let s=0;s<this.elements.length;s++){const r=this.elements[s];if(null!=r){if(r instanceof tc){const n=t.slice(s);r.declareVariable(e,n);break}r.declareVariable(e,t[s])}}}declareVariableFromIterator(e,t){let s=0;for(;;){let r=t.next();if(r.done)break;const n=this.elements[s++];if(null!=n){if(n instanceof tc){const s=[r.value];for(;!r.done;)r=t.next(),s.push(r.value);n.declareVariable(e,s);break}if(n.declareVariable(e,r.value),s>=this.elements.length)break}}}dependency(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.elements.filter((e=>e)).flatMap((t=>t.dependencyPath(e)))}toString(){return`[ ${this.elements.map((e=>e?.toString())).toString()} ]`}toJson(){return{elements:this.elements.map((e=>e?.toJSON()))}}};return a=s})(),lc=(()=>{let e,s,r=[Da("BindExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}object;property;computed;optional;static fromJSON(e,t){return new a(t(e.object),t(e.property),e.computed,e.optional,e.range,e.loc)}static visit(e,t){t(e.object),t(e.property)}constructor(e,t,s,r=!1,n,i){super(n,i),this.object=e,this.property=t,this.computed=s,this.optional=r}getObject(){return this.object}getProperty(){return this.property}set(e){throw new Error("BindExpression#set() has no implementation.")}get(e,t){const s=t??this.object.get(e);if(void 0===s)throw new TypeError(`Cannot read property '${this.property.toString()}' of undefined`);let r;if(r=this.computed?s[this.property.get(e)]:this.property.get(e,s),!this.optional||null!=r){if("function"!=typeof r)throw new Error(`can't bind to non-function type ${r}`);return r.bind(s)}}findScope(e,t){return t||(t=this.object.findScope(e)),this.property.findScope(e,t)}dependency(e){return this.object.dependency(e).concat(this.property.dependency(e))}dependencyPath(e){return this.object.dependencyPath(e).concat(this.property.dependencyPath(e))}toString(){return this.computed?`${this.object.toString()}${this.optional?"?::":"::"}[${this.property.toString()}]`:`${this.object.toString()}${this.optional?"?::":"::"}${this.property.toString()}`}toJson(){return{object:this.object.toJSON(),property:this.property.toJSON(),computed:this.computed,optional:this.optional}}};return a=s})(),hc=(()=>{let e,s,r=[Da("AssignmentPattern")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}left;right;static fromJSON(e,t){return new a(t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}constructor(e,t,s,r){super(s,r),this.left=e,this.right=t}getLeft(){return this.left}getRight(){return this.right}set(e,t){throw new Error("AssignmentPattern#set() has no implementation.")}get(e){throw new Error("AssignmentPattern#get() has no implementation.")}declareVariable(e,t){void 0===t&&(t=this.right.get(e)),this.left.declareVariable(e,t)}dependency(e){return[this.right]}dependencyPath(e){return this.right.dependencyPath(e)||[]}toString(){return`${this.left.toString()} = ${this.right.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON()}}};return a=s})(),uc=(()=>{let e,s,r=[Da("FunctionExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}params;body;async;generator;id;static fromJSON(e,t){return new a(e.params.map(t),t(e.body),e.async,e.generator,e.id?t(e.id):void 0,e.range,e.loc)}static visit(e,t){e.id&&t(e.id),e.params.forEach(t),t(e.body)}constructor(e,t,s,r,n,i,a){super(i,a),this.params=e,this.body=t,this.async=s,this.generator=r,this.id=n}getParams(){return this.params}getBody(){return this.body}getGenerator(){return this.generator}getId(){return this.id}getAsync(){return this.async}set(e,t){throw new Error(`${this.constructor.name}#set() has no implementation.`)}defineFunctionArguments(e,t){const s=this.params[this.params.length-1]instanceof tc,r=s?this.params.length-1:this.params.length;for(let s=0;s<r;s++)this.params[s].declareVariable(e,t[s]);s&&this.params[r].declareVariable(e,t.slice(r))}get(e){let t;return e=e.copyStack(),t=this.async&&this.generator?this.getAsyncGeneratorFunction(e):this.async?this.getAsyncFunction(e):this.generator?this.getGeneratorFunction(e):this.getFunction(e),t}getAsyncFunction(e){const t=this;return async function(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),r.awaitPromise?.length>0){for(const e of r.awaitPromise){const t=await e.promise;e.declareVariable?e.node.declareVariable(r,t):e.node.set(r,t)}r.awaitPromise.splice(0)}else if(r.forAwaitAsyncIterable){for await(let e of r.forAwaitAsyncIterable.iterable){const t=r.forAwaitAsyncIterable.forAwaitBody(e);if(t instanceof Ja){if("continue"===t.type)continue;break}if(t instanceof _a){n=t;break}}r.forAwaitAsyncIterable=void 0}if(n instanceof _a)return n=n.value,n instanceof Ra&&(n=await n.promise),n}}}getGeneratorFunction(e){const t=this;return function*(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),n instanceof _a)return n.value;n instanceof Ia?yield n.value:n instanceof Pa&&(yield*n.value)}}}getAsyncGeneratorFunction(e){const t=this;return async function*(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i){if(n=e.get(r),r.awaitPromise?.length>0){for(const e of r.awaitPromise){const t=await e.promise;e.declareVariable?e.node.declareVariable(r,t):e.node.set(r,t)}r.awaitPromise.splice(0)}else if(r.forAwaitAsyncIterable){for await(let e of r.forAwaitAsyncIterable.iterable){const t=r.forAwaitAsyncIterable.forAwaitBody(e);if(t instanceof Ja){if("continue"===t.type)continue;break}if(t instanceof _a)return n=n.value,n instanceof Ra?await n.promise:(n instanceof Ia?yield n.value:n instanceof Pa&&(yield*n.value),n)}r.forAwaitAsyncIterable=void 0}if(n instanceof _a)return n=n.value,n instanceof Ra?await n.promise:n}}}getFunction(e){const t=this;return function(...s){const r=e.copyStack();let n;r.pushBlockScope(),r.declareVariable("this",this),r.declareVariable("super",this?.constructor?.prototype),t.defineFunctionArguments(r,s);const i=t.body.getBody();for(const e of i)if(n=e.get(r),n instanceof _a)return n.value}}dependency(e){return this.params.flatMap((e=>e.dependency()))}dependencyPath(e){return this.params.flatMap((t=>t.dependencyPath(e)))}toString(){let e="function ";return this.async&&this.generator?e="async function* ":this.async?e="async function ":this.generator&&(e="function* "),`${e}${this.id?.toString()||""}${this.paramsAndBodyToString()}`}paramsAndBodyToString(){return`(${this.params.map((e=>e.toString())).join(", ")}) ${this.body.toString()}`}toJson(){return{params:this.params.map((e=>e.toJSON())),body:this.body.toJSON(),async:this.async,id:this.id?.toJSON(),generator:this.generator}}};return a=s})(),pc=(()=>{let e,s,r=[Da("FunctionDeclaration")],n=[],i=uc;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(e.params.map(t),t(e.body),e.async,e.generator,t(e.id),e.range,e.loc)}static visit(e,t){t(e.id),e.params.forEach(t),t(e.body)}constructor(e,t,s,r,n,i,a){super(e,t,s,r,n,i,a)}get(e){const t=super.get(e);return this.declareVariable(e,t),t}declareVariable(e,t){this.id.declareVariable(e,t)}};return a=s})(),dc=(()=>{let e,s,r=[Da("ArrowFunctionExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}params;body;expression;async;static fromJSON(e,t){return new a(e.params.map(t),Array.isArray(e.body)?e.body.map(t):t(e.body),e.expression,e.async,e.range,e.loc)}static visit(e,t){e.params.forEach(t),Array.isArray(e.body)?e.body.forEach(t):t(e.body)}generator=!1;constructor(e,t,s,r,n,i){super(n,i),this.params=e,this.body=t,this.expression=s,this.async=r}getParams(){return this.params}getBody(){return this.body}getExpression(){return this.expression}set(e,t){throw new Error("ArrowFunctionExpression#set() has no implementation.")}setParameter(e,t){const s=this.params[this.params.length-1]instanceof tc,r=s?this.params.length-1:this.params.length;for(let s=0;s<r;s++)this.params[s].declareVariable(e,t[s]);s&&this.params[r].declareVariable(e,t.slice(r))}get(e){return e=e.copyStack(),this.async?this.getAsyncArrowFunction(e):this.getArrowFunction(e)}getAsyncArrowFunction(e){}getArrowFunction(e){return(...t)=>{const s=e.copyStack();let r;s.pushBlockScope(),this.setParameter(s,t);const n=Array.isArray(this.body)?this.body:[this.body];for(const e of n)if(r=e.get(s),r instanceof _a)return r.value;if(this.expression)return r}}dependency(e){return this.params.flatMap((e=>e.dependency()))}dependencyPath(e){return this.params.flatMap((t=>t.dependencyPath(e)))}toString(){let e=this.async?"async ":"";return 1===this.params.length?e+=this.params[0].toString():e+=`(${this.params.map((e=>e.toString())).join(", ")})`,e+=" => ",e+=this.body.toString(),e}toJson(){return{params:this.params.map((e=>e.toJSON())),body:Array.isArray(this.body)?this.body.map((e=>e.toJSON())):this.body.toJSON(),expression:!0,async:this.async,generator:this.generator}}};return a=s})(),mc=(()=>{let e,s,r=[Da("Property")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}key;value;kind;method;shorthand;computed;static fromJSON(e,t){return new a(t(e.key),t(e.value),e.kind,e.method,e.shorthand,e.computed,e.range,e.loc)}static visit(e,t){t(e.key),t(e.value)}constructor(e,t,s,r,n,i,a,o){super(a,o),this.key=e,this.value=t,this.kind=s,this.method=r,this.shorthand=n,this.computed=i}getKey(){return this.key}getValue(){return this.value}set(e,t){this.key.set(e,t)}get(e,t){const s=this.key instanceof Fa?this.key.getName():this.key.get(e);let r;switch(this.kind){case"get":const n=this.value.get(e);Object.defineProperty(t,s,{get:n,configurable:!0,enumerable:!0}),r=n;break;case"set":const i=this.value.get(e);Object.defineProperty(t,s,{set:i,configurable:!0,enumerable:!0}),r=i;break;default:r=this.value.get(e),Object.defineProperty(t,s,{value:r,configurable:!0,enumerable:!0,writable:!0})}return r}declareVariable(e,t){const s=t[this.shorthand?this.key.getName():this.key.get(e)];this.value.declareVariable(e,s)}dependency(e){return this.key.dependency(e).concat(this.value.dependency(e))}dependencyPath(e){return this.key.dependencyPath(e).concat(this.value.dependencyPath(e))}toString(){const e=this.computed?`[${this.key.toString()}]`:this.key.toString();if(this.shorthand)return e;let t="";switch(this.kind){case"get":case"set":const s=this.value;t+=this.kind,t+=" "+e,t+=s.paramsAndBodyToString();break;case"init":if(!this.method)return t+=this.value.toString(),`${e}: ${t}`;t+=" "+e,t+=this.value.paramsAndBodyToString()}return t}toJson(){return{key:this.key.toJSON(),value:this.value.toJSON(),kind:this.kind}}};return a=s})(),fc=(()=>{let e,s,r=[Da("ObjectExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}properties;static fromJSON(e,t){return new a(e.properties.map(t),e.range,e.loc)}static visit(e,t){e.properties.forEach(t)}constructor(e,t,s){super(t,s),this.properties=e}getProperties(){return this.properties}set(e){throw new Error("ObjectExpression#set() has no implementation.")}get(e){const t={};for(const s of this.properties)s.get(e,t);return t}dependency(e){return this.properties.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.properties.flatMap((t=>t.dependencyPath(e)))}toString(){return`{ ${this.properties.map((e=>e.toString())).join(", ")} }`}toJson(){return{properties:this.properties.map((e=>e.toJSON()))}}};return a=s})(),gc=(()=>{let e,s,r=[Da("ObjectPattern")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}properties;static fromJSON(e,t){return new a(e.properties.map(t),e.range,e.loc)}static visit(e,t){e.properties.forEach(t)}constructor(e,t,s){super(t,s),this.properties=e}getProperties(){return this.properties}set(e,t){throw new Error("ObjectPattern#set() has no implementation.")}get(e){throw new Error("ObjectPattern#get() has no implementation.")}declareVariable(e,t){for(const s of this.properties)s instanceof tc&&(t=this.getFromObject(e,t)),s.declareVariable(e,t)}getFromObject(e,t){const s=[];s.push(...Object.keys(t)),s.push(...Object.getOwnPropertySymbols(t));const r={},n=e.lastScope().getContext();for(const e of s)e in n||(r[e]=t[e]);return r}dependency(e){return this.properties.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.properties.flatMap((t=>t.dependencyPath(e)))}toString(){return`{ ${this.properties.map((e=>e.toString())).join(", ")} }`}toJson(){return{properties:this.properties.map((e=>e.toJSON()))}}};return a=s})(),yc=(()=>{let e,s,r=[Da("ExpressionStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}body;static fromJSON(e,t){return new a(e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s){super(t,s),this.body=e}getBody(){return this.body}set(e,t){throw new Error("ExpressionStatement#set() has no implementation.")}get(e){let t;return this.body.forEach((s=>t=s.get(e))),t}dependency(e){return this.body.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.body.flatMap((t=>t.dependencyPath(e)))}toString(){return this.body.map((e=>({insert:!qa(e),string:e.toString()}))).map((e=>`${e.string}${e.insert?";":""}`)).join("\n")}toJson(){return{body:this.body.map((e=>e.toJSON()))}}};return a=s})();class bc extends Na{local;constructor(e,t,s){super(t,s),this.local=e}getLocal(){return this.local}getLocalName(){return this.local.getName()}toJson(){return{local:this.local.toJSON()}}}let Sc=(()=>{let e,s,r=[Da("ImportAttribute")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}key;value;static fromJSON(e,t){return new a(t(e.key),t(e.value),e.range,e.loc)}static visit(e,t){t(e.key),t(e.value)}constructor(e,t,s,r){super(s,r),this.key=e,this.value=t}getKey(){return this.key}getValue(){return this.value}set(e,t){throw new Error("Method not implemented.")}get(e,t){return{[this.key.get(e)]:this.value.get()}}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`${this.key.toString()}: ${this.value.toString()}`}toJson(){return{key:this.key.toJSON(),value:this.value.toJSON()}}};return a=s})(),Ec=(()=>{let e,s,r=[Da("ExportSpecifier")],n=[],i=bc;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}exported;static fromJSON(e,t){return new a(t(e.local),t(e.exported),e.range,e.loc)}static visit(e,t){t(e.local),t(e.exported)}constructor(e,t,s,r){super(e,s,r),this.exported=t}getExported(){return this.exported}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){const e=this.local.toString(),t=this.exported.toString();return e==t?e:`${e} as ${t}`}toJson(){return{local:this.local.toJSON(),exported:this.exported.toJSON()}}};return a=s})(),wc=(()=>{let e,s,r=[Da("ExportNamedDeclaration")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}specifiers;declaration;source;assertions;static fromJSON(e,t){return new a(e.specifiers.map(t),e.declaration?t(e.declaration):void 0,e.source?t(e.source):void 0,e.assertions?e.assertions.map(t):void 0,e.range,e.loc)}static visit(e,t){e.specifiers.map(t),e.source&&t(e.source),e.declaration&&t(e.declaration),e.assertions?.forEach(t)}constructor(e,t,s,r,n,i){super(n,i),this.specifiers=e,this.declaration=t,this.source=s,this.assertions=r}getSource(){return this.source}getSpecifiers(){return this.specifiers}getDeclaration(){return this.declaration}getAssertions(){return this.assertions}set(e){throw new Error("ExportNamedDeclaration.#set() has no implementation.")}get(e){this.declaration?this.exportDeclaration(e):this.source?this.exportFromSource(e):this.exportLocal(e)}exportDeclaration(e){if(!this.declaration)return;this.declaration.get(e);const t=this.declaration.getDeclarationName?.();if(!t)throw new Error(`Name is not defined for ${this.declaration.toString()}`);const s=e.get(t);e.getModule().set(t,s)}exportFromSource(e){if(!this.source)return;let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}const s=e.importModule(this.source.get(),t),r=e.getModule();this.specifiers.forEach((t=>{const n=t.getLocal().get(e),i=t.getExported().get(e),a=s.get(n);r.set(i,a);const o=s.subscribe(n,((e,t)=>{e!==t&&r.set(i,e)}));e.onDestroy((()=>o.unsubscribe()))}))}exportLocal(e,t){const s=e.getModule();this.specifiers.forEach((t=>{const r=t.getLocal().get(e),n=t.getExported().get(e),i=e.get(r);s.set(n,i);const a=e.findScope(r);if(a instanceof Sa){const t=a.subscribe(r,((e,t)=>{e!==t&&s.set(n,e)}));e.onDestroy((()=>t.unsubscribe()))}}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){if(this.declaration)return`export ${this.declaration.toString()}`;let e=`export {${this.specifiers.map((e=>e.toString())).join(",")}}`;return this.source?`${e} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`:`${e};`}toJson(){return{specifiers:this.specifiers.map((e=>e.toJSON())),source:this.source?.toJSON(),declaration:this.declaration?.toJSON(),assertions:this.assertions?.map((e=>e.toJSON()))}}};return a=s})(),vc=(()=>{let e,s,r=[Da("ExportDefaultDeclaration")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}declaration;static fromJSON(e,t){return new a(t(e.declaration),e.range,e.loc)}static visit(e,t){t(e.declaration)}constructor(e,t,s){super(t,s),this.declaration=e}getDeclaration(){return this.declaration}set(e){throw new Error("ExportDefaultDeclaration.#set() has no implementation.")}get(e){const t=this.declaration.get(e);e.getModule().set("default",t)}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`export default ${this.declaration.toString()}`}toJson(){return{declaration:this.declaration.toJSON()}}};return a=s})(),Ac=(()=>{let e,s,r=[Da("ExportAllDeclaration")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}source;exported;assertions;static fromJSON(e,t){return new a(t(e.source),e.exported?t(e.exported):void 0,e.assertions?.map(t),e.range,e.loc)}static visit(e,t){t(e.source),e.exported&&t(e.exported),e.assertions?.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.source=e,this.exported=t,this.assertions=s}getSource(){return this.source}getExported(){return this.exported}getAssertions(){return this.assertions}set(e){throw new Error("ExportDefaultDeclaration.#set() has no implementation.")}get(e){let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}let s=e.getModule();const r=e.importModule(this.source.get(),t);if(this.exported){const t=this.exported.get(e);s.set(t,{}),s=s.getInnerScope(t)}Object.keys(r.getContext()).forEach((t=>{const n=r.get(t);s.set(t,n);const i=r.subscribe(t,((e,r)=>{e!==r&&s.set(t,e)}));e.onDestroy((()=>i.unsubscribe()))}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`export *${this.exported?` as ${this.exported.toString()}`:""} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`}toJson(){return{source:this.source.toJSON(),exported:this.exported?.toJSON(),assertions:this.assertions?.map((e=>e.toJSON()))}}};return a=s})(),xc=(()=>{let e,s,r=[Da("ImportSpecifier")],n=[],i=bc;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}imported;static fromJSON(e,t){return new a(t(e.local),t(e.imported),e.range,e.loc)}static visit(e,t){t(e.local),t(e.imported)}constructor(e,t,s,r){super(e,s,r),this.imported=t}getImported(){return this.imported}getImportedName(){return this.imported.getName()}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){const e=this.local.toString(),t=this.imported.toString();return e==t?e:`${t} as ${e}`}toJson(){return{local:this.local.toJSON(),imported:this.imported.toJSON()}}};return a=s})(),Tc=(()=>{let e,s,r=[Da("ImportDefaultSpecifier")],n=[],i=bc;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.local),e.range,e.loc)}static visit(e,t){t(e.local)}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return this.local.toString()}};return a=s})(),kc=(()=>{let e,s,r=[Da("ImportNamespaceSpecifier")],n=[],i=bc;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.local),e.range,e.loc)}static visit(e,t){t(e.local)}set(e,t){throw new Error("Method not implemented.")}get(e,t){throw new Error("Method not implemented.")}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`* as ${this.local.toString()}`}};return a=s})(),Cc=(()=>{let e,s,r=[Da("ImportDeclaration")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}source;specifiers;assertions;static fromJSON(e,t){return new a(t(e.source),e.specifiers?.map(t),e.assertions?.map(t),e.range,e.loc)}static visit(e,t){t(e.source),e.specifiers?.forEach(t),e.assertions?.forEach(t)}constructor(e,t,s,r,n){super(r,n),this.source=e,this.specifiers=t,this.assertions=s}getSource(){return this.source}getSpecifiers(){return this.specifiers}getAssertions(){return this.assertions}set(e){throw new Error("ImportDeclaration.#set() has no implementation.")}get(e){let t;if(this.assertions){const s=this.assertions.map((t=>t.get(e))).reduce(((e,t)=>Object.assign(e,t)),{});s&&(t={assert:s})}const s=e.importModule(this.source.get(),t);this.specifiers&&this.specifiers.forEach((t=>{const r=t.getLocalName();if(t instanceof xc){const n=t.getImportedName(),i=s.get(n);e.getModule()?.set(r,i);const a=s.subscribe(r,((t,s)=>{t!==s&&e.getModule()?.set(r,t)}));e.onDestroy((()=>a.unsubscribe()))}else if(t instanceof Tc){const t=s.get("default");e.getModule()?.set(r,t);const n=s.subscribe("default",((t,s)=>{t!==s&&e.getModule()?.set(r,t)}));e.onDestroy((()=>n.unsubscribe()))}else t instanceof kc&&e.getModule()?.importModule(r,s)}))}dependency(e){return[]}dependencyPath(e){return[]}toString(){if(!this.specifiers)return`import '${this.source.toString()}'`;const e=[],t=this.specifiers.filter((e=>e instanceof Tc));t?.length&&e.push(t[0].toString());const s=this.specifiers.filter((e=>e instanceof kc));s?.length&&e.push(s[0].toString());const r=this.specifiers.filter((e=>e instanceof xc));if(r?.length){const t=r.map((e=>e.toString())).join(",");e.push(`{ ${t} }`)}return`import ${e.join(", ")} from ${this.source.toString()}${this.assertions?` assert { ${this.assertions.map((e=>e.toString())).join(", ")} }`:""};`}toJson(){return{source:this.source.toJSON(),specifiers:this.specifiers?.map((e=>e.toJSON())),assertions:this.assertions?.map((e=>e.toJSON()))}}};return a=s})(),Nc=(()=>{let e,s,r=[Da("ImportExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}source;attributes;static fromJSON(e,t){return new a(t(e.source),e.attributes&&t(e.attributes)||void 0,e.range,e.loc)}static visit(e,t){t(e.source),e.attributes&&t(e.attributes)}constructor(e,t,s,r){super(s,r),this.source=e,this.attributes=t}getSource(){return this.source}set(e){throw new Error("ImportDeclaration.#set() has no implementation.")}get(e){let t;this.attributes&&(t=this.attributes.get(e));const s=e.importModule(this.source.get(),t);return Promise.resolve(s)}dependency(e){return[]}dependencyPath(e){return[]}toString(){return`import(${this.source.toString()}${this.attributes?`, ${this.attributes.toString()}`:""})`}toJson(){return{source:this.source.toJSON()}}};return a=s})(),Oc=(()=>{let e,s,r=[Da("AssignmentExpression")],n=[],i=Oa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static fromJSON(e,t){return new a(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"=":e=>e.left=e.right,"*=":e=>e.left*=e.right,"**=":e=>e.left**=e.right,"/=":e=>e.left/=e.right,"%=":e=>e.left%=e.right,"+=":e=>e.left+=e.right,"-=":e=>e.left-=e.right,"<<=":e=>e.left<<=e.right,">>=":e=>e.left>>=e.right,">>>=":e=>e.left>>>=e.right,"&=":e=>e.left&=e.right,"^=":e=>e.left^=e.right,"|=":e=>e.left|=e.right,"%%=":e=>e.left%=(e.left%e.right+e.right)%e.right,">?=":e=>e.left=e.left>e.right?e.left:e.right,"<?=":e=>e.left=e.left>e.right?e.right:e.left};static LogicalEvaluations={"&&=":(e,t)=>{let s=e.left.get(t);return s&&(s=e.right.get(t),e.set(t,s)),s},"||=":(e,t)=>{let s=e.left.get(t);return s||(s=e.right.get(t),e.set(t,s)),s},"??=":(e,t)=>{let s=e.left.get(t);return null==s&&(s=e.right.get(t),e.set(t,s)),s}};constructor(e,t,s,r,n){super(e,t,s,r,n)}set(e,t){return this.left.set(e,t)}get(e){switch(this.operator){case"&&=":case"||=":case"??=":return a.LogicalEvaluations[this.operator](this,e)}const t={left:this.left.get(e),right:this.right.get(e)},s=a.Evaluations[this.operator](t);return this.set(e,s),s}static{(0,t.Co)(s,n)}};return a=s})(),_c=(()=>{let e,s,r=[Da("AwaitExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}argument;static fromJSON(e,t){return new a(t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}constructor(e,t,s){super(t,s),this.argument=e}getArgument(){return this.argument}set(e,t){throw new Error("AwaitExpression#set() has no implementation.")}get(e,t){const s=this.argument.get(e);return new Ra(s)}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return`await ${this.argument.toString()}`}toJson(){return{argument:this.argument.toJSON()}}};return a=s})(),Ic=(()=>{let e,s,r=[Da("BinaryExpression")],n=[],i=Oa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static fromJSON(e,t){return new a(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"==":e=>e.left==e.right,"!=":e=>e.left!=e.right,"===":e=>e.left===e.right,"!==":e=>e.left!==e.right,"<":e=>e.left<e.right,"<=":e=>e.left<=e.right,">":e=>e.left>e.right,">=":e=>e.left>=e.right,"*":e=>e.left*e.right,"/":e=>e.left/e.right,"%":e=>e.left%e.right,"+":e=>e.left+e.right,"-":e=>e.left-e.right,in:e=>e.left in e.right,instanceof:e=>e.left instanceof e.right,"<<":e=>e.left<<e.right,">>":e=>e.left>>e.right,">>>":e=>e.left>>>e.right,"&":e=>e.left&e.right,"^":e=>e.left^e.right,"|":e=>e.left|e.right,"**":e=>e.left**e.right,"%%":e=>(e.left%e.right+e.right)%e.right,">?":e=>e.left>e.right?e.left:e.right,"<?":e=>e.left>e.right?e.right:e.left,"<=>":e=>null===e.left||null===e.right||typeof e.left!=typeof e.right?null:"string"==typeof e.left?e.left.localeCompare(e.right):e.left>e.right?1:e.left<e.right?-1:0};set(e,t){throw new Error(`BinaryExpression#set() for operator:(${this.operator}) has no implementation.`)}get(e){const t={left:this.left.get(e),right:this.right.get(e)};return a.Evaluations[this.operator](t)}static{(0,t.Co)(s,n)}};return a=s})(),Pc=(()=>{let e,s,r=[Da("ChainExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}expression;static fromJSON(e,t){return new a(t(e.expression),e.range,e.loc)}static visit(e,t){t(e.expression)}constructor(e,t,s){super(t,s),this.expression=e}getExpression(){return this.expression}set(e,t){throw new Error("ChainExpression.#set() has no implementation.")}get(e,t){return this.expression.get(e,t)}findScope(e,t){return this.expression.findScope(e,t)}dependency(e){return this.expression.dependency(e)}dependencyPath(e){return this.expression.dependencyPath(e)}toString(){return this.expression.toString()}toJson(){return{expression:this.expression.toJSON()}}};return a=s})(),Rc=(()=>{let e,s,r=[Da("SequenceExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}expressions;static fromJSON(e,t){return new a(e.expressions.map(t),e.range,e.loc)}static visit(e,t){e.expressions.forEach(t)}constructor(e,t,s){super(t,s),this.expressions=e}getExpressions(){return this.expressions}set(e){throw new Error("SequenceExpression.#set() has no implementation.")}get(e){return this.expressions.map((t=>t.get(e))).pop()}dependency(e){return this.expressions.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.expressions.flatMap((t=>t.dependencyPath(e)))}toString(){return this.expressions.map((e=>e.toString())).join(", ")}toJson(){return{expressions:this.expressions.map((e=>e.toJSON()))}}};return a=s})(),Lc=(()=>{let e,s,r=[Da("GroupingExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}node;static fromJSON(e,t){return new a(t(e.node),e.range,e.loc)}static visit(e,t){t(e.node)}constructor(e,t,s){super(t,s),this.node=e}getNode(){return this.node}set(e,t){this.node.set(e,t)}get(e){return this.node.get(e)}dependency(e){return this.node.dependency(e)}dependencyPath(e){return this.node.dependencyPath(e)}toString(){return`(${this.node.toString()})`}toJson(){return{node:this.node.toJSON()}}};return a=s})(),Dc=(()=>{let e,s,r=[Da("LogicalExpression")],n=[],i=Oa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}static fromJSON(e,t){return new a(e.operator,t(e.left),t(e.right),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right)}static Evaluations={"&&":(e,t)=>{let s=e.left.get(t);return s&&(s=e.right.get(t)),s},"||":(e,t)=>{let s=e.left.get(t);return s||(s=e.right.get(t)),s},"??":(e,t)=>{let s=e.left.get(t);return null==s&&(s=e.right.get(t)),s}};get(e){return a.Evaluations[this.operator](this,e)}static{(0,t.Co)(s,n)}};return a=s})(),Mc=(()=>{let e,s,r=[Da("PipelineExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}left;right;static fromJSON(e,t){return new a(t(e.left),t(e.right),e.arguments.map((e=>"string"==typeof e?e:t(e))),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),e.arguments.forEach((e=>"object"==typeof e&&t(e)))}arguments;constructor(e,t,s=[],r,n){super(r,n),this.left=e,this.right=t,this.arguments=s}getLeft(){return this.left}getRight(){return this.right}getArguments(){return this.arguments}set(e,t){throw new Error("PipelineNode#set() has no implementation.")}get(e){const t=this.left.get(e),s=[];let r=!1;for(const n of this.arguments)if("?"===n)s.push(t),r=!0;else if("...?"===n)s.push(...t),r=!0;else if(n instanceof Ya){const t=e.pushBlockScopeFor(s);n.get(e),e.clearTo(t)}else s.push(n.get(e));r||s.unshift(t);const n=this.right.get(e);if(this.right instanceof Xa){const t=this.right.getObject().get(e);return n.apply(t,s)}return n(...s)}dependency(e){return this.right.dependency(e).concat(this.left.dependency(e),this.arguments.filter((e=>"?"!==e&&"...?"!==e)).flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.right.dependencyPath(e).concat(this.left.dependencyPath(e),this.arguments.filter((e=>"?"!==e&&"...?"!==e)).flatMap((t=>t.dependencyPath(e))))}toString(){return`${this.left.toString()} |> ${this.right.toString()}${this.arguments.flatMap((e=>`:${e.toString()}`)).join("")}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),arguments:this.arguments.map((e=>"string"==typeof e?e:e.toJSON()))}}};return a=s})(),Fc=(()=>{let e,s,r=[Da("ConditionalExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}test;alternate;consequent;static fromJSON(e,t){return new a(t(e.test),t(e.alternate),t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.test),t(e.alternate),t(e.consequent)}constructor(e,t,s,r,n){super(r,n),this.test=e,this.alternate=t,this.consequent=s}getTest(){return this.test}getAlternate(){return this.alternate}getConsequent(){return this.consequent}set(e,t){throw new Error("ConditionalExpression#set() has no implementation.")}get(e){return this.test.get(e)?this.consequent.get(e):this.alternate.get(e)}dependency(e){return this.test.dependency(e).concat(this.alternate.dependency(e),this.consequent.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.alternate.dependencyPath(e),this.consequent.dependencyPath(e))}toString(){return`${this.test.toString()} ? (${this.alternate.toString()}):(${this.consequent.toString()})`}toJson(){return{test:this.test.toJSON(),alternate:this.alternate.toJSON(),consequent:this.consequent.toJSON()}}};return a=s})(),Bc=(()=>{let e,s,r=[Da("UnaryExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}operator;argument;static fromJSON(e,t){return new a(e.operator,t(e.argument),e.range,e.loc)}static visit(e,t){t(e.argument)}static Evaluations={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e,void:e=>{},typeof:e=>typeof e};constructor(e,t,s,r){super(s,r),this.operator=e,this.argument=t}getOperator(){return this.operator}getArgument(){return this.argument}set(e,t){return this.argument.set(e,t)}get(e,t){if("delete"===this.operator)return this.executeDelete(e,t);{const t=this.argument.get(e);return a.Evaluations[this.operator](t)}}executeDelete(e,t){if(this.argument instanceof Xa){const t=this.argument.findScope(e);let s;const r=this.argument.getProperty();return s=r instanceof Xa?this.argument.getProperty().get(e):r instanceof ja?r.getValue():this.argument.getProperty().get(e),t.delete(s)}return!1}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){switch(this.operator){case"void":case"delete":case"typeof":return`${this.operator} ${this.argument.toString()}`;default:return`${this.operator}${this.argument.toString()}`}}toJson(){return{operator:this.operator,argument:this.argument.toJSON(),prefix:!0}}static{(0,t.Co)(s,n)}};return a=s})(),jc=(()=>{let e,s,r=[Da("UpdateExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}operator;argument;prefix;static fromJSON(e,t){return new a(e.operator,t(e.argument),e.prefix,e.range,e.loc)}static visit(e,t){t(e.argument)}static PostfixEvaluations={"++":e=>e.value++,"--":e=>e.value--};static PrefixEvaluations={"++":e=>++e.value,"--":e=>--e.value};constructor(e,t,s,r,n){super(r,n),this.operator=e,this.argument=t,this.prefix=s}getOperator(){return this.operator}getArgument(){return this.argument}set(e,t){this.argument.set(e,t)}get(e){const t={value:this.argument.get(e)},s=this.prefix?a.PrefixEvaluations[this.operator](t):a.PostfixEvaluations[this.operator](t);return this.set(e,t.value),s}dependency(e){return this.argument.dependency(e)}dependencyPath(e){return this.argument.dependencyPath(e)}toString(){return this.prefix?`${this.operator}${this.argument.toString()}`:`${this.argument.toString()}${this.operator}`}toJson(){return{operator:this.operator,argument:this.argument.toJSON(),prefix:this.prefix}}static{(0,t.Co)(s,n)}};return a=s})(),Hc=(()=>{let e,s,r=[Da("Program")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}sourceType;body;static fromJSON(e,t){return new a(e.sourceType,e.body.map(t),e.range,e.loc)}static visit(e,t){e.body.forEach(t)}constructor(e,t,s,r){super(s,r),this.sourceType=e,this.body=t}set(e,t){throw new Error("Program#set() has no implementation.")}get(e){return this.body.map((t=>t.get(e))).at(-1)}dependency(e){return this.body.flatMap((e=>e.dependency()))}dependencyPath(e){return this.body.flatMap((e=>e.dependencyPath()))}toString(){return this.body.map((e=>e.toString())).join("\n")}toJson(){return{sourceType:this.sourceType,body:this.body.map((e=>e.toJSON()))}}};return a=s})(),$c=(()=>{let e,s,r=[Da("IfStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}test;consequent;alternate;static fromJSON(e,t){return new a(t(e.test),t(e.consequent),e.alternate?t(e.alternate):void 0,e.range,e.loc)}static visit(e,t){t(e.test),t(e.consequent),e.alternate&&t(e.alternate)}constructor(e,t,s,r,n){super(r,n),this.test=e,this.consequent=t,this.alternate=s}getTest(){return this.test}getConsequent(){return this.consequent}getAlternate(){return this.alternate}set(e,t){throw new Error("IfStatement#set() has no implementation.")}get(e){if(this.test.get(e)){const t=e.pushBlockScope(),s=this.consequent.get(e);return e.clearTo(t),s}if(this.alternate){const t=e.pushBlockScope(),s=this.alternate.get(e);return e.clearTo(t),s}}dependency(e){return this.test.dependency(e).concat(this.consequent.dependency(e),this.alternate?.dependency(e)||[])}dependencyPath(e){return this.test.dependencyPath(e).concat(this.consequent.dependencyPath(e),this.alternate?.dependencyPath(e)||[])}toString(){return`if (${this.test.toString()}) ${this.consequent.toString()}${this.alternate?" else ":""}${this.alternate?this.alternate.toString():""}`}toJson(){return{test:this.test.toJSON(),consequent:this.consequent.toJSON(),alternate:this.alternate?.toJSON()}}};return a=s})(),Vc=(()=>{let e,s,r=[Da("SwitchCase")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}test;consequent;static fromJSON(e,t){return new a(t(e.test),t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.test),t(e.consequent)}constructor(e,t,s,r){super(s,r),this.test=e,this.consequent=t}getTest(){return this.test}getConsequent(){return this.consequent}set(e,t){throw new Error("SwitchCase#set() has no implementation.")}get(e){return this.consequent.get(e)}dependency(e){return this.test.dependency(e).concat(this.consequent.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.consequent.dependencyPath(e))}toString(){return`case ${this.test.toString()}: ${this.consequent.toString()};`}toJson(){return{test:this.test.toJSON(),consequent:this.consequent.toJSON()}}};return a=s})(),Gc=(()=>{let e,s,r=[Da("default")],n=[],i=Vc;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.consequent),e.range,e.loc)}static visit(e,t){t(e.consequent)}constructor(e,t,s){super(new Fa("default"),e,t,s)}dependency(e){return this.consequent.dependency(e)}dependencyPath(e){return this.consequent.dependencyPath(e)}toString(){return`default: ${this.consequent.toString()};`}toJson(){return{consequent:this.consequent.toJSON()}}};return a=s})(),Jc=(()=>{let e,s,r=[Da("SwitchStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}discriminant;cases;static fromJSON(e,t){return new a(t(e.discriminant),e.cases.map(t),e.range,e.loc)}static visit(e,t){t(e.discriminant),e.cases.forEach(t)}constructor(e,t,s,r){super(s,r),this.discriminant=e,this.cases=t}getDiscriminant(){return this.discriminant}getCases(){return this.cases}set(e,t){throw new Error("SwitchStatement#set() has no implementation.")}get(e){const t=this.discriminant.get(e);let s=this.cases.map((t=>t.getTest().get(e))).findIndex((e=>t===e));if(-1===s&&(s=this.cases.findIndex((e=>e instanceof Gc)),-1===s))return;const r=e.pushBlockScope();for(let r=s;r<this.cases.length;r++)if(this.cases[r].get(e),t instanceof Ja){if("continue"===t.type)continue;break}e.clearTo(r)}dependency(e){return this.discriminant.dependency(e).concat(this.cases.flatMap((t=>t.dependency(e))))}dependencyPath(e){return this.discriminant.dependencyPath(e).concat(this.cases.flatMap((t=>t.dependencyPath(e))))}toString(){return`switch (${this.discriminant.toString()}) {${this.cases.map((e=>e.toString()))}`}toJson(){return{discriminant:this.discriminant.toJSON(),cases:this.cases.map((e=>e.toJSON()))}}};return a=s})(),Uc=(()=>{let e,s,r=[Da("WithStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}object;body;static fromJSON(e,t){return new a(t(e.object),t(e.body),e.range,e.loc)}static visit(e,t){t(e.object),t(e.body)}constructor(e,t,s,r){super(s,r),this.object=e,this.body=t}getObject(){return this.object}getBody(){return this.body}set(e,t){throw new Error("WithStatement#set() has no implementation.")}get(e){const t=this.object.get(e);let s;if(t[Symbol.unscopables]){const e=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],r=Object.entries(t[Symbol.unscopables]).filter((e=>e[1])).map((e=>e[0]));s=e.filter((e=>!r.includes(e)))}const r=e.pushBlockScopeFor(t,s);r.getContextProxy=()=>t;const n=this.body.get(e);return e.clearTo(r),n}dependency(e){return this.object.dependency(e).concat(this.body.dependency(e))}dependencyPath(e){return this.object.dependencyPath(e).concat(this.body.dependencyPath(e))}toString(){return`with (${this.object.toString()}) ${this.body.toString()}`}toJson(){return{object:this.object.toJSON(),body:this.body.toJSON()}}};return a=s})(),zc=(()=>{let e,s,r=[Da("VariableDeclarator")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}id;init;static fromJSON(e,t){return new a(t(e.id),e.init?t(e.init):void 0,e.range,e.loc)}static visit(e,t){t(e.id),e.init&&t(e.init)}constructor(e,t,s,r){super(s,r),this.id=e,this.init=t}getId(){return this.id}getInit(){return this.init}set(e,t){throw new Error("VariableNode#set() has no implementation.")}get(e){this.declareVariable(e)}declareVariable(e,t){if(void 0!==t)return void this.id.declareVariable(e,t);const s=this.init?.get(e);s instanceof Ra?(s.node=this.id,s.declareVariable=!0,s.node.declareVariable(e),e.resolveAwait(s)):this.id.declareVariable(e,s)}getDeclarationName(){return this.id.getDeclarationName()}dependency(e){return this.init?.dependency()||[]}dependencyPath(e){return this.init?.dependencyPath(e)||[]}toString(){return`${this.id.toString()}${this.init?` = ${this.init.toString()}`:""}`}toJson(){return{id:this.id.toJSON(),init:this.init?.toJSON()}}};return a=s})(),Wc=(()=>{let e,s,r=[Da("VariableDeclaration")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}declarations;kind;static fromJSON(e,t){return new a(e.declarations.map(t),e.kind,e.range,e.loc)}static visit(e,t){e.declarations.forEach(t)}constructor(e,t,s,r){super(s,r),this.declarations=e,this.kind=t}getDeclarations(){return this.declarations}getKind(){return this.kind}set(e,t){if(Array.isArray(t))throw new Error("VariableDeclarationNode#set() has no implementation.");this.declarations[0].id.set(e,t)}get(e){for(const t of this.declarations)t.declareVariable(e)}getDeclarationName(){return this.declarations[0].getDeclarationName()}declareVariable(e,t){this.declarations[0].declareVariable(e,t)}dependency(e){return this.declarations.flatMap((t=>t.dependency(e)))}dependencyPath(e){return this.declarations.flatMap((t=>t.dependencyPath(e)))}toString(){return`${this.kind} ${this.declarations.map((e=>e.toString())).join(", ")};`}toJson(){return{kind:this.kind,declarations:this.declarations.map((e=>e.toJSON()))}}};return a=s})(),Kc=(()=>{let e,s,r=[Da("ForStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}body;init;test;update;static fromJSON(e,t){return new a(t(e.body),e.init&&t(e.init),e.test&&t(e.test),e.update&&t(e.update),e.range,e.loc)}static visit(e,t){t(e.body),e.init&&t(e.init),e.test&&t(e.test),e.update&&t(e.update)}constructor(e,t,s,r,n,i){super(n,i),this.body=e,this.init=t,this.test=s,this.update=r}getBody(){return this.body}getInit(){return this.init}getTest(){return this.test}getUpdate(){return this.update}set(e,t){throw new Error("ForNode#set() has no implementation.")}get(e){const t=e.pushBlockScope();for(this.init?.get(e);this.test?.get(e)??1;this.update?.get(e)){const s=this.body.get(e);if(s instanceof Ja){if("continue"===s.type)continue;break}if(s instanceof _a)return e.clearTo(t),s}e.clearTo(t)}dependency(e){let t=this.body.dependency(e);return this.init&&(t=t.concat(this.init.dependency(e))),this.test&&(t=t.concat(this.test.dependency(e))),this.update&&(t=t.concat(this.update.dependency(e))),t}dependencyPath(e){let t=this.body.dependencyPath(e);return this.init&&(t=t.concat(this.init.dependencyPath(e))),this.test&&(t=t.concat(this.test.dependencyPath(e))),this.update&&(t=t.concat(this.update.dependencyPath(e))),t}toString(){return`for (${this.init?.toString()};${this.test?.toString()};${this.init?.toString()}) ${this.body.toString()}`}toJson(){return{body:this.body.toJSON(),init:this.init?.toJSON(),test:this.test?.toJSON(),update:this.update?.toJSON()}}};return a=s})(),qc=(()=>{let e,s,r=[Da("ForOfStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}left;right;body;static fromJSON(e,t){return new a(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);for(const s of t){const t=e.pushBlockScope();this.left.declareVariable(e,s);const r=this.body.get(e);if(r instanceof Ja){if("continue"===r.type)continue;break}if(r instanceof _a)return e.clearTo(t),r;e.clearTo(t)}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left?.toString()} of ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return a=s})(),Zc=(()=>{let e,s,r=[Da("ForInStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}left;right;body;static fromJSON(e,t){return new a(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);for(const s in t){const t=e.pushBlockScope();this.left.declareVariable(e,s);const r=this.body.get(e);if(r instanceof Ja){if("continue"===r.type)continue;break}if(r instanceof _a)return e.clearTo(t),r;e.clearTo(t)}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left.toString()} in ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return a=s})(),Yc=(()=>{let e,s,r=[Da("ForAwaitOfStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}left;right;body;static fromJSON(e,t){return new a(t(e.left),t(e.right),t(e.body),e.range,e.loc)}static visit(e,t){t(e.left),t(e.right),t(e.body)}constructor(e,t,s,r,n){super(r,n),this.left=e,this.right=t,this.body=s}getLeft(){return this.left}getRight(){return this.right}getBody(){return this.body}set(e,t){throw new Error("ForAwaitOfNode#set() has no implementation.")}get(e){const t=this.right.get(e);e.forAwaitAsyncIterable={iterable:t,forAwaitBody:t=>{const s=e.pushBlockScope();this.left.declareVariable(e,t);const r=this.body.get(e);return e.clearTo(s),r}}}dependency(e){return this.right.dependency(e)}dependencyPath(e){return this.right.dependencyPath(e)}toString(){return`for (${this.left?.toString()} of ${this.right.toString()}) ${this.body.toString()}`}toJson(){return{left:this.left.toJSON(),right:this.right.toJSON(),body:this.body.toJSON()}}};return a=s})(),Xc=(()=>{let e,s,r=[Da("WhileStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}test;body;static fromJSON(e,t){return new a(t(e.test),t(e.body),e.range,e.loc)}static visit(e,t){t(e.body),t(e.test)}constructor(e,t,s,r){super(s,r),this.test=e,this.body=t}getTest(){return this.test}getBody(){return this.body}set(e,t){throw new Error("WhileNode#set() has no implementation.")}get(e){const t=this.test.get(e),s=e.pushBlockScope();for(;t;){const t=this.body.get(e);if(t instanceof Ja){if("continue"===t.type)continue;break}if(t instanceof _a)return e.clearTo(s),t}e.clearTo(s)}dependency(e){return this.test.dependency(e).concat(this.body.dependency(e))}dependencyPath(e){return this.test.dependencyPath(e).concat(this.body.dependencyPath(e))}toString(){return`while (${this.test.toString()}) ${this.body.toString()}`}toJson(){return{test:this.test.toJSON(),body:this.body.toJSON()}}};return a=s})(),Qc=(()=>{let e,s,r=[Da("DoWhileStatement")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}test;body;static fromJSON(e,t){return new a(t(e.test),t(e.body),e.range,e.loc)}static visit(e,t){t(e.test),t(e.body)}constructor(e,t,s,r){super(s,r),this.test=e,this.body=t}getTest(){return this.test}getBody(){return this.body}set(e,t){throw new Error("WhileNode#set() has no implementation.")}get(e){const t=e.pushBlockScope();do{const s=this.body.get(e);if(s instanceof Ja){if("continue"===s.type)continue;break}if(s instanceof _a)return e.clearTo(t),s}while(this.test.get(e));e.clearTo(t)}dependency(e){return this.body.dependency(e).concat(this.test.dependency(e))}dependencyPath(e){return this.body.dependencyPath(e).concat(this.test.dependencyPath(e))}toString(){return`do {${this.body.toString()}} while (${this.test.toString()})`}toJson(){return{test:this.test.toJSON(),body:this.body.toJSON()}}};return a=s})();class el{source;newLineRegex=new RegExp("\n","g");constructor(e){this.source=e}getLineNumber(e,t){return this.source.substring(0,e).match(this.newLineRegex)?.length??t}getColumnNumber(e){const t=this.source.lastIndexOf("\n",e);return-1===t?e:e-t-1}createSourcePosition(e){if(!e||!this.source)return;const t=this.getLineNumber(e[0],1),s=this.getLineNumber(e[1],t);return{start:{line:t,column:this.getColumnNumber(e[0])},end:{line:s,column:this.getColumnNumber(e[1])}}}}class tl{rangeFactory;constructor(e){this.rangeFactory=e}createDebuggerStatement(e){const t=this.rangeFactory?.createSourcePosition(e);return new Uo(e,t)}createSuper(e){const t=this.rangeFactory?.createSourcePosition(e);return new ro(e,t)}createThis(e){const t=this.rangeFactory?.createSourcePosition(e);return new Ba(e,t)}createNull(e){const t=this.rangeFactory?.createSourcePosition(e);return new ja(null,void 0,void 0,void 0,e,t)}createTrue(e){const t=this.rangeFactory?.createSourcePosition(e);return new ja(!0,void 0,void 0,void 0,e,t)}createFalse(e){const t=this.rangeFactory?.createSourcePosition(e);return new ja(!1,void 0,void 0,void 0,e,t)}createVoidZero(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Bc("void",e,t,s)}createEmptyStatement(e){const t=this.rangeFactory?.createSourcePosition(e);return new Jo(e,t)}createExpressionStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new yc(e,t,s)}createCatchClause(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new nc(e,t,s,r)}createTryStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new ic(e,t,s,r,n)}createThrowStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new rc(e,t,s)}createBlock(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Za(e,t,s)}createIfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new $c(e,t,s,r,n)}createDoStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Qc(e,t,s,r)}createClassDeclaration(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new po(e,t,s,r,n,i)}createFunctionDeclaration(e,t,s,r,n,i){const a=this.rangeFactory?.createSourcePosition(i);return new pc(e,t,s,r,n,i,a)}createFunctionExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new uc(e,t,s,r,void 0,n,i)}createWhileStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Xc(e,t,s,r)}createSwitchStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Jc(e,t,s,r)}createCaseBlock(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Vc(e,t,s,r)}createDefaultClause(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Gc(e,t,s)}createWithStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Uc(e,t,s,r)}createForStatement(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Kc(e,t,s,r,n,i)}createForOfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new qc(e,t,s,r,n)}createForAwaitOfStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Yc(e,t,s,r,n)}createForInStatement(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Zc(e,t,s,r,n)}createVariableDeclaration(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new zc(e,t,s,r)}createVariableStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Wc(e,t,s,r)}createContinueStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Wa(e,t,s)}createBreakStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new za(e,t,s)}createReturnStatement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new sc(e,t,s)}createLabeledStatement(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Ka(e,t,s,r)}createAssignmentPattern(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new hc(e,t,s,r)}createSpreadElement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Ya(e,t,s)}createCommaListExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Rc(e,t,s)}createTemplateExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Va(e,t,s,r)}createTaggedTemplateExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Ga(e,t,s,r,n)}createNewExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ec(e,t,s,r)}createObjectBindingPattern(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new gc(e,t,s)}createObjectLiteralExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new fc(e,t,s)}createArrayBindingPattern(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new cc(e,t,s)}createArrayLiteralExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new oc(e,t,s)}createAssignment(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Oc(e,t,s,r,n)}createRestElement(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new tc(e,t,s)}createArrowFunction(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new dc(e,t,s,r,n,i)}createPropertyDeclaration(e,t,s,r,n,i,a){const o=this.rangeFactory?.createSourcePosition(a);return new mc(e,t,s,r,n,i,a,o)}createIdentifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Fa(e,t,s)}createPropertyAssignment(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new Xa(e,t,s,r,n,i)}createPipelineExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Mc(e,t,s,r,n)}createCallExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Qa(e,t,s,r,n)}createBindExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new lc(e,t,s,r,n,i)}createChainExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Pc(e,t,s)}createLogicalExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Dc(e,t,s,r,n)}createConditionalExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Fc(e,t,s,r,n)}createYieldExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new ac(e,t,s,r)}createMetaProperty(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new no(e,t,s,r)}createProgram(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Hc(e,t,s,r)}createClassExpression(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new mo(e,t,s,r,n,i)}createClassStaticBlockDeclaration(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new ao(e,t,s)}createMethodSignature(e,t,s,r,n,i,a){const o=this.rangeFactory?.createSourcePosition(a);return new co(e,t,s,r,n,i,a,o)}createPropertySignature(e,t,s,r,n,i){const a=this.rangeFactory?.createSourcePosition(i);return new lo(e,t,s,r,n,i,a)}createClassBody(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new ho(e,t,s)}createNamespaceExportDeclaration(e,t,s,r,n){const i=this.rangeFactory?.createSourcePosition(n);return new wc(e,t,s,r,n,i)}createExportSpecifier(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Ec(e,t,s,r)}createImportSpecifier(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new xc(e,t,s,r)}createImportDeclaration(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Cc(e,t,s,r,n)}createImportNamespaceSpecifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new kc(e,t,s)}createImportDefaultSpecifier(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new Tc(e,t,s)}createImportExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Nc(e,t,s,r)}createAssertEntry(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);return new Sc(e,t,s,r)}createExportDefault(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new vc(e,t,s)}createExportAllDeclaration(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new Ac(e,t,s,r,n)}createInfixExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);switch(e){case"=":case"+=":case"-=":case"**=":case"/=":case"%=":case"<<=":case">>=":case">>>=":case"&=":case"^=":case"|=":case"&&=":case"||=":case"??=":return new Oc(e,t,s,r,n);case"&&":case"||":case"??":return new Dc(e,t,s,r,n);case"**":case"*":case"/":case"%":case"+":case"-":case"<":case"<=":case">":case">=":case"in":case"instanceof":case"==":case"!=":case"===":case"!==":case"<<":case">>":case">>>":case"&":case"^":case"|":case">?":case"<?":case"<=>":return new Ic(e,t,s,r,n);default:throw new Error(`Not Supported Operator: ${e}`)}}createUnaryExpression(e,t,s){const r=this.rangeFactory?.createSourcePosition(s);switch(e){case"++":case"--":return new jc(e,t,!0,s,r);case"+":case"-":case"!":case"~":case"typeof":case"void":case"delete":return new Bc(e,t,s,r);case"await":return new _c(t,s,r);default:throw new Error(`${e} is not prefix operator`)}}createUpdateExpression(e,t,s,r){const n=this.rangeFactory?.createSourcePosition(r);return new jc(e,t,s,r,n)}createAwaitExpression(e,t){const s=this.rangeFactory?.createSourcePosition(t);return new _c(e,t,s)}isIdentifier(e){return e instanceof Fa||"Identifier"===e?.type}isObjectExpression(e){return e instanceof fc||"ObjectExpression"===e?.type}isArrayExpression(e){return e instanceof oc||"ArrayExpression"===e?.type}isObjectPattern(e){return e instanceof gc||"ObjectPattern"===e?.type}isArrayPattern(e){return e instanceof cc||"ArrayPattern"===e?.type}isAssignmentPattern(e){return e instanceof hc||"AssignmentPattern"===e?.type}isPattern(e){return this.isObjectPattern(e)||this.isArrayPattern(e)||this.isAssignmentPattern(e)}canBePattern(e){return this.isObjectExpression(e)||this.isArrayExpression(e)}isProperty(e){return e instanceof mc||"Property"===e?.type}isMemberExpression(e){return e instanceof Xa||"MemberExpression"===e?.type}isPropertyOrMemberExpression(e){return this.isProperty(e)||this.isMemberExpression(e)}isEmptyStatement(e){return e instanceof Jo||"EmptyStatement"===e?.type}isSequenceExpression(e){return e instanceof Rc||"SequenceExpression"===e?.type}isSuper(e){return e instanceof ro||"Super"===e?.type}isAssignmentExpression(e){return e instanceof Oc||"AssignmentExpression"===e?.type}isGroupingExpression(e){return e instanceof Lc||"GroupingExpression"===e?.type}isSpreadElement(e){return e instanceof Ya||"SpreadElement"===e?.type}}class sl{scanner;factory;acceptIN;previousAcceptIN=[];functionKind;previousFunctionKind=[];get languageMode(){return this.scanner.getLanguageMode()}set languageMode(e){this.scanner.setLanguageMode(e)}constructor(e,t,s){this.scanner=e,this.factory=t,this.previousAcceptIN.push(this.acceptIN=s??!1),this.previousFunctionKind.push(this.functionKind=xo.NormalFunction)}position(){return this.scanner.getPos()}setAcceptIN(e){this.previousAcceptIN.push(this.acceptIN),this.acceptIN=e}restoreAcceptIN(){this.acceptIN=this.previousAcceptIN.pop()??!1}getLastFunctionKind(){return this.previousFunctionKind.at(-2)??xo.NormalFunction}setFunctionKind(e){this.previousFunctionKind.push(this.functionKind),this.functionKind=e}restoreFunctionKind(){this.functionKind=this.previousFunctionKind.pop()??xo.NormalFunction}setStatue(e,t){this.setFunctionKind(t),this.setAcceptIN(e)}restoreStatue(){this.restoreFunctionKind(),this.restoreAcceptIN()}current(){return this.scanner.currentToken()}next(){return this.scanner.next()}peek(){return this.scanner.peek()}peekAhead(){return this.scanner.peekAhead()}peekAheadPosition(){return this.scanner.peekAheadPosition()}peekPosition(){return this.scanner.peekPosition()}createRange(e){if(!Number.isNaN(e?.range?.[0]))return[e.range[0],this.scanner.getPos()]}createRangeByStart(e){return[e.range[0],this.scanner.getPos()]}createStartPosition(){return[this.scanner.getPos(),-1]}updateRangeEnd(e){e[1]=this.scanner.getPos()}consume(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Parsing ${JSON.stringify(e)}`));return t}check(e){return!!this.scanner.peek().isType(e)&&(this.scanner.next(),!0)}checkAndGetValue(e){const t=this.scanner.peek();if(t.isType(e))return this.scanner.next(),t.value}checkValue(e){return this.scanner.peek().value==e&&(this.scanner.next(),!0)}expect(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(e)}, current is ${JSON.stringify(t)}`));return t}expectAndGetValue(e){const t=this.scanner.next();if(t.isNotType(e))throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(e)}, current is ${JSON.stringify(t)}`));return t.getValue()}checkInOrOf(){const e=this.peekInOrOf();return e&&this.scanner.next(),e}peekInOrOf(){var e=this.peek();return e.isType(fo.IN)?"IN":!(!this.factory.isIdentifier(e.value)||"of"!==e.value.getName())&&"OF"}isArguments(e){return this.factory.isIdentifier(e)&&"arguments"===e.getName()}isEval(e){return this.factory.isIdentifier(e)&&"eval"===e.getName()}isEvalOrArguments(e){return this.factory.isIdentifier(e)&&("eval"===e.getName()||"arguments"===e.getName())}isNextLetKeyword(){if(this.peek().isNotType(fo.LET))return!1;switch(this.peekAhead().token){case fo.LBRACE:case fo.LBRACK:case fo.IDENTIFIER:case fo.STATIC:case fo.LET:case fo.YIELD:case fo.AWAIT:case fo.GET:case fo.SET:case fo.ASYNC:return!0;default:return!1}}markParenthesized(e){Reflect.set(e,"parenthesized",!0)}clearParenthesized(e){Reflect.deleteProperty(e,"parenthesized")}isParenthesized(e){return!0===Reflect.get(e,"parenthesized")}isAssignableIdentifier(e){return!(!this.factory.isIdentifier(e)||ka(this.languageMode)&&this.isEvalOrArguments(e))}isValidReferenceExpression(e){return this.isAssignableIdentifier(e)||this.factory.isPropertyOrMemberExpression(e)}expectSemicolon(){const e=this.peek();if(e.isType(fo.SEMICOLON))this.next();else if(!this.scanner.hasLineTerminatorBeforeNext()&&!fo.isAutoSemicolon(e.token)&&this.scanner.currentToken().isType(fo.AWAIT)&&!Ho(this.functionKind))throw new Error(this.errorMessage("Await Not In Async Context/Function"))}peekAnyIdentifier(){return fo.isAnyIdentifier(this.peek().token)}expectContextualKeyword(e){const t=this.scanner.next();if(!t.test(((t,s)=>fo.IDENTIFIER.equal(t)&&e===s?.toString())))throw new Error(this.errorMessage(`Unexpected Token: current Token is ${JSON.stringify(t)}`));return!0}checkContextualKeyword(e){return!!this.scanner.peek().test(((t,s)=>fo.IDENTIFIER.equal(t)&&e===s?.toString()))&&(this.scanner.next(),!0)}peekContextualKeyword(e){return this.scanner.peek().test(((t,s)=>fo.IDENTIFIER.equal(t)&&e===s?.toString()))}methodKindFor(e,t){return s=e?No.StaticMethod:No.NonStaticMethod,Co[s][0!=((r=t)&Ao.IsGenerator)?1:0][0!=(r&Ao.IsAsync)?1:0];var s,r}isGenerator(){return jo(this.functionKind)}isAsyncFunction(){return Ho(this.functionKind)}is_async_function(){return Ho(this.functionKind)}is_async_generator(){return Bo(this.functionKind)}is_resumable(){return jo(e=this.functionKind)||Ho(e)||Fo(e);var e}isAwaitAllowed(){return this.isAsyncFunction()||Fo(this.functionKind)}isAwaitAsIdentifierDisallowed(){return ka(this.languageMode)||$o(this.functionKind)}shouldBanArguments(){return yo(this.functionKind,xo.ClassMembersInitializerFunction,xo.ClassStaticInitializerFunction)}errorMessage(e){return this.scanner.createError(e)}reportErrorMessage(e){console.error(this.scanner.createError(e))}}class rl extends sl{static parse(e,{mode:t,acceptIN:s,factory:r,addLocation:n}={}){t??=Aa.Strict;const i="string"==typeof e?Yo.getTokenStream(e,t):Array.isArray(e)?Yo.getTokenStream(e):e;if(s??=!1,null==r){const t=n&&"string"==typeof e?new el(e):void 0;r=new tl(t)}return new rl(i,r,s).scan()}constructor(e,t,s){super(e,t,s)}scan(){const e=this.scanner.getPos(),t=this.parseStatementList(fo.EOS);return 1===t.length?t[0]:this.factory.createExpressionStatement(t,[e,this.scanner.getPos()])}parseStatement(e=Mo.DisallowLabelledFunctionStatement){switch(this.peek().token){case fo.LBRACE:return this.parseBlock();case fo.SEMICOLON:const t=this.consume(fo.SEMICOLON);return this.factory.createEmptyStatement(t.range);case fo.IF:return this.parseIfStatement();case fo.DO:return this.parseDoWhileStatement();case fo.WHILE:return this.parseWhileStatement();case fo.FOR:return this.isAwaitAllowed()&&this.peekAhead().isType(fo.AWAIT)?this.parseForAwaitStatement():this.parseForStatement();case fo.CONTINUE:return this.parseContinueStatement();case fo.BREAK:return this.parseBreakStatement();case fo.RETURN:return this.parseReturnStatement();case fo.THROW:return this.parseThrowStatement();case fo.TRY:return this.parseTryStatement();case fo.SWITCH:return this.parseSwitchStatement();case fo.WITH:return this.parseWithStatement();case fo.FUNCTION:throw new SyntaxError(this.errorMessage("FunctionDeclaration only allowed as a StatementListItem not in an arbitrary Statement position."));case fo.DEBUGGER:return this.parseDebuggerStatement();case fo.VAR:return this.parseVariableDeclarations(Do.Statement);case fo.ASYNC:if(!this.scanner.hasLineTerminatorAfterNext()&&this.peekAhead().isType(fo.FUNCTION))throw new SyntaxError(this.errorMessage("async function in single statement context."));default:return this.parseExpressionOrLabelledStatement(e)}}parseDebuggerStatement(){const e=this.consume(fo.DEBUGGER);return this.expectSemicolon(),this.factory.createDebuggerStatement(e.range)}parseTryStatement(){const e=this.consume(fo.TRY),t=this.parseBlock();let s,r,n,i=this.peek();if(i.isNotType(fo.CATCH)&&i.isNotType(fo.FINALLY))throw new Error(this.errorMessage("Uncaught SyntaxError: Missing catch or finally after try"));if(this.check(fo.CATCH)){let t;this.check(fo.LPAREN)&&(t=this.peekAnyIdentifier()?this.parseNonRestrictedIdentifier():this.parseBindingPattern(!0),this.expect(fo.RPAREN));const n=this.parseBlock();r=this.factory.createCatchClause(n,t,this.createRange(i)),s=this.createRange(e)}return this.check(fo.FINALLY)&&(n=this.parseBlock(),s=this.createRange(e)),this.factory.createTryStatement(t,r,n,s)}parseNonRestrictedIdentifier(){const e=this.parseIdentifier();if(ka(this.languageMode)&&this.isEvalOrArguments(e))throw new SyntaxError(this.errorMessage("Strict Eval/Arguments "));return e}parseBlock(){const e=this.expect(fo.LBRACE),t=[],s=this.createRangeByStart(e),r=this.factory.createBlock(t,s);for(;this.peek().isNotType(fo.RBRACE);){const e=this.parseStatementListItem();if(!e)return r;this.factory.isEmptyStatement(e)||t.push(e)}return this.expect(fo.RBRACE),this.updateRangeEnd(s),r}parseStatementListItem(){switch(this.peek().token){case fo.FUNCTION:return this.parseHoistableDeclaration(void 0,!1,this.peek());case fo.CLASS:const e=this.consume(fo.CLASS);return this.parseClassDeclaration(void 0,!1,e);case fo.VAR:case fo.CONST:return this.parseVariableDeclarations(Do.StatementListItem);case fo.LET:if(this.isNextLetKeyword())return this.parseVariableDeclarations(Do.StatementListItem);break;case fo.ASYNC:if(this.peekAhead().isType(fo.FUNCTION)&&!this.scanner.hasLineTerminatorAfterNext()){const e=this.consume(fo.ASYNC);return this.parseAsyncFunctionDeclaration(void 0,!1,e)}}return this.parseStatement(Mo.AllowLabelledFunctionStatement)}parseFunctionExpression(){const e=this.consume(fo.FUNCTION),t=this.check(fo.MUL)?xo.GeneratorFunction:xo.NormalFunction;let s,r=_o.AnonymousExpression;return this.peek().isNotType(fo.LPAREN)&&(s=this.parseIdentifier(this.getLastFunctionKind()),r=_o.NamedExpression),this.parseFunctionLiteral(t,r,s,e)}parseAsyncFunctionDeclaration(e,t,s){if(this.scanner.hasLineTerminatorBeforeNext())throw new SyntaxError(this.errorMessage("Line Terminator Before `function` parsing `async function`."));return this.consume(fo.FUNCTION),this.parseHoistableDeclaration01(xo.AsyncFunction,e,t,s)}parseIfStatement(){const e=this.consume(fo.IF);this.consume(fo.LPAREN);const t=this.parseExpression();this.consume(fo.RPAREN);const s=this.parseScopedStatement();let r,n;return this.peek().isType(fo.ELSE)&&(this.consume(fo.ELSE),n=this.parseScopedStatement()),r=this.createRange(e),this.factory.createIfStatement(t,s,n,r)}parseScopedStatement(){return ka(this.languageMode)||this.peek().isNotType(fo.FUNCTION)?this.parseStatement():this.parseFunctionDeclaration()}parseDoWhileStatement(){const e=this.consume(fo.DO),t=this.parseStatement();this.expect(fo.WHILE),this.expect(fo.LPAREN);const s=this.parseExpression();return this.expect(fo.RPAREN),this.check(fo.SEMICOLON),this.factory.createDoStatement(s,t,this.createRange(e))}parseWhileStatement(){const e=this.consume(fo.WHILE);this.expect(fo.LPAREN);const t=this.parseExpression();this.expect(fo.RPAREN);const s=this.parseStatement();return this.factory.createWhileStatement(t,s,this.createRange(e))}parseThrowStatement(){const e=this.consume(fo.THROW);if(this.scanner.hasLineTerminatorBeforeNext())throw new Error(this.scanner.createError("New line After Throw"));const t=this.parseExpression(),s=this.createRange(e);return this.expectSemicolon(),this.factory.createThrowStatement(t,s)}parseSwitchStatement(){const e=this.consume(fo.SWITCH),t=this.createRangeByStart(e);this.expect(fo.LPAREN);const s=this.parseExpression();this.expect(fo.RPAREN);const r=[],n=this.factory.createSwitchStatement(s,r,t);let i=!1;for(this.expect(fo.LBRACE);this.peek().isNotType(fo.RBRACE);){const e=[];let t;const s=this.scanner.peek();if(this.check(fo.CASE))t=this.parseExpression();else{if(this.expect(fo.DEFAULT),i)throw new Error(this.errorMessage("Multiple Defaults In Switch"));i=!0}const n=this.expect(fo.COLON);for(;this.peek().isNotType(fo.CASE)&&this.peek().isNotType(fo.DEFAULT)&&this.peek().isNotType(fo.RBRACE);){const t=this.parseStatementListItem();t&&!this.factory.isEmptyStatement(t)&&e.push(t)}const a=this.factory.createBlock(e,this.createRange(n)),o=this.createRange(s),c=i?this.factory.createDefaultClause(a,o):this.factory.createCaseBlock(t,a,o);r.push(c)}return this.expect(fo.RBRACE),this.updateRangeEnd(t),n}parseForStatement(){const e=this.consume(fo.FOR);this.expect(fo.LPAREN);const t=this.peek(),s=t.isType(fo.LET);if(t.isType(fo.CONST)||s&&this.isNextLetKeyword()){const t=this.parseVariableDeclarations(Do.ForStatement),s=this.checkInOrOf();return s?this.parseForEachStatementWithDeclarations(t,s,e):(this.expect(fo.SEMICOLON),this.parseStandardForLoopWithLexicalDeclarations(t,e))}let r;if(t.isType(fo.VAR)){r=this.parseVariableDeclarations(Do.ForStatement);const t=this.checkInOrOf();if(t)return this.parseForEachStatementWithDeclarations(r,t,e)}else if(this.peek().isNotType(fo.SEMICOLON)){this.setAcceptIN(!1),r=this.parseExpressionCoverGrammar(),this.restoreAcceptIN();const t=this.current().isType(fo.ASYNC),n=this.checkInOrOf();if(n){if("OF"===n&&s||t)throw new SyntaxError(this.errorMessage(s?"For Of Let":"For Of Async"));return this.parseForEachStatementWithoutDeclarations(r,n,e)}}return this.expect(fo.SEMICOLON),this.parseStandardForLoop(r,e)}parseStandardForLoopWithLexicalDeclarations(e,t){return this.parseStandardForLoop(e,t)}parseForEachStatementWithDeclarations(e,t,s){if(1!=e.getDeclarations().length)throw new SyntaxError(this.errorMessage("For In/Of loop Multi Bindings"));return this.parseForEachStatementWithoutDeclarations(e,t,s)}parseForEachStatementWithoutDeclarations(e,t,s){let r;"OF"==t?(this.setAcceptIN(!0),r=this.parseAssignmentExpression(),this.restoreAcceptIN()):r=this.parseExpression(),this.expect(fo.RPAREN);const n=this.parseStatement(),i=this.createRange(s);if("OF"===t)return this.factory.createForOfStatement(e,r,n,i);if("IN"===t)return this.factory.createForInStatement(e,r,n,i);throw new Error(this.errorMessage(`parsing for loop: ${this.position()}`))}parseStandardForLoop(e,t){let s=this.factory.createEmptyStatement();this.peek().isNotType(fo.SEMICOLON)&&(s=this.parseExpression()),this.expect(fo.SEMICOLON);let r=this.factory.createEmptyStatement();this.peek().isNotType(fo.RPAREN)&&(r=this.parseExpression()),this.expect(fo.RPAREN);const n=this.parseStatement();return this.factory.createForStatement(n,e,s,r,this.createRange(t))}parseForAwaitStatement(){if(!this.isAwaitAllowed())throw new SyntaxError(this.errorMessage('"await" is not allowed'));const e=this.expect(fo.FOR);this.expect(fo.AWAIT),this.expect(fo.LPAREN);let t,s=!1,r=this.peek(),n=r.isType(fo.LET);if(r.isType(fo.VAR)||r.isType(fo.CONST)||n&&this.isNextLetKeyword()){s=!0;const e=this.parseVariableDeclarations(Do.ForStatement);if(1!=e.getDeclarations().length)throw new SyntaxError(this.errorMessage('For In/Of Loop MultiBindings, "for-await-of"'));t=e}else{if(n)throw new SyntaxError(this.errorMessage('The initializer does not contain declarations, For Of Let, "for-await-of"'));t=this.parseLeftHandSideExpression()}this.expectContextualKeyword("of"),this.setAcceptIN(!0);const i=this.parseAssignmentExpression();this.restoreAcceptIN(),this.expect(fo.RPAREN);const a=this.parseStatement(),o=this.createRange(e);return this.factory.createForAwaitOfStatement(t,i,a,o)}parseVariableDeclarations(e){let t;const s=this.peek(),r=s.token;switch(r){case fo.CONST:this.consume(r),t="const";break;case fo.VAR:this.consume(r),t="var";break;case fo.LET:default:this.consume(r),t="let"}const n=[];do{let s,r;const i=this.createStartPosition();if(fo.isAnyIdentifier(this.peek().token)){if(s=this.parseAndClassifyIdentifier(this.next()),ka(this.languageMode)&&this.isEvalOrArguments(s))throw new Error(this.errorMessage("Strict Eval Arguments"))}else s=this.parseBindingPattern(!0);if(this.check(fo.ASSIGN))this.setAcceptIN(e!==Do.ForStatement),r=this.parseAssignmentExpression(),this.restoreAcceptIN();else if(!this.peekInOrOf()&&"const"===t&&(void 0===s||void 0===r))throw new Error(this.errorMessage("Declaration Missing Initializer"));this.updateRangeEnd(i),n.push(this.factory.createVariableDeclaration(s,r,i))}while(this.check(fo.COMMA));const i=this.createRange(s);return this.factory.createVariableStatement(n,t,i)}parseBindingPattern(e){const t=this.peek().token;if(fo.isAnyIdentifier(t)){const e=this.parseAndClassifyIdentifier(this.next());if(ka(this.languageMode)&&this.isEvalOrArguments(e))throw new Error(this.errorMessage("Strict Eval Arguments"));return e}if(t==fo.LBRACK)return this.parseArrayLiteral(e);if(t==fo.LBRACE)return this.parseObjectLiteral(e);throw new Error(this.errorMessage(`Unexpected Token: ${this.next().getValue()}`))}parseAndClassifyIdentifier(e){if(fo.isInRangeIdentifierAndAsync(e.token)){const t=e.getValue();if(this.isArguments(t)&&this.shouldBanArguments())throw new SyntaxError(this.errorMessage("Arguments Disallowed In Initializer And Static Block"));return t}if(!fo.isValidIdentifier(e.token,this.languageMode,this.isGenerator(),this.isAwaitAsIdentifierDisallowed()))throw new SyntaxError(this.errorMessage("Invalid Identifier"));return e.isType(fo.AWAIT),e.getValue()}parseContinueStatement(){const e=this.consume(fo.CONTINUE);let t;this.scanner.hasLineTerminatorBeforeNext()||fo.isAutoSemicolon(this.peek().token)||(t=this.parseIdentifier());const s=this.createRange(e);return this.expectSemicolon(),this.factory.createContinueStatement(t,s)}parseBreakStatement(){const e=this.consume(fo.BREAK);let t;this.scanner.hasLineTerminatorBeforeNext()||fo.isAutoSemicolon(this.peek().token)||(t=this.parseIdentifier());const s=this.createRange(e);return this.expectSemicolon(),this.factory.createBreakStatement(t,s)}parseReturnStatement(){const e=this.consume(fo.RETURN),t=this.peek();let s;this.scanner.hasLineTerminatorBeforeNext()||fo.isAutoSemicolon(t.token)||(s=this.parseExpression());const r=this.createRange(e);return this.expectSemicolon(),this.factory.createReturnStatement(s,r)}parseExpressionOrLabelledStatement(e){switch(this.peek().token){case fo.FUNCTION:case fo.LBRACE:throw new Error(this.errorMessage("Unreachable state"));case fo.CLASS:throw new Error(this.errorMessage(`Unexpected Token ${this.next().getValue().toString()}`));case fo.LET:{const e=this.peekAhead();if(e.isNotType(fo.LBRACK)&&e.isNotType(fo.LBRACE)&&e.isNotType(fo.IDENTIFIER))break;throw new Error(this.errorMessage(`Unexpected Lexical Declaration ${this.position()}`))}}const t=this.createStartPosition(),s=fo.isAnyIdentifier(this.peek().token);this.setAcceptIN(!0);const r=this.parseExpressionCoverGrammar();if(this.peek().isType(fo.COLON)&&s&&this.factory.isIdentifier(r)){if(this.consume(fo.COLON),this.peek().isType(fo.FUNCTION)&&Ta(this.languageMode)&&e==Mo.AllowLabelledFunctionStatement){const e=this.parseFunctionDeclaration();return this.restoreAcceptIN(),this.updateRangeEnd(t),this.factory.createLabeledStatement(r,e,t)}const s=this.parseStatement(e);return this.restoreAcceptIN(),this.updateRangeEnd(t),this.factory.createLabeledStatement(r,s,t)}return this.restoreAcceptIN(),this.expectSemicolon(),r}parseExpression(){this.setAcceptIN(!0);const e=this.parseExpressionCoverGrammar();return this.restoreAcceptIN(),e}parseFunctionDeclaration(){const e=this.consume(fo.FUNCTION);if(this.check(fo.MUL))throw new Error(this.errorMessage("Error Generator In Single Statement Context"));return this.parseHoistableDeclaration01(xo.NormalFunction,void 0,!1,e)}parseAsyncFunctionLiteral(){if(this.current().isNotType(fo.ASYNC))throw new SyntaxError(this.errorMessage("invalid token"));const e=this.consume(fo.FUNCTION);let t,s=_o.AnonymousExpression,r=xo.AsyncFunction;return this.check(fo.MUL)&&(r=xo.AsyncGeneratorFunction),this.peekAnyIdentifier()&&(s=_o.NamedExpression,t=this.parseIdentifier(this.getLastFunctionKind())),this.parseFunctionLiteral(r,s,t,e)}parseHoistableDeclaration(e,t,s){this.consume(fo.FUNCTION);let r=xo.NormalFunction;return this.check(fo.MUL)&&(r=xo.GeneratorFunction),this.parseHoistableDeclaration01(r,e,t,s)}parseHoistableDeclaration01(e,t,s,r){let n;if(0!=(e&Ao.IsAsync)&&this.check(fo.MUL)&&(e|=Ao.IsGenerator),this.peek().isType(fo.LPAREN)){if(!s)throw new SyntaxError(this.errorMessage("Missing Function Name"));n=this.factory.createIdentifier("default",this.createRange(r))}else n=this.parseIdentifier(this.getLastFunctionKind());return t?.push(n.toString()),this.parseFunctionLiteral(e,_o.Declaration,n,r)}parseIdentifier(e){e??=this.functionKind;const t=this.next();if(!fo.isValidIdentifier(t.token,this.languageMode,jo(e),$o(e)))throw new Error(this.errorMessage(`Unexpected Token: ${t.getValue()}`));return t.isType(fo.IDENTIFIER)?t.getValue():this.getIdentifier()}getIdentifier(){const e=this.current();switch(e.token){case fo.AWAIT:return this.factory.createIdentifier("await",e.range);case fo.ASYNC:return this.factory.createIdentifier("async",e.range);case fo.IDENTIFIER:case fo.PRIVATE_NAME:return e.getValue()}const t=e.getValue().toString();return"constructor"==t?this.factory.createIdentifier("constructor",e.range):"name"==t?this.factory.createIdentifier("name",e.range):"eval"==t?this.factory.createIdentifier("eval",e.range):"arguments"==t?this.factory.createIdentifier("arguments",e.range):e.getValue()}parseFunctionLiteral(e,t,s,r){this.setFunctionKind(e),this.expect(fo.LPAREN);const n=this.parseFormalParameterList({});this.expect(fo.RPAREN);const i=this.expect(fo.LBRACE);this.setAcceptIN(!0);const a=this.parseFunctionBody(e,vo.BLOCK,t);this.restoreAcceptIN(),this.restoreFunctionKind();const o=this.createRange(i),c=this.createRange(r),l=this.factory.createBlock(a,o);return s?this.factory.createFunctionDeclaration(n,l,Ho(e),jo(e),s,c):this.factory.createFunctionExpression(n,l,Ho(e),jo(e),c)}parseFunctionBody(e,t,s){let r;if(t==vo.EXPRESSION)r=this.parseAssignmentExpression();else{const t=s==_o.Wrapped?fo.EOS:fo.RBRACE;r=Bo(e)?this.parseAndRewriteAsyncGeneratorFunctionBody(e):jo(e)?this.parseAndRewriteGeneratorFunctionBody(e):Ho(e)?this.parseAsyncFunctionBody():this.parseStatementList(t),this.expect(t)}return r}parseAndRewriteAsyncGeneratorFunctionBody(e){return this.parseStatementList(fo.RBRACE)}parseAndRewriteGeneratorFunctionBody(e){return this.parseStatementList(fo.RBRACE)}parseAsyncFunctionBody(){return this.parseStatementList(fo.RBRACE)}parseStatementList(e){this.peek().test(((e,t)=>fo.STRING===e&&"use strict"===t.getValue()))&&(this.languageMode=Aa.Strict);const t=[];for(;this.peek().isNotType(e);){const e=this.parseStatementListItem();if(!e)break;this.factory.isEmptyStatement(e)||t.push(e)}return t}parseFormalParameterList(e){const t=[];if(this.peek().isNotType(fo.RPAREN))for(;;){const s=this.parseFormalParameter(e);if(t.push(s),e.rest){if(this.peek().isType(fo.COMMA))throw new Error(this.errorMessage("Param After Rest"));break}if(!this.check(fo.COMMA))break;if(this.peek().isType(fo.RPAREN))break}return t}parseFormalParameter(e){const t=this.createStartPosition();e.rest=this.check(fo.ELLIPSIS);const s=this.parseBindingPattern(!0);let r;if(this.check(fo.ASSIGN)){if(e.rest)throw new Error(this.errorMessage("Rest Default Initializer"));this.setAcceptIN(!0);const n=this.parseAssignmentExpression();this.restoreAcceptIN(),this.updateRangeEnd(t);const i=this.checkParamType(s);r=this.factory.createAssignmentPattern(i,n,t)}else{this.updateRangeEnd(t);const n=this.checkParamType(s);r=e.rest?this.factory.createRestElement(n,n.range&&[t[0],n.range[1]]):n}return r}parseExpressionCoverGrammar(){const e=[];let t;for(;;){if(this.peek().isType(fo.ELLIPSIS))return this.parseArrowParametersWithRest(e);if(t=this.parseAssignmentExpressionCoverGrammar(),e.push(t),!this.check(fo.COMMA))break;if(this.peek().isType(fo.RPAREN)&&this.peekAhead().isType(fo.ARROW))break}return 1==e.length?t:this.expressionListToExpression(e)}parseArrowParametersWithRest(e){const t=this.consume(fo.ELLIPSIS),s=this.parseBindingPattern(!0),r=this.createRange(t);if(this.peek().isType(fo.ASSIGN))throw new Error(this.errorMessage("Error A rest parameter cannot have an initializer"));if(this.peek().isType(fo.COMMA))throw new Error(this.errorMessage("Error A rest parameter or binding pattern may not have a trailing comma"));if(this.peek().isNotType(fo.RPAREN)||this.peekAhead().isNotType(fo.ARROW))throw new Error(this.errorMessage(`Error Unexpected Token At ${this.position()}`));return e.push(this.factory.createSpreadElement(s,r)),this.expressionListToExpression(e)}expressionListToExpression(e){const t=e[0];if(1===e.length)return t;if(this.factory.isSequenceExpression(t))return t.getExpressions().push(...e.slice(1)),t;const s=this.createRange(e.at(0));return s&&this.updateRangeEnd(s),this.factory.createCommaListExpression(e,s)}parseMemberExpression(){const e=this.parsePrimaryExpression();return this.parseMemberExpressionContinuation(e)}parsePrimaryExpression(){let e=this.peek();if(fo.isAnyIdentifier(e.token)){this.consume(e.token);let t=xo.NormalFunction;if(e.isType(fo.ASYNC)&&!this.scanner.hasLineTerminatorBeforeNext()){if(this.peek().isType(fo.FUNCTION))return this.parseAsyncFunctionLiteral();fo.isAnyIdentifier(this.peek().token)&&this.peekAhead().isType(fo.ARROW)&&(e=this.next(),t=xo.AsyncFunction)}if(this.peek().isType(fo.ARROW)){this.setFunctionKind(t);const s=this.parseAndClassifyIdentifier(e),r=this.factory.isSequenceExpression(s)?s.getExpressions():[s],n=this.parseArrowFunctionLiteral(r,t,this.createRange(e));return this.restoreFunctionKind(),n}return this.parseAndClassifyIdentifier(e)}if(fo.isLiteral(e.token))return this.next().getValue();switch(e.token){case fo.NEW:return this.parseMemberWithPresentNewPrefixesExpression();case fo.THIS:return this.consume(fo.THIS),this.factory.createThis(e.range);case fo.DIV:case fo.DIV_ASSIGN:return this.parseRegExpLiteral();case fo.FUNCTION:return this.parseFunctionExpression();case fo.SUPER:return this.parseSuperExpression();case fo.IMPORT:return this.parseImportExpressions();case fo.LBRACK:return this.parseArrayLiteral(!1);case fo.LBRACE:return this.parseObjectLiteral(!1);case fo.LPAREN:{if(this.consume(fo.LPAREN),this.check(fo.RPAREN)){if(!this.peek().isType(fo.ARROW))throw new Error(this.errorMessage(`Unexpected Token: ${fo.RPAREN.getName()}`));const t=this.factory.createCommaListExpression([],this.createRange(e));return this.markParenthesized(t),t}this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();return this.markParenthesized(t),this.expect(fo.RPAREN),this.restoreAcceptIN(),t}case fo.CLASS:return this.parseClassExpression();case fo.TEMPLATE_SPAN:case fo.TEMPLATE_TAIL:return this.parseTemplateLiteral()}throw new Error(this.errorMessage(`Unexpected Token: ${JSON.stringify(this.next())}`))}parseTemplateLiteral(e){let t=this.peek();if(!fo.isTemplate(t.token))throw new SyntaxError(this.errorMessage(`Unexpected Token: ${JSON.stringify(this.next())}`));if(t.isType(fo.TEMPLATE_TAIL)){this.consume(fo.TEMPLATE_TAIL);const s=t.getValue();return this.createTemplateLiteralExpressionNode([s.string],[],e,s.range)}const s=this.consume(fo.TEMPLATE_SPAN),r=[],n=[];n.push(t.getValue().string);do{this.setAcceptIN(!0);const e=this.parseExpressionCoverGrammar();if(r.push(e),t=this.next(),t.isNotType(fo.RBRACE))throw this.restoreAcceptIN(),new SyntaxError(this.errorMessage("Unterminated Template Expr"));t=this.scanner.scanTemplateContinuation(),n.push(t.getValue().string),this.restoreAcceptIN()}while(t.isType(fo.TEMPLATE_SPAN));if(t.isNotType(fo.TEMPLATE_TAIL))throw new SyntaxError(this.errorMessage(`Unexpected Token: ${JSON.stringify(t)}`));const i=this.createRange(s);return this.createTemplateLiteralExpressionNode(n,r,e,i)}createTemplateLiteralExpressionNode(e,t,s,r){return s?this.factory.createTaggedTemplateExpression(s,e,t,r):this.factory.createTemplateExpression(e,t,r)}parseMemberWithPresentNewPrefixesExpression(){const e=this.consume(fo.NEW);let t;if(this.peek().isType(fo.IMPORT)&&this.peekAhead().isType(fo.LPAREN))throw new SyntaxError(this.errorMessage("Import Call Not New Expression"));if(this.peek().isType(fo.PERIOD))return t=this.parseNewTargetExpression(e),this.parseMemberExpressionContinuation(t);if(t=this.parseMemberExpression(),this.factory.isSuper(t))throw new SyntaxError(this.errorMessage("Unexpected Super, new super() is never allowed"));if(this.peek().isType(fo.LPAREN)){const s=this.parseArguments();return t=this.factory.createNewExpression(t,s,this.createRange(e)),this.parseMemberExpressionContinuation(t)}if(this.peek().isType(fo.QUESTION_PERIOD))throw new SyntaxError(this.errorMessage("Optional Chaining with New not allowed,  new x?.y()"));return this.factory.createNewExpression(t,void 0,this.createRange(e))}parseArguments(e){this.consume(fo.LPAREN);const t=[];for(;this.peek().isNotType(fo.RPAREN);){const s=this.createStartPosition(),r=this.check(fo.ELLIPSIS);this.setAcceptIN(!0);let n=this.parseAssignmentExpressionCoverGrammar();if(bo.MaybeArrowHead===e&&r){if(this.factory.isAssignmentExpression(n))throw this.restoreAcceptIN(),new Error(this.errorMessage(" Rest parameter may not have a default initializer'"));if(this.peek().isType(fo.COMMA))throw this.restoreAcceptIN(),new Error(this.errorMessage("parsing '...spread,arg =>'"))}if(r&&(this.updateRangeEnd(s),n=this.factory.createSpreadElement(n,s)),t.push(n),this.restoreAcceptIN(),!this.check(fo.COMMA))break}if(!this.check(fo.RPAREN))throw new Error(this.errorMessage("parsing arguments call, expecting ')'"));return t}parseAssignmentExpressionCoverGrammar(){const e=this.createStartPosition();if(this.peek().isType(fo.YIELD)&&jo(this.functionKind))return this.parseYieldExpression();let t=this.parseConditionalExpression();const s=this.peek().token;if(!fo.isArrowOrAssignmentOp(s))return this.clearParenthesized(t),t;if(s===fo.ARROW){if(!this.factory.isIdentifier(t)&&!this.isParenthesized(t))throw new Error(this.errorMessage("Malformed Arrow Fun Param List"));const s=xo.NormalFunction;let r;return this.setFunctionKind(s),this.factory.isSequenceExpression(t)?r=this.parseArrowFunctionLiteral(t.getExpressions(),xo.NormalFunction,e):this.factory.isGroupingExpression(t)?r=this.parseArrowFunctionLiteral([t.getNode()],xo.NormalFunction,e):(this.clearParenthesized(t),r=this.parseArrowFunctionLiteral([t],xo.NormalFunction,e)),this.restoreFunctionKind(),r}if(this.isAssignableIdentifier(t));else if(this.factory.isPropertyOrMemberExpression(t));else if(this.factory.canBePattern(t)&&fo.isAssignment(s))t=this.factory.isObjectExpression(t)?this.factory.createObjectBindingPattern(t.getProperties(),t.range):this.factory.createArrayBindingPattern(t.getElements(),t.range);else{if(!this.isValidReferenceExpression(t))throw new Error(this.errorMessage("Invalid Reference Expression"));if(fo.isLogicalAssignmentOp(s))throw new Error(this.errorMessage("Invalid Lhs In Assignment"))}this.consume(s);const r=this.parseAssignmentExpression();if(!fo.isAssignment(s))throw new Error(this.errorMessage("Invalid Destructuring Target"));return this.updateRangeEnd(e),this.factory.createAssignment(s.getName(),t,r,e)}parseAssignmentExpression(){return this.parseAssignmentExpressionCoverGrammar()}checkParamType(e){if(this.factory.isArrayExpression(e))return this.factory.createArrayBindingPattern(e.getElements(),e.range);if(this.factory.isObjectExpression(e))return this.factory.createObjectBindingPattern(e.getProperties(),e.range);if(this.factory.isSpreadElement(e)){let t=e.getArgument();return this.factory.isArrayExpression(t)?t=this.factory.createArrayBindingPattern(t.getElements(),t.range):this.factory.isObjectExpression(t)&&(t=this.factory.createObjectBindingPattern(t.getProperties(),t.range)),this.factory.createRestElement(t,e.range)}return e}parseArrowFunctionLiteral(e,t,s){if(e=e.map((e=>this.checkParamType(e))),this.peek().isNotType(fo.ARROW))throw new SyntaxError(this.errorMessage("SyntaxError Expecting Arrow Token"));if(this.scanner.hasLineTerminatorBeforeNext())throw new SyntaxError(this.errorMessage('Unexpected Token "\n" a line terminator after arrow token"'));let r,n=!0;return this.consume(fo.ARROW),this.peek().isType(fo.LBRACE)?(this.consume(fo.LBRACE),this.setStatue(!0,t),r=this.parseFunctionBody(t,vo.BLOCK,_o.AnonymousExpression),this.restoreStatue()):(n=!1,r=this.parseFunctionBody(t,vo.EXPRESSION,_o.AnonymousExpression)),this.updateRangeEnd(s),this.factory.createArrowFunction(e,r,!n,Ho(t),s)}parseRegExpLiteral(){if(!this.scanner.scanRegExpPattern())throw new Error("Unterminated RegExp");return this.scanner.currentToken().getValue()}parseArrayLiteral(e){const t=this.consume(fo.LBRACK);let s=-1;const r=[];for(;!this.check(fo.RBRACK);){let t;const n=this.peek();if(n.isType(fo.COMMA))t=null;else if(this.check(fo.ELLIPSIS)){this.setAcceptIN(!0);const i=this.parsePossibleDestructuringSubPattern();if(this.restoreAcceptIN(),t=this.factory.createSpreadElement(i,this.createRange(n)),s<0&&(s=r.length),this.factory.isAssignmentExpression(i)&&e)throw new SyntaxError(this.errorMessage("Invalid Destructuring Target"));if(this.peek().isType(fo.COMMA))throw new SyntaxError(this.errorMessage("Element After Rest"))}else this.setAcceptIN(!0),t=this.parsePossibleDestructuringSubPattern(),this.restoreAcceptIN();r.push(t),this.peek().isNotType(fo.RBRACK)&&this.expect(fo.COMMA)}const n=this.createRange(t);return e?this.factory.createArrayBindingPattern(r,n):this.factory.createArrayLiteralExpression(r,n)}parsePossibleDestructuringSubPattern(){return this.parseAssignmentExpressionCoverGrammar()}parseObjectLiteral(e){const t=this.consume(fo.LBRACE),s=[];for(;!this.check(fo.RBRACE);){const t=this.parseObjectPropertyDefinition(e);s.push(t),this.peek().isNotType(fo.RBRACE)&&this.expect(fo.COMMA)}const r=this.createRange(t);return e?this.factory.createObjectBindingPattern(s,r):this.factory.createObjectLiteralExpression(s,r)}parseObjectPropertyDefinition(e){const t=new ko,s=this.parseProperty(t);switch(t.kind){case So.Spread:let r=s;e&&(r=this.factory.createRestElement(r.getArgument(),r.range));const n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(r.getArgument(),r,"init",!1,!1,t.isComputedName,n);case So.Value:{this.consume(fo.COLON),this.setAcceptIN(!0);const e=this.parsePossibleDestructuringSubPattern();this.restoreAcceptIN();const r=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,e,"init",!1,!1,t.isComputedName,r)}case So.Assign:case So.ShorthandOrClassField:case So.Shorthand:{const e=this.factory.createIdentifier(t.name,this.createRange(t.rangeStart));if(!this.isAssignableIdentifier(e))throw new Error(this.errorMessage("Strict Eval Arguments"));let r;if(this.peek().isType(fo.ASSIGN)){this.consume(fo.ASSIGN),this.setAcceptIN(!0);const s=this.parseAssignmentExpression();this.restoreAcceptIN(),r=this.factory.createAssignment(fo.ASSIGN.getName(),e,s,this.createRange(t.rangeStart))}else r=e;const n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,r,"init",!1,t.kind!==So.Assign,t.isComputedName,n)}case So.Method:{const e=this.methodKindFor(t.isStatic,t.funcFlag),r=this.parseFunctionLiteral(e,_o.AccessorOrMethod,t.name?this.factory.createIdentifier(t.name):void 0,t.rangeStart),n=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,r,"init",!0,!1,t.isComputedName,n)}case So.AccessorGetter:case So.AccessorSetter:{const e=t.kind==So.AccessorGetter,r=this.methodKindFor(t.isStatic,t.funcFlag),n=this.parseFunctionLiteral(r,_o.AccessorOrMethod,t.name?this.factory.createIdentifier(t.name,this.createRange(t.rangeStart)):void 0,t.rangeStart),i=this.createRange(t.rangeStart);return this.factory.createPropertyDeclaration(s,n,e?"get":"set",!1,!1,t.isComputedName,i)}case So.ClassField:case So.NotSet:return this.factory.createNull(this.createRange(t.rangeStart))}}parseProperty(e){let t,s=this.peek();if(e.rangeStart=s,this.check(fo.ASYNC)){if(s=this.peek(),s.isNotType(fo.MUL)&&e.parsePropertyKindFromToken(s.token)||this.scanner.hasLineTerminatorBeforeNext())return this.factory.createIdentifier("async",this.createRange(e.rangeStart));e.kind=So.Method,e.funcFlag=Ao.IsAsync}if(s=this.peek(),this.check(fo.MUL)&&(e.kind=So.Method,e.funcFlag=Ao.IsGenerator),s=this.peek(),e.kind==So.NotSet&&s.isType(fo.GET)||s.isType(fo.SET)){const t=this.next();if(e.parsePropertyKindFromToken(this.peek().token))return this.factory.createIdentifier(s.isType(fo.GET)?"get":"set",this.createRange(e.rangeStart));t.isType(fo.GET)?e.kind=So.AccessorGetter:t.isType(fo.SET)&&(e.kind=So.AccessorSetter),s=this.peek()}switch(s.token){case fo.PRIVATE_NAME:if(e.isPrivate=!0,this.consume(fo.PRIVATE_NAME),e.kind==So.NotSet&&e.parsePropertyKindFromToken(this.peek().token),t=this.getIdentifier(),e.name=t.getName(),e.position==Eo.ObjectLiteral)throw new TypeError(this.errorMessage("UnexpectedToken PRIVATE_NAME"));break;case fo.STRING:case fo.NUMBER:case fo.BIGINT:this.consume(s.token),t=s.getValue(),e.name=t.getValue();break;case fo.LBRACK:return this.consume(fo.LBRACK),this.setAcceptIN(!0),t=this.parseAssignmentExpression(),this.expect(fo.RBRACK),e.kind===So.NotSet&&e.parsePropertyKindFromToken(this.peek().token),e.name=t.toString(),this.restoreAcceptIN(),t;case fo.ELLIPSIS:if(e.kind==So.NotSet){if(this.consume(fo.ELLIPSIS),this.setAcceptIN(!0),t=this.parsePossibleDestructuringSubPattern(),e.kind=So.Spread,!this.isValidReferenceExpression(t))throw new Error(this.errorMessage("Invalid Rest Binding/Assignment Pattern"));if(this.peek().isNotType(fo.RBRACE))throw new Error(this.errorMessage("Element After Rest"));return e.name=t.toString(),this.restoreAcceptIN(),this.factory.createSpreadElement(t,this.createRange(s))}default:t=this.parsePropertyOrPrivatePropertyName(),e.name=t.toString()}return e.kind===So.NotSet&&e.parsePropertyKindFromToken(this.peek().token),t}parseMemberExpressionContinuation(e){return fo.isMember(this.peek().token)?this.doParseMemberExpressionContinuation(e):e}doParseMemberExpressionContinuation(e){if(!fo.isMember(this.peek().token))throw new Error(this.errorMessage("Parsing member expression"));do{switch(this.peek().token){case fo.LBRACK:{this.consume(fo.LBRACK),this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();e=this.factory.createPropertyAssignment(e,t,!0,!1,this.createRange(e)),this.expect(fo.RBRACK),this.restoreAcceptIN();break}case fo.PERIOD:{this.consume(fo.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,t,!1,!1,this.createRange(e));break}case fo.TEMPLATE_SPAN:case fo.TEMPLATE_TAIL:e=this.parseTemplateLiteral(e);break;default:throw new SyntaxError(this.errorMessage("unknown token position"))}}while(fo.isMember(this.peek().token));return e}parsePropertyOrPrivatePropertyName(){const e=this.next();if(e.isType(fo.IDENTIFIER)||e.isType(fo.PRIVATE_NAME))return e.getValue();if(fo.isPropertyName(e.token)&&e.isNotType(fo.EOS))return this.factory.createIdentifier(e.token.getName(),e.range);throw new SyntaxError(this.errorMessage("Parsing property expression: Unexpected Token"))}parsePipelineExpression(e){let t;for(;fo.isPipelineOperator(t=this.peek().token);)this.consume(t),e=this.parsePipelineBody(e);return e}parsePipelineBody(e){let t,s=this.peek();switch(s.token){case fo.FUNCTION:t=this.parseFunctionExpression();break;case fo.ASYNC:this.peekAhead().isType(fo.FUNCTION)&&!this.scanner.hasLineTerminatorAfterNext()&&(this.consume(fo.ASYNC),t=this.parseAsyncFunctionLiteral())}if(t)return this.factory.createPipelineExpression(e,t,void 0,this.createRange(e));if(s.isType(fo.LPAREN))return t=this.parsePrimaryExpression(),this.factory.createPipelineExpression(e,t,void 0,this.createRange(e));const r=this.parseMemberExpression();let n=[];switch(this.peek().token){case fo.COLON:do{this.consume(fo.COLON);const e=this.peek(),t=this.check(fo.ELLIPSIS);if(this.peek().isType(fo.CONDITIONAL))this.consume(fo.CONDITIONAL),t?n.push("...?"):n.push("?");else{const s=this.parseAssignmentExpressionCoverGrammar();t?n.push(this.factory.createSpreadElement(s,this.createRange(e))):n.push(s)}}while(this.peek().isType(fo.COLON));break;case fo.LPAREN:this.consume(fo.LPAREN);let s=!1;for(;this.peek().isNotType(fo.RPAREN);){const e=this.peek(),t=this.check(fo.ELLIPSIS);if(this.peek().isType(fo.CONDITIONAL))this.consume(fo.CONDITIONAL),s=!0,t?n.push("...?"):n.push("?");else{const s=this.parseAssignmentExpressionCoverGrammar();t?n.push(this.factory.createSpreadElement(s,this.createRange(e))):n.push(s)}this.check(fo.COMMA)}if(this.expect(fo.RPAREN),!s)return t=this.factory.createCallExpression(r,n,!1,this.createRange(r)),this.factory.createPipelineExpression(e,t,void 0,this.createRange(e))}return this.factory.createPipelineExpression(e,r,n,this.createRange(e))}parseConditionalExpression(){let e=this.parseLogicalExpression();return e=this.parsePipelineExpression(e),this.peek().isType(fo.CONDITIONAL)?this.parseConditionalContinuation(e):e}parseLogicalExpression(){let e=this.parseBinaryExpression(6);const t=this.peek();if(t.isType(fo.AND)||t.isType(fo.OR)){const s=fo.precedence(t.token,this.acceptIN);e=this.parseBinaryContinuation(e,4,s)}else t.isType(fo.NULLISH)&&(e=this.parseNullishExpression(e));return e}parseBinaryContinuation(e,t,s){do{for(;fo.precedence(this.peek().token,this.acceptIN)===s;){let t,r=this.next();const n=r.isType(fo.EXP)?s:s+1;if(t=this.parseBinaryExpression(n),fo.isCompare(r.token)){let s=r.token;switch(r.token){case fo.NE:s=fo.EQ;break;case fo.NE_STRICT:s=fo.EQ_STRICT}e=this.factory.createInfixExpression(s.getName(),e,t,this.createRange(e)),r.isNotType(s)&&(e=this.factory.createUnaryExpression(fo.NOT.getName(),e,this.createRange(r)))}else e=this.factory.createInfixExpression(r.token.getName(),e,t,this.createRange(e))}--s}while(s>=t);return e}parseBinaryExpression(e){if(this.peek().isType(fo.PRIVATE_NAME)){const t=this.parsePropertyOrPrivatePropertyName(),s=fo.precedence(this.peek().token,this.acceptIN);if(this.peek().isNotType(fo.IN)||s<e)throw new SyntaxError(this.errorMessage('Unexpected Token Token.PRIVATE_NAME "#name"'));return this.parseBinaryContinuation(t,e,s)}const t=this.parseUnaryExpression(),s=fo.precedence(this.peek().token,this.acceptIN);return s>=e?this.parseBinaryContinuation(t,e,s):t}parseUnaryExpression(){const e=this.peek();return fo.isUnaryOrCount(e.token)?this.parseUnaryOrPrefixExpression():e.isType(fo.AWAIT)&&this.isAwaitAllowed()?this.parseAwaitExpression():this.parsePostfixExpression()}parseUnaryOrPrefixExpression(){const e=this.next(),t=this.parseUnaryExpression();if(fo.isUnary(e.token)){if(e.isType(fo.DELETE)){if(this.factory.isIdentifier(t)&&ka(this.languageMode))throw new Error(this.errorMessage('"delete identifier" is a syntax error in strict mode'));if(this.factory.isMemberExpression(t)&&t.getProperty().toString().startsWith("#"))throw new Error(this.errorMessage('"Delete Private Field" is a syntax error'))}if(this.peek().isType(fo.EXP))throw new Error(this.errorMessage("Unexpected Token Unary Exponentiation"))}if(fo.isCount(e.token)||fo.isUnary(e.token))return this.factory.createUnaryExpression(e.token.getName(),t,this.createRangeByStart(e));throw new Error(this.errorMessage("while rewrite unary operation"))}parsePostfixExpression(){const e=this.parseLeftHandSideExpression();return!fo.isCount(this.peek().token)||this.scanner.hasLineTerminatorBeforeNext()?e:this.parsePostfixContinuation(e)}parsePostfixContinuation(e){if(!this.isValidReferenceExpression(e))throw new Error(this.errorMessage("Invalid LHS In Postfix Op."));const t=this.next();return this.factory.createUpdateExpression(t.token.getName(),e,!1,this.createRange(e))}parseLeftHandSideExpression(){const e=this.parseMemberExpression();return fo.isPropertyOrCall(this.peek().token)?this.parseLeftHandSideContinuation(e):e}parseLeftHandSideContinuation(e){if(this.peek().isType(fo.LPAREN)&&this.factory.isIdentifier(e)&&this.scanner.currentToken().isType(fo.ASYNC)&&!this.scanner.hasLineTerminatorBeforeNext()){const t=this.parseArguments(bo.AsyncArrowFunction);if(this.peek().isType(fo.ARROW))return t.length?this.expressionListToExpression(t):new Jo;if(e=this.factory.createCallExpression(e,t,!1,this.createRange(e)),!fo.isPropertyOrCall(this.peek().token))return e}let t=!1,s=!1;do{switch(this.peek().token){case fo.QUESTION_PERIOD:{if(s)throw new Error(this.errorMessage("Failure Expression"));if(this.consume(fo.QUESTION_PERIOD),s=!0,t=!0,fo.isPropertyOrCall(this.peek().token))continue;const r=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,r,!1,s,this.createRange(e));break}case fo.LBRACK:{this.consume(fo.LBRACK),this.setAcceptIN(!0);const t=this.parseExpressionCoverGrammar();this.restoreAcceptIN(),e=this.factory.createPropertyAssignment(e,t,!0,s,this.createRange(e)),this.expect(fo.RBRACK);break}case fo.PERIOD:{if(s)throw new Error(this.errorMessage(`Unexpected Token:${this.position()}`));this.consume(fo.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createPropertyAssignment(e,t,!1,s,this.createRange(e));break}case fo.LPAREN:{const t=this.parseArguments();e=this.factory.createCallExpression(e,t,s,this.createRange(e));break}case fo.BIND:{if(s)throw new Error(this.errorMessage(`Unexpected Token:${this.position()}`));this.consume(fo.BIND);const t=this.parsePropertyOrPrivatePropertyName();e=this.factory.createBindExpression(e,t,!1,s,this.createRange(e));break}case fo.QUESTION_BIND:{if(s)throw new Error(this.errorMessage("Failure Expression"));this.consume(fo.QUESTION_BIND),s=!0,t=!0;const r=this.parsePropertyOrPrivatePropertyName();e=this.factory.createBindExpression(e,r,!0,s,this.createRange(e));break}default:if(t)throw new Error(this.errorMessage("Optional Chaining No Template support"));e=this.parseTemplateLiteral(e)}s&&(s=!1)}while(fo.isPropertyOrCall(this.peek().token));return t&&(e=this.factory.createChainExpression(e,this.createRange(e))),e}parseAwaitExpression(){const e=this.consume(fo.AWAIT),t=this.parseUnaryExpression();if(this.peek().isType(fo.EXP))throw new Error(this.scanner.createError("Unexpected Token Unary Exponentiation"));return this.factory.createAwaitExpression(t,this.createRange(e))}parseNullishExpression(e){const t=[];for(t.push(e);this.peek().isType(fo.NULLISH);)this.consume(fo.NULLISH),e=this.parseBinaryExpression(6),t.push(e);return e=t.pop(),t.reverse().reduce(((e,t)=>this.factory.createLogicalExpression(fo.NULLISH.getName(),t,e)),e)}parseConditionalContinuation(e){this.consume(fo.CONDITIONAL),this.setAcceptIN(!0);const t=this.parseAssignmentExpression();this.restoreAcceptIN(),this.expect(fo.COLON);const s=this.parseAssignmentExpression();return this.factory.createConditionalExpression(e,t,s)}parseYieldExpression(){this.consume(fo.YIELD);let e,t=!1;if(!this.scanner.hasLineTerminatorBeforeNext())switch(this.check(fo.MUL)&&(t=!0),this.peek().token){case fo.EOS:case fo.SEMICOLON:case fo.RBRACE:case fo.RBRACK:case fo.RPAREN:case fo.COLON:case fo.COMMA:case fo.IN:if(!t)break;throw new Error(this.errorMessage("Delegating yields require an RHS"));default:e=this.parseAssignmentExpressionCoverGrammar()}return this.factory.createYieldExpression(t,e)}parseNewTargetExpression(e){throw new Error(this.errorMessage("Expression (new.target) not supported."))}parseClassExpression(){throw new Error(this.errorMessage("Expression (class) not supported."))}parseClassDeclaration(e,t,s){throw new Error(this.errorMessage("Expression (class) not supported."))}parseClassLiteral(e,t){throw new Error(this.errorMessage("Expression (class) not supported."))}parseSuperExpression(){throw new Error(this.errorMessage("Expression (supper) not supported."))}parseImportExpressions(){throw new Error(this.errorMessage("Expression (import) not supported."))}parseWithStatement(){throw new Error(this.errorMessage("Expression (with) not supported."))}}class nl extends rl{static parse(e,{mode:t,factory:s,addLocation:r}={}){t??=Aa.Strict;const n="string"==typeof e||Array.isArray(e)?Yo.getTokenStream(e,t):e;if(null==s){const t=r&&"string"==typeof e?new el(e):void 0;s=new tl(t)}return new nl(n,s,!1).scan()}static parseScript(e,t){return rl.parse(e,t)}scan(){const e=this.createStartPosition(),t=ka(this.languageMode);t&&this.setFunctionKind(xo.Module);const s=t?this.parseModuleItemList():this.parseStatementList(fo.EOS);return this.updateRangeEnd(e),this.factory.createProgram(t?"module":"script",s,e)}parseNewTargetExpression(e){this.consume(fo.PERIOD);const t=this.parsePropertyOrPrivatePropertyName();if("target"!==t.toString())throw new Error(this.errorMessage(`Expression (new.${t.toString()}) not supported.`));return this.factory.createMetaProperty(this.factory.createIdentifier("new",e?.range),this.factory.createIdentifier("target",t.range),this.createRange(e))}parseClassExpression(){let e;this.consume(fo.CLASS);let t=!1;this.peekAnyIdentifier()&&(e=this.parseAndClassifyIdentifier(this.next()),t=fo.isStrictReservedWord(this.current().token));const s=this.parseClassLiteral(e,t);return this.factory.createClassExpression(s.getBody(),s.getDecorators(),s.getId(),s.getSuperClass())}parseClassDeclaration(e,t,s){const r=this.peek().token,n=fo.isStrictReservedWord(r);let i,a;if(!t||r!=fo.EXTENDS&&r!=fo.LBRACE){const e=this.parseIdentifier();a=e.getName(),i=e}else i=new ja("default"),a=".default";const o=this.parseClassLiteral(i,n),c=this.createRange(s);return this.factory.createClassDeclaration(o.getBody(),o.getDecorators(),o.getId(),o.getSuperClass(),c)}parseClassLiteral(e,t){const s=!e;if(!s){if(t)throw new Error(this.errorMessage("Unexpected Strict Reserved class name"));if(this.isEvalOrArguments(e))throw new Error(this.errorMessage("Strict Eval Arguments not allowed for class name"))}const r={publicMembers:[],privateMembers:[],staticElements:[],instanceFields:[],constructor:void 0,hasSeenConstructor:!1,hasStaticComputedNames:!1,hasStaticElements:!1,hasStaticPrivateMethods:!1,hasStaticBlocks:!1,hasInstanceMembers:!1,requiresBrand:!1,isAnonymous:!1,hasPrivateMethods:!1,computedFieldCount:0};r.isAnonymous=s,this.check(fo.EXTENDS)&&(r.extends=this.parseLeftHandSideExpression());const n=this.expect(fo.LBRACE),i=!!r.extends;for(;this.peek().isNotType(fo.RBRACE);){if(this.check(fo.SEMICOLON))continue;if(this.peek().isType(fo.STATIC)&&this.peekAhead().isType(fo.LBRACE)){const e=this.parseClassStaticBlock(r);r.staticElements.push(e),r.hasStaticBlocks=!0;continue}let t=!r.hasSeenConstructor;const s=new ko;s.position=Eo.ClassLiteral;const n=this.parseClassPropertyDefinition(r,s,i),a=Go(s.kind);!r.hasStaticComputedNames&&s.isStatic&&s.isComputedName&&(r.hasStaticComputedNames=!0),t&&=r.hasSeenConstructor;const o=a==Ro.FIELD;if(s.isPrivate){if(t)throw new Error(this.errorMessage("private constructor is not allowed"));r.requiresBrand||=!o&&!s.isStatic;const e=a==Ro.METHOD;r.hasPrivateMethods||=e,r.hasStaticPrivateMethods||=e&&s.isStatic,this.declarePrivateClassMember(s.name,n,a,s.isStatic,r)}else o?(s.isComputedName&&r.computedFieldCount++,this.declarePublicClassField(n,s.isStatic,s.isComputedName,r)):this.declarePublicClassMethod(e,n,t,r)}const a=this.expect(fo.RBRACE),o=this.rewriteClassLiteral(r,e,[n.range[0],a.range[1]]);return new uo(o,[],e,r.extends)}declarePublicClassMethod(e,t,s,r){if(s){if(r.constructor)throw new SyntaxError(this.errorMessage("A class may only have one constructor."));return r.constructor=t,void Reflect.set(r.constructor,"id",e)}r.publicMembers.push(t)}declarePublicClassField(e,t,s,r){t?r.staticElements.push(e):r.instanceFields.push(e)}declarePrivateClassMember(e,t,s,r,n){n.privateMembers.push(t)}parseClassPropertyDefinition(e,t,s){if(!e)throw new Error(this.errorMessage("class info is undefined"));if(t.position!==Eo.ClassLiteral)throw new Error(this.errorMessage("expected property position ClassLiteral"));let r;switch(this.peek().isType(fo.STATIC)?(this.consume(fo.STATIC),this.peek().isType(fo.LPAREN)?(t.kind=So.Method,r=this.parseIdentifier(),t.name=r.getName()):this.peek().isType(fo.ASSIGN)||this.peek().isType(fo.SEMICOLON)||this.peek().isType(fo.RBRACK)?(r=this.parseIdentifier(),t.name=r.getName()):(t.isStatic=!0,r=this.parseProperty(t))):r=this.parseProperty(t),t.kind){case So.Assign:case So.ClassField:case So.ShorthandOrClassField:case So.NotSet:{t.kind=So.ClassField;const s=this.parseMemberInitializer(e,t.isStatic);this.expectSemicolon();const n=this.newClassLiteralProperty(r,s,Ro.FIELD,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart);return this.setFunctionNameFromPropertyName(n,t.name),n}case So.Method:{t.isComputedName||this.checkClassMethodName(t,e);let n=this.methodKindFor(t.isStatic,t.funcFlag);t.isStatic||"constructor"!==t.name.toString()||(e.hasSeenConstructor=!0,n=s?xo.DerivedConstructor:xo.BaseConstructor);const i=this.parseFunctionLiteral(n,_o.AccessorOrMethod,r,t.rangeStart),a=this.newClassLiteralProperty(r,i,Vo.Kind.METHOD,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart);return this.setFunctionNameFromPropertyName(a,t.name),a}case So.AccessorGetter:case So.AccessorSetter:{if(t.funcFlag!==Ao.IsNormal)throw new Error(this.errorMessage("accessor is not normal function"));const s=t.kind==So.AccessorGetter;let n;t.isComputedName||(this.checkClassMethodName(t,e),r=new ja(t.name)),n=t.isStatic?s?xo.StaticGetterFunction:xo.StaticSetterFunction:s?xo.GetterFunction:xo.SetterFunction;const i=this.parseFunctionLiteral(n,_o.AccessorOrMethod,r,t.rangeStart),a=s?Vo.Kind.GETTER:Vo.Kind.SETTER,o=this.newClassLiteralProperty(r,i,a,t.isStatic,t.isComputedName,t.isPrivate,t.rangeStart),c=s?"get ":"set ";return this.setFunctionNameFromPropertyName(o,t.name,c),o}case So.Value:case So.Shorthand:case So.Spread:return this.factory.createNull(t.rangeStart?.range)}throw new Error(this.errorMessage("UNREACHABLE"))}checkClassMethodName(e,t){if(e.kind!=So.Method&&!To(e.kind))throw new Error(this.errorMessage("not kind of method or setter or getter"));if(e.isPrivate&&"constructor"===e.name.toString())throw new Error(this.errorMessage("constructor is private"));if(e.isStatic&&"prototype"===e.name.toString())throw new Error(this.errorMessage("static prototype"));if("constructor"===e.name.toString()){if(e.funcFlag!==Ao.IsNormal||To(e.kind)){if(e.funcFlag===Ao.IsGenerator)throw new Error(this.errorMessage("constructor is generator"));if(e.funcFlag===Ao.IsAsync)throw new Error(this.errorMessage("constructor is async"));if(t.hasSeenConstructor)throw new Error(this.errorMessage("duplicate constructor"))}t.hasSeenConstructor=!0}}parseClassStaticBlock(e){this.consume(fo.STATIC),this.setStatue(!0,xo.ClassStaticInitializerFunction);const t=this.parseBlock();return this.restoreStatue(),e.hasStaticElements=!0,this.factory.createClassStaticBlockDeclaration(t.getBody(),t.range)}newClassLiteralProperty(e,t,s,r,n,i,a){const o=this.createRange(a);switch(s){case Ro.METHOD:return"constructor"===e.toString()?this.factory.createMethodSignature("constructor",e,t,[],n,r,o):this.factory.createMethodSignature("method",e,t,[],n,r,o);case Ro.GETTER:return this.factory.createMethodSignature("get",e,t,[],n,r,o);case Ro.SETTER:return this.factory.createMethodSignature("set",e,t,[],n,r,o);case Ro.FIELD:return this.factory.createPropertySignature(e,[],n,r,t,o)}throw new Error(this.errorMessage("UNREACHABLE"))}parseMemberInitializer(e,t){const s=t?xo.ClassStaticInitializerFunction:xo.ClassMembersInitializerFunction;let r;return this.check(fo.ASSIGN)&&(this.setStatue(!0,s),r=this.parseAssignmentExpression(),this.restoreStatue()),t?e.hasStaticElements=!0:e.hasInstanceMembers=!0,r}setFunctionNameFromPropertyName(e,t,s){}parseSuperExpression(){const e=this.consume(fo.SUPER);if(fo.isProperty(this.peek().token)){if(this.peek().isType(fo.PERIOD)&&this.peekAhead().isType(fo.PRIVATE_NAME))throw this.consume(fo.PERIOD),this.consume(fo.PRIVATE_NAME),new Error(this.errorMessage("Unexpected Private Field"));if(this.peek().isType(fo.QUESTION_PERIOD))throw this.consume(fo.QUESTION_PERIOD),new Error(this.errorMessage("Optional Chaining No Super"));return this.factory.createSuper(e.range)}throw new Error(this.errorMessage("Unexpected Super"))}rewriteClassLiteral(e,t,s){const r=[];return e.hasSeenConstructor&&r.push(e.constructor),r.push(...e.staticElements),r.push(...e.instanceFields),r.push(...e.publicMembers),r.push(...e.privateMembers),this.factory.createClassBody(r,s)}parseModuleItemList(){const e=[];for(;this.peek().isNotType(fo.EOS);){const t=this.parseModuleItem();if(!t)break;this.factory.isEmptyStatement(t)||e.push(t)}return e}parseModuleItem(){const e=this.peek();if(e.isType(fo.EXPORT))return this.parseExportDeclaration();if(e.isType(fo.IMPORT)){const e=this.peekAhead();if(e.isNotType(fo.LPAREN)&&e.isNotType(fo.PERIOD))return this.parseImportDeclaration()}return this.parseStatementListItem()}parseExportDeclaration(){const e=this.expect(fo.EXPORT);let t;const s=[];switch(this.peek().token){case fo.DEFAULT:return this.parseExportDefault(e);case fo.MUL:return this.parseExportStar(e);case fo.LBRACE:{const t=this.parseExportClause();let s,r;return this.checkContextualKeyword("from")?(s=this.parseModuleSpecifier(),r=this.parseImportAssertClause(),this.expectSemicolon()):this.expectSemicolon(),this.factory.createNamespaceExportDeclaration(t,void 0,s,r,this.createRange(e))}case fo.FUNCTION:{const s=this.parseFunctionDeclaration(),r=s.getId(),n=this.factory.createExportSpecifier(r,r,r.range);t=this.factory.createNamespaceExportDeclaration([n],s,void 0,void 0,this.createRange(e));break}case fo.CLASS:{const r=this.consume(fo.CLASS),n=this.parseClassDeclaration(s,!1,r),i=n.getId(),a=this.factory.createExportSpecifier(i,i,i.range);t=this.factory.createNamespaceExportDeclaration([a],n,void 0,void 0,this.createRange(e));break}case fo.VAR:case fo.LET:case fo.CONST:const r=this.parseVariableStatement(Do.StatementListItem,s),n=r.getDeclarations().map((e=>this.factory.createExportSpecifier(e.getId(),e.getId(),e.getId().range)));t=this.factory.createNamespaceExportDeclaration(n,r,void 0,void 0,this.createRange(e));break;case fo.ASYNC:const i=this.consume(fo.ASYNC);if(this.peek().isType(fo.FUNCTION)&&!this.scanner.hasLineTerminatorBeforeNext()){const r=this.parseAsyncFunctionDeclaration(s,!1,i),n=r.getId(),a=this.factory.createExportSpecifier(n,n,n.range);t=this.factory.createNamespaceExportDeclaration([a],r,void 0,void 0,this.createRange(e));break}default:throw new SyntaxError(this.errorMessage("Unexpected Token"))}return t}parseImportDeclaration(){const e=this.expect(fo.IMPORT),t=this.peek();if(t.isType(fo.STRING)){const t=this.parseModuleSpecifier(),s=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createImportDeclaration(t,void 0,s,this.createRange(e))}let s,r,n;if(t.isNotType(fo.MUL)&&t.isNotType(fo.LBRACE)&&(s=this.parseNonRestrictedIdentifier()),null==s||this.check(fo.COMMA))switch(this.peek().token){case fo.MUL:this.consume(fo.MUL),this.expectContextualKeyword("as"),r=this.parseNonRestrictedIdentifier();break;case fo.LBRACE:n=this.parseNamedImports();break;default:throw new SyntaxError(this.errorMessage("Unexpected Token"))}this.expectContextualKeyword("from");const i=this.parseModuleSpecifier(),a=this.parseImportAssertClause();this.expectSemicolon();const o=[];return r&&o.push(this.factory.createImportNamespaceSpecifier(r,r.range)),s&&o.push(this.factory.createImportDefaultSpecifier(s,s.range)),n?.length&&o.push(...n),this.factory.createImportDeclaration(i,o.length?o:void 0,a,this.createRange(e))}parseImportExpressions(){const e=this.consume(fo.IMPORT);if(this.check(fo.PERIOD)){const t=this.peek();return this.expectContextualKeyword("meta"),this.factory.createMetaProperty(this.factory.createIdentifier("import",e.range),this.factory.createIdentifier("meta",t.range),this.createRange(e))}if(this.peek().isNotType(fo.LPAREN))throw new SyntaxError(this.errorMessage("Unexpected Token"));if(this.consume(fo.LPAREN),this.peek().isType(fo.RPAREN))throw new SyntaxError(this.errorMessage("Import Missing Specifier"));this.setAcceptIN(!0);const t=this.parseAssignmentExpressionCoverGrammar();if(this.check(fo.COMMA)){if(this.check(fo.RPAREN))return this.factory.createImportExpression(t,void 0,this.createRange(e));{const s=this.parseAssignmentExpressionCoverGrammar();return this.check(fo.COMMA),this.expect(fo.RPAREN),this.factory.createImportExpression(t,s,this.createRange(e))}}return this.expect(fo.RPAREN),this.restoreAcceptIN(),this.factory.createImportExpression(t,void 0,this.createRange(e))}parseVariableStatement(e,t){const s=this.parseVariableDeclarations(e);return this.expectSemicolon(),t.push(...s.getDeclarations().map((e=>e.getId().toString()))),s}parseImportAssertClause(){if(this.scanner.hasLineTerminatorBeforeNext()||!this.checkContextualKeyword("assert"))return;this.expect(fo.LBRACE);const e={},t=[];for(;this.peek().isNotType(fo.RBRACE);){let s=this.checkAndGetValue(fo.STRING);s||(s=this.parsePropertyOrPrivatePropertyName()),this.expect(fo.COLON);const r=this.expectAndGetValue(fo.STRING);if(t.push(this.factory.createAssertEntry(s,r,this.createRange(s))),e[s.toString()]=(e[s.toString()]??0)+1,e[s.toString()]>1)throw new SyntaxError(this.errorMessage("Import Assertion  Duplicate Key"));if(this.peek().isType(fo.RBRACE))break;if(!this.check(fo.COMMA))throw new SyntaxError("Unexpected Token")}return this.expect(fo.RBRACE),t}parseModuleSpecifier(){return this.expectAndGetValue(fo.STRING)}parseExportClause(){this.expect(fo.LBRACE);const e=[];let t=this.peek();for(;t.isNotType(fo.RBRACE);){const t=this.parseExportSpecifierName();let s;if(s=this.checkContextualKeyword("as")?this.parseExportSpecifierName():t,e.push(this.factory.createExportSpecifier(s,t)),this.peek().isType(fo.RBRACE))break;if(!this.check(fo.COMMA))throw new SyntaxError("Unexpected Token")}return this.expect(fo.RBRACE),e}parseExportSpecifierName(){const e=this.next();if(e.isType(fo.IDENTIFIER)||fo.isPropertyName(e.token))return e.getValue();if(e.isType(fo.STRING))return e.getValue();throw new SyntaxError(this.errorMessage("Unexpected Token"))}parseNamedImports(){this.expect(fo.LBRACE);const e=[];for(;this.peek().isNotType(fo.RBRACE);){const t=this.parseExportSpecifierName();let s=t;if(this.checkContextualKeyword("as")&&(s=this.parsePropertyOrPrivatePropertyName()),!fo.isValidIdentifier(this.current().token,Aa.Strict,!1,ka(this.languageMode)))throw new SyntaxError(this.errorMessage("Unexpected Reserved Keyword"));if(this.isEvalOrArguments(s))throw new SyntaxError(this.errorMessage("Strict Eval Arguments"));if(e.push(this.factory.createImportSpecifier(s,t,this.createRange(t))),this.peek().isType(fo.RBRACE))break;this.expect(fo.COMMA)}return this.expect(fo.RBRACE),e}parseExportDefault(e){this.expect(fo.DEFAULT);const t=[];let s;switch(this.peek().token){case fo.FUNCTION:s=this.parseHoistableDeclaration(t,!0,this.peek());break;case fo.CLASS:const e=this.consume(fo.CLASS);s=this.parseClassDeclaration(t,!0,e);break;case fo.ASYNC:if(this.peekAhead().isType(fo.FUNCTION)&&!this.scanner.hasLineTerminatorBeforeNext()){const e=this.consume(fo.ASYNC);s=this.parseHoistableDeclaration(t,!0,e);break}default:this.setAcceptIN(!0),s=this.parseAssignmentExpression(),this.expectSemicolon(),this.restoreAcceptIN()}return this.factory.createExportDefault(s,this.createRange(e))}parseExportStar(e){if(this.consume(fo.MUL),!this.peekContextualKeyword("as")){this.expectContextualKeyword("from");const t=this.parseModuleSpecifier(),s=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createExportAllDeclaration(t,void 0,s,this.createRange(e))}this.expectContextualKeyword("as");const t=this.parseExportSpecifierName();this.expectContextualKeyword("from");const s=this.parseModuleSpecifier(),r=this.parseImportAssertClause();return this.expectSemicolon(),this.factory.createExportAllDeclaration(s,t,r,this.createRange(e))}parseWithStatement(){const e=this.consume(fo.WITH);if(ka(this.languageMode))throw new SyntaxError(this.errorMessage("With is not allowed in Strict mode."));this.expect(fo.LPAREN);const t=this.parseExpression();this.expect(fo.RPAREN);const s=this.parseStatement(),r=this.createRange(e);return this.factory.createWithStatement(t,s,r)}}const il=FinalizationRegistry?new FinalizationRegistry((e=>e.forEach((e=>{try{e()}catch(e){}})))):void 0;class al{static for(...e){return 0===e.length?new al:new al(e.map((e=>new fa(e))))}static forScopes(...e){return 0===e.length&&e.push(fa.blockScope()),new al(e)}static moduleScope(e,t,...s){return new al(s,e,t)}awaitPromise=[];forAwaitAsyncIterable;stack;moduleScope;moduleSource;resolver;onDestroyActions=[];constructor(e,t,s){var r;Array.isArray(e)?this.stack=e.slice():this.stack=e instanceof al?e.stack.slice():"object"==typeof e?[e]:[],t&&s?(this.resolver=t,this.moduleSource=s,this.moduleScope=new wa(this.initModuleContext()),this.pushScope(this.moduleScope),this.pushReactiveScope()):0===this.stack.length&&this.pushBlockScope(),r=this.onDestroyActions,il?.register(this,r,this)}initModuleContext(){const e=e=>{const t=this.importModule(e);return t instanceof va?t.resolveImport():Promise.resolve(t.getContext())};var t;return e.meta={url:(t=this.moduleSource,new URL(t,ol)),resolve:(t,s)=>Promise.resolve(this.resolver.resolveURL(t,s??e.meta.url))},{import:e}}has(e){return!!this.stack.find((t=>t.has(e)))}get(e){return this.findScope(e).get(e)}set(e,t,s){return this.findScope(e).set(e,t,s)}declareVariable(e,t){return this.lastScope().set(e,t)}findScope(e){let t=this.stack.length;for(;t--;){const s=this.stack[t];if(s.has(e))return s}return this.lastScope()}resolveAwait(e){this.awaitPromise.push(e)}popScope(){return this.stack.pop()}removeScope(e){const t=this.stack.lastIndexOf(e);this.stack.splice(t,1)}pushScope(e){this.stack.push(e)}pushBlockScope(e){const t=fa.blockScope(e);return this.stack.push(t),t}pushBlockScopeFor(e,t){const s=fa.for(e,t);return this.stack.push(s),s}pushReactiveScope(e){const t=Sa.blockScope(e);return this.stack.push(t),t}pushReactiveScopeFor(e,t){const s=Sa.for(e,t);return this.stack.push(s),s}lastScope(){return this.stack[this.stack.length-1]}clearTo(e){const t=this.stack.lastIndexOf(e);return-1!==t&&(this.stack.splice(t),!0)}clearTill(e){const t=this.stack.lastIndexOf(e);return-1!==t&&(this.stack.splice(t+1),!0)}copyStack(){return new al(this.stack.slice(),this.resolver,this.moduleSource)}detach(){this.getReactiveScopeControls().forEach((e=>e.detach()))}reattach(){this.getReactiveScopeControls().forEach((e=>e.reattach()))}detectChanges(){this.getReactiveScope().forEach((e=>e.detectChanges()))}getReactiveScopeControls(){return this.stack.filter((e=>e instanceof Ea))}getReactiveScope(){return this.stack.filter((e=>e instanceof Sa))}importModule(e,t){if(!this.resolver||!this.moduleScope)throw new Error("Module Resolver is undefined");return this.resolver.resolve(e,this.moduleScope,t)}getModule(){return this.moduleScope}onDestroy(e){this.onDestroyActions.push(e)}}const ol="https://root";function cl(e,t,s,r){e.forEach((e=>{if(e.startsWith(":"))return;r.push([e,s]);const n=Object.keys(t[e]);if(!n.length)return;const i=s.getInnerScope(e)??s.setInnerScope(e);cl(n,t[e],i,r)}))}function ll(e,t){const s=[];return Object.keys(e).forEach((r=>{const n=t.findScope(r);s.push([r,n]);const i=Object.keys(e[r]);if(!i.length)return;const a=n.getInnerScope(r)??n.setInnerScope(r);cl(i,e[r],a,s)})),s}function hl(e,t){return ll(e,t).filter((e=>e[1]instanceof Sa))}function ul(e){try{return e()}catch(e){return e}}class pl extends Sa{state=[];watch=!0;constructor(){super([])}createSignal(e){const t=new yl(this,this.getContext().length,e);return yl.bindNode(t),t}createSignalFn(e){const t=new yl(this,this.getContext().length,e);return yl.toReactiveSignal(t)}createLazy(e){const t=new gl(this,this.getContext().length,e);return gl.bindNode(t),t}createLazyFn(e){const t=new gl(this,this.getContext().length,e);return gl.toReactiveSignal(t)}createComputed(e){const t=this.getContext().length;this.watchState();const s=ul(e),r=new fl(this,t,s);fl.bindNode(r);const n=()=>{this.watchState();const s=ul(e),r=this.readState();this.restoreState(),Object.keys(i).filter((e=>!r.includes(+e))).forEach((e=>i[e].pause())),r.forEach((e=>{i[e]?.resume(),i[e]??=this.subscribe(e,n)})),this.set(t,s)},i=this.observeState(n);return this.restoreState(),r}createComputedFn(e){const t=this.createComputed(e);return fl.toReactiveSignal(t)}createEffect(e){let t,s=!1;const r=e=>{t=e,s=!0},n=()=>{s=!1;const n=ul((()=>e(r)));n instanceof Error&&console.error(n),s||(t=void 0)};this.watchState(),n();const i=()=>{t?.(),this.watchState(),n();const e=this.readState();this.restoreState(),Object.keys(a).filter((t=>!e.includes(+t))).forEach((e=>a[e].pause())),e.forEach((e=>{a[e]?.resume(),a[e]??=this.subscribe(e,i)}))},a=this.observeState(i);return this.restoreState(),{destroy:()=>{Object.values(a).forEach((e=>e.unsubscribe())),t?.()}}}watchState(){this.state.push([])}untrack(){this.watch=!1}observeIndex(e){this.watch&&this.state.at(-1)?.push(e)}track(){this.watch=!0}readState(){return this.state.at(-1)??[]}observeState(e){return Object.fromEntries(this.readState().map((t=>[t,this.subscribe(t,e)])))}restoreState(){this.state.pop()}}class dl{scope;index;static bindNode(e){e.get=e.get.bind(e)}static toReactiveSignal(e){const t=()=>e.get();return t[ml]=e,t}constructor(e,t){this.scope=e,this.index=t}get(){return this.scope.observeIndex(this.index),this.scope.get(this.index)}subscribe(e){return this.scope.subscribe(this.index,e)}}const ml=Symbol("Signal");class fl extends dl{constructor(e,t,s){super(e,t),e.set(t,s)}}class gl extends dl{updateFn;constructor(e,t,s){super(e,t),this.updateFn=s,e.set(t,ul(s))}get(){const e=ul(this.updateFn);return this.scope.set(this.index,e),super.get()}}class yl extends dl{static bindNode(e){e.get=e.get.bind(e),e.set=e.set.bind(e),e.update=e.update.bind(e)}static toReactiveSignal(e){const t=()=>e.get();return t.set=t=>e.set(t),t.update=t=>e.update(t),t[ml]=e,t}constructor(e,t,s){super(e,t),e.set(t,s)}set(e){this.scope.set(this.index,e)}update(e){this.set(e(this.get()))}asReadonly(){return bl.toReactiveSignal(new bl(this.scope,this.index))}asReadonlyNode(){const e=new bl(this.scope,this.index);return bl.bindNode(e),e}}class bl extends dl{}(()=>{let e,s,r=[Da("CommentExpression")],n=[],i=Na;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}comment;static fromJSON(e){return new a(e.comment,e.range,e.loc)}constructor(e,t,s){super(t,s),this.comment=e}getComment(){return this.comment}set(e,...t){}get(e){}dependency(e){return[]}dependencyPath(e){return[]}toString(){return this.comment}toJson(){return{comment:this.comment}}};a=s})();class Sl extends Error{}const El=new class{getType(e){return e.constructor.type}visit(e,t){const s={abort(){throw new Sl("terminate")}},r=e=>{t(e,this.getType(e),s),this.visitExpressionNode(e,r)};try{t(e,this.getType(e),s),this.visitExpressionNode(e,r)}catch(e){if(!(e instanceof Sl))throw e}}visitExpressionNode(e,t){const s=La.get(this.getType(e)).visit;s&&s(e,t)}};function wl(e){return"onChanges"in e}function vl(e){return"onInit"in e}function Al(e){return"doCheck"in e}function xl(e){return"afterContentChecked"in e}function Tl(e){return"afterViewChecked"in e}function kl(e){return"onDestroy"in e}function Cl(e){return Reflect.has(e,"_model")&&e instanceof HTMLElement}class Nl{}class Ol extends ga{constructor(){super({})}has(e){if(e in this._ctx)return!0;const t=da.getPipe(e);return void 0!==t&&!t.asynchronous}get(e){let t;if(t=this._ctx[e])return t;const s=da.getPipe(e);if(void 0!==s&&!s.asynchronous){const e=new s.modelClass;return t=(t,...s)=>e.transform(t,...s),this._ctx[s.name]=t,t}}getClass(){return Ol}}class _l extends ga{constructor(){super({})}has(e){const t=da.getPipe(e);return!!t?.asynchronous}get(e){const t=da.getPipe(e);if(t?.asynchronous)return t.modelClass}getClass(){return _l}}class Il extends Ea{static blockScope(){return new Il}wrapper={};constructor(){super({})}set(e,t,s){const r=function(e,t){return{detach(){e.detach()},reattach(){e.reattach()},markForCheck(){e.emitChanges(t,e.get(t))},detectChanges(){e.detectChanges()},checkNoChanges(){e.checkNoChanges()}}}(this,e),n=new t(r),i=super.set(e,n,s);return i&&(this.wrapper[e]=(e,...t)=>n.transform(e,...t)),i}get(e){return Reflect.get(this.wrapper,e)}unsubscribe(e,t){super.unsubscribe(e,t),this._ctx[e].onDestroy()}getClass(){return Il}}const Pl={Math:{E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clz32:Math.clz32,imul:Math.imul,sign:Math.sign,log10:Math.log10,log2:Math.log2,log1p:Math.log1p,expm1:Math.expm1,cosh:Math.cosh,sinh:Math.sinh,tanh:Math.tanh,acosh:Math.acosh,asinh:Math.asinh,atanh:Math.atanh,hypot:Math.hypot,trunc:Math.trunc,fround:Math.fround,cbrt:Math.cbrt},Object,parseFloat,parseInt,Infinity:1/0,NaN:NaN,isNaN,isFinite,Array:{isArray:Array.isArray},Symbol,String,Number},Rl=new ga(Pl),Ll=new al([Rl,new Ol,new _l]);class Dl{el;_zone;constructor(e,t){this.el=e,this._zone=t}}class Ml{directive;_zone;constructor(e,t){this.directive=e,this._zone=t}}class Fl extends Nl{}class Bl extends Fl{}class jl extends Bl{_scope;_rootNodes;_subscriptions;_destroyed=!1;_onDestroySubscribes=[];constructor(e,t,s){super(),this._scope=e,this._rootNodes=t,this._subscriptions=s}get context(){return this._scope.getContext()}get rootNodes(){return this._rootNodes}get first(){return this._rootNodes[0]}get last(){return this._rootNodes[this._rootNodes.length-1]}get destroyed(){return this._destroyed}destroy(){if(!this._destroyed){this._subscriptions?.forEach((e=>e.unsubscribe())),this._subscriptions?.splice(0,this._subscriptions.length);for(const e of this._rootNodes)e.remove();this._onDestroySubscribes.forEach((e=>{try{e()}catch(e){console.error(e)}})),this._destroyed=!0}}getAsANode(){if(1==this._rootNodes.length)return this._rootNodes[0];const e=document.createDocumentFragment();return this._rootNodes.forEach((t=>e.append(t))),e}after(e){e.after(this.getAsANode())}before(e){e.before(this.getAsANode())}detach(){for(const e of this._rootNodes)e.remove();this._scope.detach()}reattach(){this._scope.emitChanges()}markForCheck(){this._scope.emitChanges()}detectChanges(){this._scope.detectChanges()}checkNoChanges(){this._scope.checkNoChanges()}onDestroy(e){return this._onDestroySubscribes.push(e),{unsubscribe:()=>{const t=this._onDestroySubscribes.indexOf(e);t>-1&&this._onDestroySubscribes.splice(t,1)}}}}class Hl{}class $l extends Hl{_render;_node;_stack;_templateExpressions;_host;constructor(e,t,s,r){super(),this._render=e,this._node=t,this._stack=s,this._templateExpressions=r}get astNode(){return this._node}set host(e){this._host=e}createEmbeddedView(e={},t){const s=this._stack.copyStack(),r=Ea.blockScope();s.pushScope(r);const n=new al,i=Ea.for(e);n.pushScope(i),n.pushScope(r);const a=[],o=[],c=new jl(i,a,o),l=this.executeTemplateExpressions(n);l&&o.push(...l);const h=document.createDocumentFragment();return this._render.appendChildToParent(h,this._node,s,t,o,this._host),h.childNodes.forEach((e=>a.push(e))),c}executeTemplateExpressions(e){if(!this._templateExpressions?.length)return;this._templateExpressions.forEach((t=>{t.get(e)}));const t=[];return this._templateExpressions.forEach((s=>{hl(s.events(),e).forEach((r=>{const n=r[1].subscribe(r[0],(()=>s.get(e)));t.push(n)}))})),t}}function Vl(e){return Reflect.has(e,"component")}class Gl{}class Jl extends Gl{_parent;_firstComment;_views=[];constructor(e,t){super(),this._parent=e,this._firstComment=t}get anchorElement(){return this._parent}get length(){return this._views.length}clear(){if(this._views.length>0){for(const e of this._views)e.destroy();this._views.splice(0)}}get(e){if(!(e>=this._views.length))return this._views[e]}detach(e){e??=this._views.length-1;const t=this._views[e];return t.detach(),this._views.splice(e,1),t}indexOf(e){return this._views.indexOf(e)}remove(e){e??=this._views.length-1,this._views[e].destroy(),this._views.splice(e,1)}insert(e,t){const s=0==(t=(t??=this._views.length)>this._views.length?this._views.length:t)?this._firstComment:this._views[t-1].last;return this._views.splice(t,0,e),e.after(s),e}move(e,t){const s=this.indexOf(e);return s>-1?this.detach(s):e.detach(),this.insert(e,t)}createEmbeddedView(e,t){const s=e.createEmbeddedView(t?.context||{},this._parent);return 0!=t?.insert&&this.insert(s,t?.index),s}createComponent(e,t){let s;if("string"==typeof e)s=customElements.get(e);else{if("function"!=typeof e)throw new Error(`Can't find View component for args, ${e}, ${t}`);if(Reflect.has(e,"observedAttributes"))s=e;else{const r=e,n=pa.getMetaDate(r)?.selector,i=function(e,t){if(!Vl(e))return;let s;if(t){if(s=e.component[t],!s)throw new Error(`${e.name} doesn't have ${t} as view`)}else s=Object.keys(e.component)[0];return e[s]}(r,t?.selector??n);if(!i)throw new Error(`Can't find View component for class ${r.name}`);s=i}}const r=new s,n=new jl(r._modelScope,[r]);return 0!=t?.insert&&this.insert(n,t?.index),r}createElement(e,t){let s;if("string"==typeof e)s=document.createElement(e,{is:t?.is});else{if("function"!=typeof e)throw new Error(`Can't find View component for args, ${e}, ${t}`);s=new e}const r=Ea.for(s),n=new jl(r,[s]);return 0!=t?.insert&&this.insert(n,t?.index),s}createTextNode(e,t){const s=document.createTextNode(e),r=Ea.for(s),n=new jl(r,[s]);return 0!=t?.insert&&this.insert(n,t?.index),s}updateViews(e){for(let t=0;t<e.length;t++)this.move(e[t],t);for(;this.length>e.length;)this.remove()}}function Ul(e,t,s){return{pause(){t?.()},resume(){s?.()},unsubscribe(){e()}}}class zl{view;subscriptions;componentRef;template;contextStack;templateNameScope;exportAsScope;viewScope=new Sa({});constructor(e,t){this.view=e,this.subscriptions=t,this.componentRef=this.view.getComponentRef(),this.contextStack=Ll.copyStack(),this.contextStack.pushScope(this.view._modelScope),this.exportAsScope=this.contextStack.pushReactiveScope(),this.templateNameScope=this.contextStack.pushReactiveScope()}initView(){if(!this.componentRef.template)return;let e,t;"function"==typeof this.componentRef.template?this.template=this.componentRef.template(this.view._model):this.template=this.componentRef.template,this.componentRef.isShadowDom?(e=Reflect.get(this.view,"_shadowRoot"),Reflect.deleteProperty(this.view,"_shadowRoot")):e=this.view,this.initTemplateRefMap(this.template),this.template instanceof zi?t=this.createDocumentFragment(this.template,this.contextStack,e,this.subscriptions,this.view):(t=document.createDocumentFragment(),this.appendChildToParent(t,this.template,this.contextStack,e,this.subscriptions,this.view)),e.append(t)}isTemplateRefName(e){return!!(e instanceof Wi&&"template"===e.tagName&&e.templateRefName)}initTemplateRefMap(e){if((e instanceof Wi||e instanceof zi)&&e.children)for(let t=0;t<e.children.length;t++){const s=e.children[t];this.isTemplateRefName(s)?this.templateNameScope.set(s.templateRefName.name,void 0):this.initTemplateRefMap(s)}}initViewBinding(){this.componentRef.viewBindings&&this.initHtmlElement(this.view,this.componentRef.viewBindings,this.contextStack,this.subscriptions),this.componentRef.windowBindings&&this.subscriptions.push(...this.initAttribute(window,this.componentRef.windowBindings,this.contextStack))}getElementByName(e){return Reflect.get(this.view,e)}createStructuralDirective(e,t,s,r,n,i){const a=da.getDirectiveRef(e.name);if(!a)return;const o=s.copyStack(),c=new $l(this,e.node,o,e.templateExpressions??[]),l=this.view._zone.fork(a.zone),h=new Jl(n,t);l.onEmpty.subscribe((()=>{const e=h.length;for(let t=0;t<e;t++)h.get(t)?.detectChanges()}));const u=a.modelClass,p=l.run((()=>new u(c,h,i,l)));c.host=p;const d=Sa.readOnlyScopeForThis(p);d.getInnerScope("this").getContextProxy=()=>p,o.pushScope(d),a.exportAs&&o.pushBlockScopeFor({[a.exportAs]:p}),r.push(...this.initDirective(p,e,o)),vl(p)&&l.run(p.onInit,p),e.attributeDirectives?.length&&this.initAttributeDirectives(e.attributeDirectives,p,o,r),kl(p)&&r.push(Ul((()=>p.onDestroy())))}createComment(e){return document.createComment(`${e.comment}`)}createText(e){return new Text(e.value)}createLiveText(e,t,s){const r=new Text("");(t=t.copyStack()).pushBlockScopeFor({this:r});const n=e.expression.subscribe(t,e.pipelineNames);return s.push(...n),e.expression.get(t),r}createDocumentFragment(e,t,s,r,n){const i=document.createDocumentFragment();return e.children?.forEach((e=>this.appendChildToParent(i,e,t,s,r,n))),i}appendChildToParent(e,t,s,r,n,i){if(t instanceof Wi){if(this.isTemplateRefName(t)){const e=t.templateRefName,r=new $l(this,new zi(t.children),s.copyStack(),[]);return void this.templateNameScope.set(e.name,r)}e.append(this.createElement(t,s,n,i))}else if(t instanceof Ki){const a=t.name+("string"==typeof t.value?" = "+t.value:""),o=document.createComment(`start ${a}`);e.append(o);const c=document.createComment(`end ${a}`);o.after(c),this.createStructuralDirective(t,o,s,n,r,i)}else $i(t)?e.append(this.createLiveText(t,s,n)):t instanceof ji?e.append(this.createText(t)):t instanceof Vi?e.append(this.createComment(t)):t instanceof zi&&e.append(this.createDocumentFragment(t,s,r,n,i))}createElementByTagName(e){let t;if(Ci(e.tagName)){const s=customElements.get(e.tagName);s?t=new s:(t=document.createElement(e.tagName),"HTMLElement"===t.constructor.name&&customElements.whenDefined(e.tagName).then((()=>customElements.upgrade(t))))}else s=e.tagName,t=s in _i||s in Ii?document.createElement(e.tagName,e.is?{is:e.is}:void 0):document.createElement(e.tagName);var s;return t}createElement(e,t,s,r){const n=this.createElementByTagName(e);return this.initHtmlElement(n,e,t,s,r),n}createReadOnlyWithReactiveInnerScope(e,t,s){if(!t)return Sa.readOnlyScopeForThis(e,s);const r=Sa.for(e,s),n={this:e,[t]:e},i=ga.for(n,["this",t]);return i.setInnerScope("this",r),i.setInnerScope(t,r),i}initHtmlElement(e,t,s,r,n){const i=s.copyStack(),a=Cl(e)?e._viewScope:this.createReadOnlyWithReactiveInnerScope(e,t.templateRefName?.name);i.pushScope(a);const o=this.initAttribute(e,t,i);r.push(...o);const c=function(e){switch(!0){case"input"===e:return"input";case"textarea"===e:case"select"===e:case Di(e):return"change";default:return}}(t.tagName);if(c){const t=a.getInnerScope("this"),s=s=>t.emit("value",e.value);e.addEventListener(c,s),r.push(Ul((()=>e.removeEventListener(c,s))))}const l=t.templateRefName;if(l){Reflect.set(this.view,l.name,e),this.viewScope.set(l.name,e);const t=this.componentRef.viewChild.find((e=>e.selector===l.name));t&&Reflect.set(this.view._model,t.modelName,e)}if(t.children)for(const s of t.children)this.appendChildToParent(e,s,i,e,r,n);t.attributeDirectives?.length&&this.initAttributeDirectives(t.attributeDirectives,e,s,r)}initAttributeDirectives(e,t,s,r){e?.forEach((e=>{const n=da.getDirectiveRef(e.name);if(!n||!(n.modelClass.prototype instanceof Dl||n.modelClass.prototype instanceof Ml))return;const i=this.view._zone.fork(n.zone),a=i.run((()=>new n.modelClass(t,i)));n.exportAs&&this.exportAsScope.set(n.exportAs,a);const o=s.copyStack(),c=Sa.readOnlyScopeForThis(a),l=c.getInnerScope("this");l.getContextProxy=()=>a,o.pushScope(c);const h=this.initDirective(a,e,o);if(r.push(...h),vl(a)&&i.run(a.onInit,a),kl(a)&&r.push(Ul((()=>a.onDestroy()))),!(t instanceof HTMLElement))return;const u=n.selector.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));if(t.hasAttribute(u)||t.setAttribute(u,""),n.viewBindings){const e=o.copyStack();e.pushScope(l),this.initHtmlElement(t,n.viewBindings,e,r)}}))}initAttribute(e,t,s){const r=[];return t.attributes?.length&&t.attributes.forEach((t=>{!function(e,t){return function(e,t){if("string"==typeof e)return Ri[e.toLowerCase()]?.includes(t);if(e instanceof HTMLElement){const s=e.tagName.toLowerCase();return Ri[s]?.includes(t)}return!1}(e,t)||function(e,t){return Reflect.has(e.constructor,"allAttributes")?Reflect.get(e.constructor,"allAttributes").some((e=>e===t)):!!Reflect.has(e.constructor,"observedAttributes")&&Reflect.get(e.constructor,"observedAttributes").some((e=>e===t))}(e,t)||function(e,t){return!!Cl(e)&&e.getComponentRef().inputs.some((e=>e.viewAttribute===t))}(e,t)||function(e){return e.startsWith("data-")}(t)}(e,t.name)?Reflect.set(e,t.name,t.value):!1===t.value?e.removeAttribute(t.name):!0===t.value?e.setAttribute(t.name,""):e.setAttribute(t.name,t.value)})),t.twoWayBinding?.length&&t.twoWayBinding.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),t.inputs?.length&&t.inputs.forEach((e=>{const t=e.expression.subscribe(s,e.pipelineNames);r.push(...t),e.expression.get(s)})),t.outputs?.length&&t.outputs.forEach((t=>{let n;n="string"==typeof t.value?e=>{const r=s.copyStack();r.pushBlockScopeFor({$event:e}),this.view._zone.run(t.expression.get,t.expression,[r])}:t.value,e.addEventListener(t.name,n),r.push(Ul((()=>e.removeEventListener(t.name,n))))})),t.templateAttrs?.length&&t.templateAttrs.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),r}initDirective(e,t,s){const r=[];return t.attributes?.length&&t.attributes.forEach((t=>Reflect.set(e,t.name,t.value))),t.twoWayBinding?.length&&t.twoWayBinding.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),t.inputs?.length&&t.inputs.forEach((e=>{const t=e.expression.subscribe(s,e.pipelineNames);r.push(...t),e.expression.get(s)})),t.outputs?.length&&t.outputs.forEach((t=>{const n=e[t.name].subscribe((e=>{const r=s.copyStack();r.pushBlockScopeFor({$event:e}),this.view._zone.run(t.expression.get,t.expression,[r])}));r.push(Ul((()=>e[t.name].remove(n))))})),t.templateAttrs?.length&&t.templateAttrs.forEach((e=>{const t=e.expression.subscribe(s);r.push(...t),e.expression.get(s)})),r}}class Wl{eventEmitter;othersSubscription;constructor(e){this.eventEmitter=e}add(e){this.othersSubscription||(this.othersSubscription=[]),this.othersSubscription.push(e)}unsubscribe(){this.eventEmitter.remove(this),this.othersSubscription&&this.othersSubscription.forEach((e=>{e.unsubscribe()}))}}class Kl{subscribers=new Map;constructor(){}emit(e){this.subscribers.forEach((t=>{try{t.next(e)}catch(e){try{t.error?.(e)}catch(e){console.error("error: handling event",e)}}finally{try{t.complete?.()}catch(e){console.error("error: handling event",e)}}}))}subscribe(e,t,s){const r=new Wl(this);return this.subscribers.set(r,{next:e,error:t,complete:s}),r}remove(e){this.subscribers.delete(e)}}const ql=()=>{},Zl={};let Yl=0;class Xl{onTry=new Kl;onCatch=new Kl;onFinal=new Kl;onEmpty=new Kl;id;constructor(){this.id=++Yl}}class Ql extends Xl{static isInAuroraZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("aurora-zone")}static assertInAuroraZone(){if(!Ql.isInAuroraZone())throw new Error("Expected to be in Aurora Zone, but it is not!")}static assertNotInAuroraZone(){if(Ql.isInAuroraZone())throw new Error("Expected to not be in Aurora Zone, but it is!")}constructor(e){if("undefined"==typeof Zone)throw new Error("In this configuration Zone.js is  required");Zone.assertZonePatched(),super();const t=this;t._nesting=0,t._outer=Zone.root,e?(t._parent=e,t._inner=e._inner):(t._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec))),t._inner=t._inner.fork({name:"aurora",properties:{"aurora-zone":!0,id:t.id},onInvoke:(e,s,r,n,i,a,o)=>{try{return eh(t),e.invoke(r,n,i,a,o)}finally{th(t)}},onInvokeTask:(e,s,r,n,i,a)=>{try{return eh(t),e.invokeTask(r,n,i,a)}finally{th(t)}},onHandleError:(e,s,r,n)=>(e.handleError(r,n),t.runOutsideAurora((()=>t.onCatch.emit(n))),!1)})}fork(e){return"manual"===e?new sh(this):"proxy"===e?new rh(this):new Ql(this)}run(e,t,s){return this._inner.run(e,t,s)}runTask(e,t,s,r){const n=this._inner,i=n.scheduleEventTask("AuroraZoneEvent: "+r??"",e,Zl,ql,ql);try{return n.runTask(i,t,s)}finally{n.cancelTask(i)}}runGuarded(e,t,s){return this._inner.runGuarded(e,t,s)}runOutsideAurora(e){return this._outer.run(e)}}function eh(e){e.onTry.emit(),e._nesting++}function th(e){e._nesting--,e.onFinal.emit(),0===e._nesting&&e.onEmpty.emit()}class sh extends Xl{constructor(e){if(super(),e){const t=this;t._nesting=0,t._parent=e}}fork(e){return"proxy"===e?new rh(this):"aurora"===e?new Ql(this):new sh(this)}runCallback(e,t,s){try{return eh(this),e.apply(t,s)}catch(e){throw this.onCatch.emit(),e}finally{th(this)}}run(e,t,s){return this.runCallback(e,t,s)}runTask(e,t,s,r){return this.runCallback(e,t,s)}runGuarded(e,t,s){return this.runCallback(e,t,s)}runOutsideAurora(e){return e()}}class rh extends Xl{_cdPromise;constructor(e){if(super(),e){const t=this;t._nesting=0,t._parent=e}}fork(e){return"manual"===e?new sh(this):"aurora"===e?new Ql(this):new rh(this)}runCallback(e,t,s){try{return eh(this),e.apply(t,s)}catch(e){throw this.onCatch.emit(),e}finally{th(this)}}run(e,t,s){return this.runCallback(e,t,s)}runTask(e,t,s,r){return this.runCallback(e,t,s)}runGuarded(e,t,s){return this.runCallback(e,t,s)}runOutsideAurora(e){return e()}scheduleChangesDetection(){this._cdPromise??=Promise.resolve().then((()=>{this.runCallback(ql),this._cdPromise=void 0}))}}const nh=new sh;let ih;const ah=new WeakMap;class oh{_zone;static of(e){return new oh(e)}constructor(e){this._zone=e}defineProperty(e,t,s){return this._zone.scheduleChangesDetection(),Reflect.defineProperty(e,t,s)}deleteProperty(e,t){return this._zone.scheduleChangesDetection(),Reflect.deleteProperty(e,t)}get(e,t,s){const r=Reflect.get(e,t,s);if(ah.has(r))return ah.get(r);if(!r||"object"!=typeof r||function(e){switch(!0){case e instanceof Map:case e instanceof Set:case e instanceof Date:case e instanceof WeakMap:case e instanceof WeakSet:case e instanceof Promise:case HTMLElement&&e instanceof HTMLElement:return!0;default:return!1}}(r))return r;const n=ch(r,this._zone);return ah.set(r,n),n}set(e,t,s,r){return this._zone.scheduleChangesDetection(),Reflect.set(e,t,s,r)}}function ch(e,t){return new Proxy(e,new oh(t))}let lh;function hh(e){return class extends e{_model;_signalScope;_render;_shadowRoot;_componentRef;_modelScope;_viewScope;_zone;subscriptions=[];onDestroyCalls=[];needRendering=!0;constructor(e,t){var s;super(),this._componentRef=e,e.isShadowDom&&(this._shadowRoot=this.attachShadow(e.shadowRootInit)),this._signalScope=new pl,s=this._signalScope,lh=s;const r=[],n=(i=()=>this._modelScope,{detach(){i().detach()},reattach(){i().reattach()},markForCheck(){i().detectChanges()},detectChanges(){i().detectChanges()},checkNoChanges(){i().checkNoChanges()}});var i;r.push(n),this._zone=(ih??nh).fork(e.zone),r.push(this._zone);const a=new t(...r);this._model=a,lh=void 0;const o=Ea.for(a),c=this._zone instanceof rh?ch(a,this._zone):a;o.getContextProxy=()=>c,this._modelScope=o,Object.keys(this._model).forEach((e=>{const t=(s=this._model[e])instanceof dl?s:function(e){const t=e?.[ml];return void 0!==t&&t instanceof dl}(s)?s[ml]:void 0;var s;t&&t.subscribe(((t,s)=>this._modelScope.emit(e,t,s)))})),this._viewScope=Sa.for({this:this});const l=this._viewScope.getInnerScope("this");e.inputs.forEach((e=>{l.subscribe(e.viewAttribute,((t,s)=>{t!==s&&this._modelScope.set(e.modelProperty,t)})),this._modelScope.subscribe(e.modelProperty,((t,s)=>{t!==s&&l.emit(e.viewAttribute,t,s)}))})),e.outputs.forEach((e=>a[e.modelProperty].subscribe((t=>{const s=new CustomEvent(e.viewAttribute,{detail:t,cancelable:!1,bubbles:e.options?.bubbles,composed:e.options?.bubbles});this.dispatchEvent(s)})))),this._componentRef.view&&Reflect.set(this._model,this._componentRef.view,this),this._render=new zl(this,this.subscriptions),this.attributes.length>0&&Array.prototype.slice.call(this.attributes).forEach((e=>this.initOuterAttribute(e))),"shadow-slot"===this._componentRef.encapsulation&&this.initView()}detectChanges(){this._modelScope.detectChanges()}doBlockCallback=()=>{Al(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy())};getComponentRef(){return this._componentRef}hasInputStartWith(e){let t=e.indexOf(".");return t>0&&(e=e.substring(0,t)),this.hasInput(e)}getInputStartWith(e){let t=e.indexOf(".");return t>0&&(e=e.substring(0,t)),t=e.indexOf("["),t>0&&(e=e.substring(0,t)),this.getInput(e)}hasInput(e){return this._componentRef.inputs.some((t=>t.viewAttribute===e))}getInput(e){return this._componentRef.inputs.find((t=>t.viewAttribute===e))}getInputValue(e){const t=this.getInput(e);if(t)return this._model[t.modelProperty]}setInputValue(e,t){const s=this.getInput(e);s&&this._modelScope.set(s.modelProperty,t)}hasOutput(e){return this._componentRef.outputs.some((t=>t.viewAttribute===e))}getOutput(e){return this._componentRef.outputs.find((t=>t.viewAttribute===e))}getEventEmitter(e){const t=this.getOutput(e);if(t)return this._model[t.modelProperty]}hasProp(e){return Reflect.has(this._model,e)}setAttributeHelper(e,t){null==t?this.removeAttribute(e):"boolean"==typeof t?t?super.setAttribute(e,""):this.removeAttribute(e):super.setAttribute(e,t)}setAttribute(e,t){this.setInputValue(e,t),this.setAttributeHelper(e,t)}getAttribute(e){return this.getInputValue(e)??super.getAttribute(e)}attributeChangedCallback(e,t,s){s!==t&&(wl(this._model)&&this._zone.run(this._model.onChanges,this._modelScope.getContextProxy()),this.doBlockCallback())}initView(){this._render.initView(),this._render.initViewBinding(),this.needRendering=!1}connectedCallback(){this.subscriptions.length&&this.subscriptions.forEach((e=>e.unsubscribe())),this.subscriptions.splice(0,this.subscriptions.length);const e=this._zone.onEmpty.subscribe((()=>this._modelScope.detectChanges()));this.onDestroy((()=>e.unsubscribe())),this._componentRef.inputs.forEach((e=>{const t=this._model[e.modelProperty];null!=t&&this.setAttributeHelper(e.viewAttribute,t)})),wl(this._model)&&this._zone.run(this._model.onChanges,this._modelScope.getContextProxy()),vl(this._model)&&this._zone.run(this._model.onInit,this._modelScope.getContextProxy()),Al(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy()),"afterContentInit"in this._model&&this._zone.run(this._model.afterContentInit,this._modelScope.getContextProxy()),xl(this._model)&&this._zone.run(this._model.afterContentChecked,this._modelScope.getContextProxy()),this.needRendering&&this.initView(),"afterViewInit"in this._model&&this._zone.run(this._model.afterViewInit,this._modelScope.getContextProxy()),Tl(this._model)&&this._zone.run(this._model.afterViewChecked,this._modelScope.getContextProxy()),this.doBlockCallback=()=>{Al(this._model)&&this._zone.run(this._model.doCheck,this._modelScope.getContextProxy()),xl(this._model)&&this._zone.run(this._model.afterContentChecked,this._modelScope.getContextProxy()),Tl(this._model)&&this._zone.run(this._model.afterViewChecked,this._modelScope.getContextProxy())};const t=new CustomEvent("connected",{cancelable:!0,bubbles:!1,composed:!1});this.dispatchEvent(t)}initOuterAttribute(e){let t=e.name,s=e.value;if(t.startsWith("["))t=t.substring(1,t.length-1),Reflect.has(window,s)&&this.setInputValue(t,Reflect.get(window,s));else if(t.startsWith("(")){t=t.substring(1,t.length-1),s=s.endsWith("()")?s.substring(0,s.length-2):s;let e=Reflect.get(window,s);this.addEventListener(t,(t=>{e(t)}))}else if(t.startsWith("on")){const e=this.getEventEmitter(t.substring(2));if(e){s=s.endsWith("()")?s.substring(0,s.length-2):s;let t=Reflect.get(window,s);e.subscribe((e=>{t(e)}))}}else this.setInputValue(e.name,e.value)}onDestroy(e){this.onDestroyCalls.push(e)}adoptedCallback(){this.innerHTML="",this.connectedCallback()}disconnectedCallback(){kl(this._model)&&this._zone.run(this._model.onDestroy,this._modelScope.getContextProxy()),this.subscriptions.forEach((e=>e.unsubscribe())),this.subscriptions.splice(0,this.subscriptions.length),this.onDestroyCalls.forEach((e=>{try{e()}catch(e){console.error(e)}})),this.onDestroyCalls.splice(0,this.onDestroyCalls.length);const e=new CustomEvent("disconnected",{cancelable:!0,bubbles:!1,composed:!1});this.dispatchEvent(e)}triggerOutput(e,t){const s=this.getEventEmitter(e);s&&s.emit(t)}}}const uh=()=>{};class ph{el;constructor(e){this.el=e}get form(){return this.el.form}get labels(){return this.el.labels}get shadowRoot(){return this.el.shadowRoot}get willValidate(){return this.el.willValidate}setFormValue(e,t){this.el.value=e}}["ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"].forEach((e=>{Object.defineProperty(ph.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.el[e]},set:function(t){return this.el[e]=t}})}));const dh=new WeakMap;function mh(e,s){var r;const n=s.extend.classRef;let i;const a=`HTML${s.selector.split("-").map((e=>e.replace(/^\w/,(e=>e.toUpperCase())))).join("")}Element`;let o;s.extendCustomElement?o=s.extend.classRef:dh.has(n)?o=dh.get(n):(o=s.formAssociated?function(e){const t=hh(e);return class extends t{static formAssociated=!0;value;_internals;_form;_valueControl;constructor(e,t){let s;if(super(e,t),e.extend.name&&function(e){switch(e){case"button":case"datalist":case"fieldset":case"input":case"label":case"legend":case"meter":case"optgroup":case"option":case"output":case"progress":case"select":case"textarea":return!0}return!!Ci(e)&&Di(e)}(e.extend.name)?this._internals=new ph(this):this._internals=this.attachInternals(),"function"==typeof e.formAssociated)if(this._model instanceof e.formAssociated)this._model;else{const t=[this];s=new e.formAssociated(t)}else!0===e.formAssociated&&(r=this._model)&&"object"==typeof r&&"function"==typeof r.writeValue&&"function"==typeof r.registerOnChange&&(s=this._model);var r;s&&this.registerValueControl(s);const n=e.inputs.filter((e=>"value"===e.viewAttribute)).at(0);n&&this._modelScope.subscribe(n.modelProperty,((e,t)=>{e!==t&&this.onValueControlChange(e)}))}get internals(){return this._internals}get form(){return this._form}get valueControl(){return this._valueControl}registerValueControl(e){this.valueControl&&this.valueControl.registerOnChange(uh),this._valueControl=e,this._valueControl?.registerOnChange((e=>this.onValueControlChange(e)))}onValueControlChange(e){this._internals.setFormValue(e),this.value=e,this.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0,composed:!0}))}formAssociatedCallback(e){this._form=e}formDisabledCallback(e){this._valueControl?.setDisabledState?.(e)}formResetCallback(){this._valueControl?.writeValue({mode:"reset"})}formStateRestoreCallback(e,t){this._valueControl?.writeValue({value:e,mode:t})}}}(n):hh(n),dh.set(n,o)),i={[r=(0,t.Yc)(a)]:(()=>{let n,i,a=[Ai()],c=[],l=o;return class extends l{static{i=this}static{(0,t.Ho)(i,r)}static{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;(0,t.xE)(null,n={value:i},a,{kind:"class",name:i.name,metadata:e},null,c),i=n.value,e&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e}),(0,t.Co)(i,c)}constructor(t,r){super(t??s,r??e)}},i})()}[a],s.inputs.forEach((e=>{Object.defineProperty(i.prototype,e.viewAttribute,{get(){return this._modelScope.get(e.modelProperty)},set(t){this._modelScope.set(e.modelProperty,t)},enumerable:!0})})),s.outputs.forEach((e=>{let t,s;Object.defineProperty(i.prototype,e.viewAttribute,{get(){return this._model[e.modelProperty]},enumerable:!0}),Object.defineProperty(i.prototype,"on"+ma(e.viewAttribute),{get:()=>t,set(r){r||s&&(s.unsubscribe(),t=void 0),"string"==typeof r&&(r.endsWith("()")&&(r=r.substring(0,r.length-2)),r=Reflect.get(window,r)),t=r,s=this._model[e.modelProperty].subscribe(r)},enumerable:!0})})),s.inputs.map((e=>e.modelProperty)).concat(s.outputs.map((e=>e.modelProperty))).concat(s.hostBindings.map((e=>e.hostPropertyName))).concat(s.viewChild.map((e=>e.modelName))).filter((t=>!(t in e.prototype))).forEach((t=>e.prototype[t]=void 0));const c=(l=s.extend.name)?Ri[l]:Pi.slice();var l;const h=s.inputs.map((e=>e.viewAttribute)).concat(s.outputs.map((e=>"on"+ma(e.viewAttribute))));return s.formAssociated&&!h.includes("value")&&h.push("value"),Reflect.set(i,"observedAttributes",h),Reflect.set(i,"allAttributes",c.concat(h)),function(e,t,s,r){Object.defineProperty(e,r,{value:s}),Vl(e)||Reflect.set(e,"component",{}),Vl(e)&&(e.component[t]=r)}(e,s.selector,i,a),Reflect.has(window,a)||Reflect.set(window,a,i),i}let fh=(()=>{let e,s,r=[Da("OneWayAssignment")],n=[],i=Oa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.left),t(e.right))}static visit(e,t){t(e.left),t(e.right)}rightEvents=this.right.events();constructor(e,t){super("=:",e,t)}set(e,t){return this.left.set(e,t)}get(e){const t=this.right.get(e);return this.set(e,t),t}subscribe(e,t){const s=[];if(t?.length){const r=fa.blockScope(),n=Il.blockScope();let i=!1,a=!1;t.forEach((t=>{const o=e.findScope(t),c=o.get(t);o instanceof _l?(i=!0,n.set(t,c),kl(c.prototype)&&s.push(Ul((()=>n.unsubscribe(t))))):o instanceof Ol&&(a=!0,r.set(t,c))})),a&&e.pushScope(r),i&&e.pushScope(n)}const r=hl(this.rightEvents,e),n=()=>this.get(e);return r.forEach((e=>{const t=e[1].subscribe(e[0],n);s.push(t)})),s}};return a=s})(),gh=(()=>{let e,s,r=[Da("TwoWayAssignment")],n=[],i=Oa;var a=class extends i{static{s=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:o},null,n),a=s=e.value,o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),(0,t.Co)(s,n)}static fromJSON(e,t){return new a(t(e.left),t(e.right))}static visit(e,t){t(e.left),t(e.right)}rightEvents;leftEvents;constructor(e,t){super("=::",e,t),this.rightEvents=this.right.events(),this.leftEvents=this.left.events()}set(e,t){return this.setRTL(e,t)}get(e){return this.getRTL(e)}setRTL(e,t){return this.left.set(e,t)}getRTL(e){const t=this.right.get(e);return this.setRTL(e,t),t}actionRTL(e){return()=>this.getRTL(e)}setLTR(e,t){return this.right.set(e,t)}getLTR(e){const t=this.left.get(e);return this.setLTR(e,t),t}actionLTR(e){return()=>this.getLTR(e)}subscribeToEvents(e,t,s){const r=[];return t.forEach((e=>{const t=e[1].subscribe(e[0],s);r.push(t)})),r}subscribe(e){const t=hl(this.rightEvents,e),s=this.actionRTL(e),r=this.subscribeToEvents(e,t,s),n=hl(this.leftEvents,e),i=this.actionLTR(e),a=this.subscribeToEvents(e,n,i);return r.concat(a)}};return a=s})();class yh{static LET=new go(fo.LET,[-1,-1]);static COMMA=new go(fo.COMMA,[-1,-1]);static ASSIGN=new go(fo.ASSIGN,[-1,-1]);static IMPLICIT=new go(fo.IDENTIFIER,[-1,-1],new Fa("$implicit"));static EOS=new go(fo.EOS,[-1,-1])}class bh{directiveName;stream;static parse(e,t){const s=Yo.getTokenStream(t),r=new bh(e,s);try{r.scan()}catch(e){console.error("error parsing template expression",t,r,e)}return r.getDirectiveExpressionType()}templateExpressions=new Array;directiveInputs=new Map;constructor(e,t){this.directiveName=e,this.stream=t}getDirectiveExpressionType(){return{templateExpressions:this.templateExpressions,directiveInputs:this.directiveInputs}}scan(){if(this.isDeclareKeyword()?this.parseTemplateInput():this.parseExpression(this.directiveName),!this.stream.peek().isType(fo.EOS))for(this.consumeSemicolonOrComma();this.stream.peek().isNotType(fo.EOS);)this.parseTemplateInput()||this.parseDirectiveAndTemplateInputs(),this.consumeSemicolonOrComma()}consume(e){if(this.stream.next().isNotType(e))throw new Error(this.stream.createError(`Parsing ${JSON.stringify(e)}`))}check(e){return!!this.stream.peek().isType(e)&&(this.stream.next(),!0)}consumeToList(e,t){const s=this.stream.next();if(s.isNotType(e))throw new Error(this.stream.createError(`Parsing ${JSON.stringify(e)}`));t.push(s)}consumeIfToken(e,t){const s=this.stream.peek();return!s.isNotType(e)&&(t.push(s),this.stream.next(),!0)}isDeclareKeyword(){const e=this.stream.peek();return e.isType(fo.LET)||e.isType(fo.CONST)||e.isType(fo.VAR)}isIdentifier(){return this.stream.peek().isType(fo.IDENTIFIER)}isAsKeyword(){const e=this.stream.peek();return e.isType(fo.IDENTIFIER)&&"as"==e.getValue().getName()}consumeAsKeyword(){this.consume(fo.IDENTIFIER)}isSemicolon(){return this.stream.peek().isType(fo.SEMICOLON)}isComma(){return this.stream.peek().isType(fo.COMMA)}consumeSemicolonOrComma(){let e=this.stream.peek();(e.isType(fo.SEMICOLON)||e.isType(fo.COMMA))&&this.stream.next()}parseTemplateInput(){if(this.isDeclareKeyword()){let e=this.stream.peek();const t=[e];if(this.consume(e.token),e=this.stream.peek(),fo.isOpenPair(e.token)&&e.isNotType(fo.LPAREN))this.stream.readTill(fo.closeOf(e.token),t);else{if(!e.isType(fo.IDENTIFIER))throw new Error(this.stream.createError("Can't parse let/const/var {IDENTIFIER/ObjectPattern}"));this.consumeToList(fo.IDENTIFIER,t)}return this.consumeIfToken(fo.ASSIGN,t)?this.stream.readTokensConsiderPair(t,fo.SEMICOLON,fo.COMMA,fo.LET,fo.CONST,fo.VAR,fo.EOS):t.push(yh.ASSIGN,yh.IMPLICIT),this.templateExpressions.push(t),!0}return!1}parseExpression(e){const t=[];this.stream.readTokensConsiderPair(t,fo.SEMICOLON,fo.COMMA,fo.LET,fo.EOS),this.directiveInputs.set(e,t.map(this.mapTokenToString).join(" "))}parseDirectiveAndTemplateInputs(){if(this.stream.peek().isType(fo.EOS))return;let e;if(this.isIdentifier())e=this.stream.next();else{e=this.stream.next();const t=e.token.getName();e=new go(fo.IDENTIFIER,[-1,-1],new Fa(t))}if(this.isAsKeyword()){this.consumeAsKeyword();const t=this.stream.next(),s=[];return s.push(t,yh.ASSIGN,e,yh.EOS),void this.templateExpressions.push(s)}this.check(fo.ASSIGN)||this.check(fo.COLON);const t=[];if(this.stream.readTokensConsiderPair(t,fo.SEMICOLON,fo.COMMA,fo.LET,fo.CONST,fo.VAR,fo.EOS),this.isAsKeyword()){this.consumeAsKeyword();const t=this.stream.next(),s=[];s.push(yh.LET,t,yh.ASSIGN,e,yh.EOS),this.templateExpressions.push(s)}const s=e.getValue().getName();this.directiveInputs.set(s,t.map(this.mapTokenToString).join(" "))}mapTokenToString(e){return e.value?e.value.toString():e.token.getName()}}const Sh=nl.parseScript("this.textContent");function Eh(e){const t=Array.isArray(e)?e:e.split("-");return 1===t.length?e:t[0]+t.splice(1).map((e=>e[0].toUpperCase()+e.substring(1))).join("")}function wh(e){return(Array.isArray(e)?e:e.split(".")).flatMap((e=>function(e){return e.includes("-")?["['",e,"']"]:Number.isInteger(e.at(0))?["[",e,"]"]:[".",e]}(e))).join("")}function vh(e){return e.startsWith("{")?`(${e})`:e}function Ah(e){const t=`this${wh(e.name)}`,s=nl.parseScript(t),r=nl.parseScript(vh(e.value));s instanceof Xa&&(r instanceof Xa||r instanceof Fa)?e.expression=new gh(s,r):console.error(`${e.name}="${e.value}"" is not a valid MemberExpression or Identifier 'x.y.z'`)}function xh(e){const t=[];return El.visit(e,((e,s,r)=>{if("PipelineExpression"===s){const s=e.getRight();s instanceof Fa&&t.push(s.getName())}})),t.length?t:void 0}function Th(e){const t=e.name.startsWith("data-")?`this.dataset.${Eh(e.name.substring(5))}`:`this${wh(e.name)}`,s=nl.parseScript(t),r=nl.parseScript(vh(e.value));s instanceof Xa?e.expression=new fh(s,r):console.error(`${e.name} is not a valid MemberExpression 'x.y.z'`),e.pipelineNames=xh(r)}function kh(e){e.expression=nl.parseScript(e.value)}function Ch(e){e.inputs?.forEach(Th),e.outputs?.forEach(kh),e.twoWayBinding?.forEach(Ah),e.templateAttrs?.forEach(Th)}function Nh(e){e.inputs?.forEach(Th),e.outputs?.forEach(kh),e.twoWayBinding?.forEach(Ah),e.templateAttrs?.forEach(Th),e.attributeDirectives?.forEach(Ch)}function Oh(e){if(e instanceof Wi)Nh(e),Ih(e);else if(e instanceof Ki){let t=[];if(e.templateExpressions=t,e.value){const s=bh.parse(e.name.substring(1),e.value);if(t.push(...s.templateExpressions.map((e=>nl.parseScript(e)))),_h(e,t),s.directiveInputs.size>0){const t=da.getDirectiveRef(e.name);if(!t?.inputs?.length)return;e.inputs??=[],s.directiveInputs.forEach(((s,r)=>{const n=t?.inputs.find((e=>e.viewAttribute===r))?.modelProperty??r,i=new Bi(n,s);(e.inputs??=[]).push(i)}))}}else _h(e,t);Oh(e.node),Nh(e)}else $i(e)?function(e){const t=nl.parseScript(e.value);e.expression=new fh(Sh,t),e.pipelineNames=xh(t)}(e):e instanceof zi&&Ih(e)}function _h(e,t){const s=e.attributes?.filter((e=>e.name.startsWith("let-")));s?.forEach((s=>{e.attributes.splice(e.attributes.indexOf(s),1);const r=`let ${Eh(s.name.split("-").slice(1))} = ${"string"==typeof s.value?s.value:"$implicit"}`;t.push(nl.parseScript(r))}))}function Ih(e){e.children?.forEach(Oh)}function Ph(e){e instanceof zi?Ih(e):Oh(e)}function Rh(e){e.expression&&(e.expression=Ma(e.expression))}function Lh(e){e.expression&&(e.expression=Ma(e.expression),e.pipelineNames=xh(e.expression.getRight()))}function Dh(e){e.expression&&(e.expression=Ma(e.expression))}function Mh(e){e.inputs?.forEach(Lh),e.outputs?.forEach(Dh),e.twoWayBinding?.forEach(Rh),e.templateAttrs?.forEach(Lh)}function Fh(e){e.inputs?.forEach(Lh),e.outputs?.forEach(Dh),e.twoWayBinding?.forEach(Rh),e.templateAttrs?.forEach(Lh),e.attributeDirectives?.forEach(Mh)}function Bh(e){var t;e instanceof Wi?(Fh(e),jh(e)):e instanceof Ki?(e.templateExpressions=e.templateExpressions.map(Ma),Bh(e.node),Fh(e)):$i(e)?(t=e).expression&&(t.expression=Ma(t.expression),t.pipelineNames=xh(t.expression.getRight())):e instanceof zi&&jh(e)}function jh(e){e.children?.forEach(Bh)}const Hh={mode:"open",delegatesFocus:!1,slotAssignment:"named"};class $h{static EMPTY_LIST=Object.freeze([]);static emptyList(){return $h.EMPTY_LIST}static patchTemplate(e,t){if(e instanceof Wi&&e.templateRefName?.name){const s=t.find((t=>e.templateRefName?.name===t.templateRefName?.name));s?.outputs&&(e.outputs??=[]).push(...s.outputs)}e instanceof Ui&&e.children?.forEach((e=>$h.patchTemplate(e,t)))}static createOutputs(e){return e?.map((e=>`(${e.eventName})="${e.modelCallbackName}(${e.args.join(", ")})"`)).join(" ")??""}static parseHostNode(e){const t=e.hostBindings?.map((t=>{const s=Object.getOwnPropertyDescriptor(e.prototype,t.modelPropertyName);return"function"==typeof s?.value?`[${t.hostPropertyName}]="${t.modelPropertyName}()"`:`[${t.hostPropertyName}]="${t.modelPropertyName}"`})).join(" ")??"",s=[],r=[],n={};e.hostListeners?.forEach((e=>{const[t,i]=e.eventName.split(":",2);void 0===i?s.push(e):"window"===t.toLowerCase()?r.push(new ha(i,e.args,e.modelCallbackName)):(n[t]??=[]).push(new ha(i,e.args,e.modelCallbackName))}));const i={};if(s.length){const r=$h.createOutputs(s),n=e.selector??"div",a=`<${n} ${t} ${r}></${n}>`;i.host=ra.toDomRootNode(a),Ph(i.host)}if(r.length){const e=`<window ${$h.createOutputs(r)}></window>`;i.window=ra.toDomRootNode(e),Ph(i.window)}const a=Object.keys(n);if(a.length){const e=a.map((e=>`<template #${e} ${$h.createOutputs(n[e])}></template>`)).join(""),t=ra.toDomRootNode(e);Ph(t),i.template=t instanceof zi?t.children?.filter((e=>e instanceof Wi))??[]:[t]}return i}static defineDirective(e,t,s){if(Object.assign(s,t),s.hostListeners?.length||s.hostBindings?.length){const t=$h.parseHostNode({prototype:e.prototype,hostBindings:s.hostBindings,hostListeners:s.hostListeners});s.viewBindings=t.host}s.modelClass=e,da.registerDirective(e),Yi.register(t.selector,{inputs:s.inputs?.map((e=>e.viewAttribute)),outputs:s.outputs?.map((e=>e.viewAttribute))})}static definePipe(e,t,s){Object.assign(s,t),s.modelClass=e,da.registerPipe(e)}static defineService(e,t,s){Object.assign(s,t),s.modelClass=e,s.name=e.name,da.registerService(e)}static defineComponent(e,t,s){const r=Object.assign(s,t);if(r.extend=function(e){if(!e||""===e||"none"===e||"child"===e)return Ni;if(Ci(e)){const t=customElements.get(e);if(t)return{classRef:t};throw new Error("Custom Element is not defined yet")}for(const t of Oi)if(t.name===e)return t;return Ni}(t.extend),r.extendCustomElement=!!t.extend&&Ci(t.extend),"string"==typeof r.template){if(r.styles){const e=`<style>${r.styles}</style>${r.template}`;r.template=ra.toDomRootNode(e)}else r.template=ra.toDomRootNode(r.template);Ph(r.template)}else"object"==typeof r.template?Ph(r.template):"object"==typeof r.compiledTemplate&&(ra.deserializeNode(r.compiledTemplate),(n=r.compiledTemplate)instanceof zi?jh(n):Bh(n),r.template=r.compiledTemplate,r.compiledTemplate=void 0);var n,i;if(!r.template&&/template/g.test(r.encapsulation)){const e=document.querySelector("#"+r.selector);e&&e instanceof HTMLTemplateElement&&(r.template=ia.parse(e),Ph(r.template))}if(r.inputs||=$h.emptyList(),r.outputs||=$h.emptyList(),r.viewChild||=$h.emptyList(),r.ViewChildren||=$h.emptyList(),r.hostBindings||=$h.emptyList(),r.hostListeners||=$h.emptyList(),r.encapsulation||="custom",r.isShadowDom=/shadow/g.test(r.encapsulation),r.isShadowDom&&(r.shadowRootInit=Object.assign({},Hh,r.shadowRootInit??{})),r.hostListeners.length||r.hostBindings.length){const t=$h.parseHostNode({prototype:e.prototype,selector:r.selector,hostBindings:r.hostBindings,hostListeners:r.hostListeners});if(r.viewBindings=t.host,r.windowBindings=t.window,"function"==typeof r.template){const e=r.template;r.template=s=>{const r=e(s);return t.template&&$h.patchTemplate(r,t.template),r}}else t.template&&$h.patchTemplate(r.template,t.template)}!0!==r.formAssociated&&"function"!=typeof r.formAssociated&&(r.formAssociated=!1),r.isShadowDom&&r.extend.name&&(r.isShadowDom=!!Ci(i=r.extend.name)||Li.includes(i)),r.modelClass=e,r.viewClass=mh(e,r),da.registerComponent(e),da.registerView(r.viewClass);const a={},o=r.extend?.name;o&&"!"!==o&&-1===o.indexOf("-")&&(a.extends=o),customElements.define(r.selector,r.viewClass,a)}static defineView(e,t){da.registerView(e);const{selector:s,...r}=t;customElements.define(s,e,r)}}async function Vh(e){return fetch(e,{cache:"force-cache"}).then((t=>{if(!t.ok)throw new Error(`fetch ${e}, ${t}`);return t.text()}))}function Gh(e){return e.match(/^https?:\/\//g)?Vh(e):Vh(window.location.href+e)}function Jh(e,t,s){t.templateUrl?function(e){if("string"==typeof e)return Gh(e);if("object"==typeof e&&e.meta)return function(e){var t,s;return Vh((t=e.meta?.url,(s=e.filename)?t.substring(0,t.lastIndexOf("/")+1)+s:t.replace(".js",".html")))}(e);if("object"==typeof e&&e.filename)return Gh(e.filename);throw new Error("no url provided")}(t.templateUrl).then((r=>{r&&(t.template=r,$h.defineComponent(e,t,s))})).catch((s=>{console.error(`Error @URL: ${t.templateUrl}, for model Class: ${e.name},\n Reason: ${s}.`)})):$h.defineComponent(e,t,s)}vi(((e,t,s,r)=>{$h.definePipe(t,e,r)})),vi(((e,t,s,r)=>{$h.defineDirective(t,e,r)}));const Uh=vi(((e,t,s,r)=>{if(Array.isArray(e))for(const s of e)Jh(t,s,r);else"object"==typeof e&&Jh(t,e,r)}));vi(((e,t,s)=>{$h.defineView(t,e)})),(()=>{let e,s,r=[Uh({selector:"hello-app",template:'<div class="row"> <div class="col-12 mb-3"> <label for="name" class="form-label">Enter You Name:</label> <input id="name" type="text" class="form-control" [(value)]="name"> </div> <div class="col-12 mb-3"> hello {{name}}! </div> </div>'})],n=[];(class{static{s=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;(0,t.xE)(null,e={value:s},r,{kind:"class",name:s.name,metadata:i},null,n),s=e.value,i&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),(0,t.Co)(s,n)}name="jon"})})()})()})();